{"version":3,"file":"js/tableCanvas.64cbdf91.js","mappings":"iXA6BAA,EAAAA,EAAAA,KACE,IAAMC,EAAMC,QACZ,CAACC,EAAKC,KACAD,IAAQC,GACVC,GACF,IAGJ,MAAMC,GAAWC,EAAAA,EAAAA,IAAI,MACfF,EAAU,KACd,IAAIG,EAAMF,EAASG,OAASH,EAASG,MAAMC,WAAW,MACtDF,EAAIG,UAAU,EAAG,EAAGV,EAAMW,MAAOX,EAAMY,QACvCL,EAAIM,UAAU,EAAGb,EAAMY,QACvBL,EAAIO,MAAM,GAAI,GACdP,EAAIQ,UAAUf,EAAMC,MAAM,IAC1BM,EAAIG,UAAU,EAAG,EAAG,GAAI,IACxBV,EAAMC,MAAMe,SAAQC,IAClBV,EAAIW,UAAUD,GACdV,EAAIY,YAAc,OAClBZ,EAAIa,QAAQ,GACZ,E,OAEJC,EAAAA,EAAAA,KAAU,KACRjB,GAAS,I,sLCjDX,MAAMkB,EAAc,EAEpB,O,gHCHO,SAASC,EAAaC,GACzB,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAK,yBACLC,OAAQ,OACRC,KAAKJ,GAEb,C,0NCsBA,MAAMZ,GAASN,EAAAA,EAAAA,IAAI,IACbK,GAAQL,EAAAA,EAAAA,IAAI,IAEZuB,GAAYC,EAAAA,EAAAA,IAAS,CACzBC,QAAS,CACP,CACEC,MAAO,MACPC,UAAW,OAEb,CACED,MAAO,cACPC,UAAW,cACXC,OAAQ,EAAGC,aACF,aAAP,MAAyBA,EAAOC,YAAW,OAAUxB,EAAOJ,MAAK,MAASG,EAAMH,OAAK,OAGzF,CACEwB,MAAO,cACPC,UAAW,cACXC,OAAQ,EAAGC,aACF,aAAP,MAAyBA,EAAOE,YAAW,OAAUzB,EAAOJ,MAAK,MAASG,EAAMH,OAAK,OAGzF,CACEwB,MAAO,cACPC,UAAW,cACXC,OAAQ,EAAGC,aACF,aAAP,MAAyBA,EAAOG,YAAW,OAAU1B,EAAOJ,MAAK,MAASG,EAAMH,OAAK,QAI3FoB,KAAM,GACNW,SAAS,IAGLC,EAAUC,IACdZ,EAAUU,SAAU,EACpB,MAAMG,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASH,EAAOI,GAChCH,EAASE,OAAO,QAASH,EAAOK,GAChCvB,EAAamB,GACVK,MAAKC,IACa,QAAbA,EAAIC,OACND,EAAIpB,KAAKZ,SAAQ,CAACC,EAAMiC,KACtBjC,EAAKkC,IAAMD,CAAK,IAElBrB,EAAUD,KAAOoB,EAAIpB,KACvB,IAEDwB,SAAQ,KACPvB,EAAUU,SAAU,CAAK,GACzB,EAENC,EAAQ,CAAEK,EAAGlC,EAAMH,MAAOsC,EAAGlC,EAAOJ,QAEpC,MAAM6C,EAAa,KACjBb,EAAQ,CAAEK,EAAGlC,EAAMH,MAAOsC,EAAGlC,EAAOJ,OAAQ,E,0xBChF9C,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://oms-frontend/./src/components/canvasContainer.vue","webpack://oms-frontend/./src/components/canvasContainer.vue?bdf4","webpack://oms-frontend/./src/api/tableCanvas.js","webpack://oms-frontend/./src/views/demo/tableCanvas.vue","webpack://oms-frontend/./src/views/demo/tableCanvas.vue?cd4e"],"sourcesContent":["<template>\n  <canvas\n    :width=\"props.width\"\n    :height=\"props.height\"\n    ref=\"canvasEl\"\n    :style=\"{\n      padding: '10px',\n      backgroundColor: 'rgb(var(--arcoblue-1))',\n    }\"\n  ></canvas>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from \"vue\";\nconst props = defineProps({\n  // 折线路径数据\n  route: {\n    type: Array,\n    default: () => [],\n  },\n  height: {\n    type: Number,\n    default: 20,\n  },\n  width: {\n    type: Number,\n    default: 50,\n  },\n});\nwatch(\n  () => props.route,\n  (old, newProps) => {\n    if (old !== newProps) {\n      animate();\n    }\n  },\n);\nconst canvasEl = ref(null);\nconst animate = () => {\n  let ctx = canvasEl.value && canvasEl.value.getContext(\"2d\");\n  ctx.clearRect(0, 0, props.width, props.height);\n  ctx.translate(0, props.height);\n  ctx.scale(1, -1);\n  ctx.moveTo(...props.route[0]);\n  ctx.clearRect(0, 0, 50, 20);\n  props.route.forEach(item => {\n    ctx.lineTo(...item);\n    ctx.strokeStyle = \"blue\";\n    ctx.stroke();\n  });\n};\nonMounted(() => {\n  animate();\n});\n</script>\n","import script from \"./canvasContainer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./canvasContainer.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import request from '@/utils/request'\n\nexport function getLineChart(parameter) {\n    return request({\n        url: '/analysis/getLineChart',\n        method: 'post',\n        data:parameter,\n    })\n}\n","<template>\n  <div class=\"defaultPadding\">\n    <a-space>\n      <span>x轴(长/px)：</span>\n      <a-input-number v-model=\"width\" placeholder=\"请输入画布长\" :min=\"1\" class=\"w-200\" />\n      <span>Y轴(高/px)：</span>\n      <a-input-number v-model=\"height\" placeholder=\"请输入画布高\" :min=\"1\" class=\"w-200\" />\n      <a-button class=\"m-l-16\" type=\"primary\" @click=\"handleDraw\">\n        <template #icon>\n          <icon-edit />\n        </template>\n        <template #default>开始绘制</template>\n      </a-button>\n    </a-space>\n\n    <a-table\n      class=\"m-t-20\"\n      :columns=\"tableInfo.columns\"\n      :data=\"tableInfo.data\"\n      :loading=\"tableInfo.loading\"\n      :pagination=\"false\"\n    >\n    </a-table>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport canvasVue from \"../../components/canvasContainer.vue\";\nimport { getLineChart } from \"@/api/tableCanvas.js\";\nconst height = ref(20);\nconst width = ref(50);\n// 表格数据\nconst tableInfo = reactive({\n  columns: [\n    {\n      title: \"key\",\n      dataIndex: \"key\",\n    },\n    {\n      title: \"canvasLine1\",\n      dataIndex: \"canvasLine1\",\n      render: ({ record }) => {\n        return <canvasVue route={record.canvasLine1} height={height.value} width={width.value} />;\n      },\n    },\n    {\n      title: \"canvasLine2\",\n      dataIndex: \"canvasLine2\",\n      render: ({ record }) => {\n        return <canvasVue route={record.canvasLine2} height={height.value} width={width.value} />;\n      },\n    },\n    {\n      title: \"canvasLine3\",\n      dataIndex: \"canvasLine3\",\n      render: ({ record }) => {\n        return <canvasVue route={record.canvasLine3} height={height.value} width={width.value} />;\n      },\n    },\n  ],\n  data: [],\n  loading: false,\n});\n// 获取数据\nconst getList = params => {\n  tableInfo.loading = true;\n  const formData = new FormData();\n  formData.append(\"xAxis\", params.x);\n  formData.append(\"yAxis\", params.y);\n  getLineChart(formData)\n    .then(res => {\n      if (res.code === \"200\") {\n        res.data.forEach((item, index) => {\n          item.key = index;\n        });\n        tableInfo.data = res.data;\n      }\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n    });\n};\ngetList({ x: width.value, y: height.value });\n// 开始绘制\nconst handleDraw = () => {\n  getList({ x: width.value, y: height.value });\n};\n</script>\n<style scoped>\ncanvas {\n  position: relative;\n  top: 0px;\n  right: 0px;\n}\n</style>\n","import script from \"./tableCanvas.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./tableCanvas.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./tableCanvas.vue?vue&type=style&index=0&id=cb1f25ac&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cb1f25ac\"]])\n\nexport default __exports__"],"names":["watch","props","route","old","newProps","animate","canvasEl","ref","ctx","value","getContext","clearRect","width","height","translate","scale","moveTo","forEach","item","lineTo","strokeStyle","stroke","onMounted","__exports__","getLineChart","parameter","request","url","method","data","tableInfo","reactive","columns","title","dataIndex","render","record","canvasLine1","canvasLine2","canvasLine3","loading","getList","params","formData","FormData","append","x","y","then","res","code","index","key","finally","handleDraw"],"sourceRoot":""}