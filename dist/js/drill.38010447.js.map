{"version":3,"file":"js/drill.38010447.js","mappings":"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","sources":["webpack://oms-frontend/./src/components/scatterPlot.vue","webpack://oms-frontend/./src/components/scatterPlot.vue?0eb4","webpack://oms-frontend/./src/views/LeanAnalyze/drillAnalyze.vue","webpack://oms-frontend/./src/views/LeanAnalyze/drillAnalyze.vue?b44a"],"sourcesContent":["<template>\n  <div>\n    <div id=\"conversion\"></div>\n  </div>\n</template>\n<script setup>\nimport { onMounted, watch } from \"vue\";\nimport * as echarts from \"echarts\";\nconst props = defineProps({\n  seriesData: Array,\n  color: Array,\n});\nwatch(\n  () => [props.seriesData, props.color],\n  ([preSeries, preColor]) => {\n    getCharts(preSeries, preColor);\n  },\n);\nvar myChart;\nconst getCharts = (seriesData, color) => {\n  if (myChart != null && myChart != \"\" && myChart != undefined) {\n    myChart.dispose();\n  }\n  var chartDom = document.getElementById(\"conversion\");\n  myChart = echarts.init(chartDom);\n  var option;\n  option = {\n    // 颜色\n    color: color,\n    // 标签\n    legend: {\n      itemHeight: 15, //改变圆圈大小\n      top: \"center\",\n      right: \"right\",\n      //文字显示的颜色和字体大小\n      textStyle: {\n        color: \"black\",\n        fontSize: 12,\n      },\n    },\n    // 图形整体宽高\n    grid: {\n      left: \"10%\",\n      right: \"15%\",\n      top: \"18%\",\n    },\n    // 提示\n    tooltip: {\n      //十字线\n      axisPointer: {\n        type: \"cross\",\n      },\n      padding: 10,\n      borderColor: \"rgb(233, 234, 235)\",\n      //设置tooltip的显示内容\n      formatter: function (obj) {\n        var value = obj.value;\n        var str = `<div style=\"border-bottom: 1px solid rgba(255,255,255,.3);\">\n          <span>${value[2]}</span>\n          </div>`;\n        return str;\n      },\n    },\n    // x轴\n    xAxis: {\n      type: \"value\",\n      name: \"销售收入/元\",\n      nameGap: 16,\n      splitLine: {\n        show: false,\n      },\n    },\n    // y轴\n    yAxis: {\n      type: \"value\",\n      name: \"销售毛利/元\",\n      nameLocation: \"end\",\n      nameGap: 20,\n      splitLine: {\n        show: false,\n      },\n    },\n    // 展示数据\n    series: seriesData,\n  };\n  option && myChart.setOption(option);\n};\nonMounted(() => {\n  getCharts(props.seriesData, props.color);\n});\n</script>\n<style scoped>\n#conversion {\n  max-width: 90%;\n  height: 680px;\n  top: -50px;\n}\n</style>\n","import script from \"./scatterPlot.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./scatterPlot.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./scatterPlot.vue?vue&type=style&index=0&id=fa0df8b4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fa0df8b4\"]])\n\nexport default __exports__","<template>\n  <div v-show=\"currentLevel === 'level1'\" class=\"defaultPadding\">\n    <div class=\"m-b-26 flex-between\">\n      <div class=\"flex m-r-24\">\n        <div class=\"m-r-24\">\n          月份：\n          <a-month-picker\n            v-model=\"dateNow\"\n            style=\"width: 120px; border-radius: 4px\"\n            :allow-clear=\"false\"\n            :disabledDate=\"disabledDateFn\"\n            @change=\"monthPickChange\"\n          />\n        </div>\n        <a-radio-group\n          type=\"button\"\n          size=\"large\"\n          v-model=\"level1CheckedValue\"\n          @change=\"radioCheckedChange\"\n          :disabled=\"level1RadioDisabled\"\n        >\n          <a-radio v-for=\"item of tableInfo.level1.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n        </a-radio-group>\n      </div>\n      <a-space>\n        <a-popconfirm content=\"确定导出全部吗?\" @ok=\"level1ExportAll\">\n          <a-button type=\"outline\" :loading=\"level1ExportAllLoading\" style=\"border-radius: 4px\">\n            <template #icon>\n              <icon-download />\n            </template>\n            <template #default>导出全部</template>\n          </a-button>\n        </a-popconfirm>\n        <a-popconfirm content=\"确定导出本页吗?\" @ok=\"level1ExportCurrentPage\">\n          <a-button type=\"primary\" :loading=\"level1ExportLoading\" style=\"border-radius: 4px\">\n            <template #icon>\n              <icon-download />\n            </template>\n            <template #default>导出本页</template>\n          </a-button>\n        </a-popconfirm>\n      </a-space>\n    </div>\n    <a-table\n      :row-class=\"rowClass\"\n      :columns=\"tableInfo.level1.columns[level1CheckedValue] || []\"\n      :data=\"tableInfo.level1.data\"\n      :bordered=\"false\"\n      column-resizable\n      :expanded-keys=\"tableInfo.level1.defaultExpandedKeys\"\n      :scroll=\"{ maxHeight: tableInfo.level1.maxHeight }\"\n      :scrollbar=\"false\"\n      :pagination=\"false\"\n      :loading=\"tableInfo.loading\"\n      ref=\"level1tableRef\"\n      @expanded-change=\"expandedChange\"\n    >\n      <template #lastDeptName=\"{ record }\">\n        <a-popover\n          v-if=\"currentLevel === 'level1'\"\n          :content-style=\"{ background: 'rgba(0,0,0,.8)', color: '#fff' }\"\n          :arrow-style=\"{ background: 'rgba(0,0,0,.8)' }\"\n        >\n          <a href=\"javaScript:void(0)\" v-if=\"record.leafNode === '1'\" style=\"color: #165dff\" @click=\"jump('level2', record)\">\n            {{ record.lastDeptName }}\n          </a>\n          <span class=\"pointer\" v-else>{{ record.lastDeptName }}</span>\n          <template #content>\n            {{ record.deptName }}\n          </template>\n        </a-popover>\n      </template>\n      <template #columTitleSlot=\"{ column }\">\n        <a-tooltip style=\"width: max-content\" :content=\"column.title\">\n          <a href=\"javaScript:void(0)\" style=\"color: #333\">{{ column.title }}</a>\n        </a-tooltip>\n      </template>\n      <template #empty>\n        <a-empty />\n      </template>\n    </a-table>\n  </div>\n  <div v-show=\"currentLevel === 'level2'\" class=\"defaultPadding\">\n    <div class=\"m-b-26 flex-between\">\n      <div class=\"m-r-24\">\n        <a-radio-group\n          type=\"button\"\n          size=\"large\"\n          v-model=\"level2CheckedValue\"\n          @change=\"level2RadioCheckedChange\"\n          :disabled=\"level2RadioDisabled\"\n        >\n          <a-radio v-for=\"item of tableInfo.level2.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n        </a-radio-group>\n      </div>\n      <div>\n        <a-button\n          type=\"outline\"\n          :disabled=\"level2CheckedArr.length === 0\"\n          style=\"border-radius: 4px\"\n          class=\"m-r-24\"\n          @click=\"level2SetRole\"\n        >\n          <template #icon>\n            <icon-user />\n          </template>\n          <template #default>设置角色</template>\n        </a-button>\n        <a-popconfirm content=\"确定导出本页吗?\" @ok=\"level2ExportAll\">\n          <a-button type=\"primary\" :loading=\"level2ExportLoading\" style=\"border-radius: 4px\">\n            <template #icon>\n              <icon-download />\n            </template>\n            <template #default>导出本页</template>\n          </a-button>\n        </a-popconfirm>\n      </div>\n    </div>\n    <a-table\n      :row-class=\"rowClass\"\n      :columns=\"tableInfo.level2.columns[level2CheckedValue] || []\"\n      :data=\"tableInfo.level2.data\"\n      :bordered=\"false\"\n      column-resizable\n      :expanded-keys=\"tableInfo.level2.defaultExpandedKeys\"\n      :scroll=\"{ maxHeight: tableInfo.level2.maxHeight }\"\n      :scrollbar=\"false\"\n      :pagination=\"false\"\n      :loading=\"tableInfo.loading\"\n      ref=\"level2tableRef\"\n      @expanded-change=\"expandedChange\"\n    >\n      <template #title=\"{ record }\">\n        <a-checkbox\n          class=\"m-r-8\"\n          style=\"vertical-align: middle\"\n          v-if=\"record.leafNode === '1'\"\n          :model-value=\"level2CheckedArr.length > 0 && level2CheckedArr.findIndex(item => item.id === record.id) !== -1\"\n          @change=\"level2CheckboxChange($event, record)\"\n        />\n        <a-popover\n          v-if=\"currentLevel === 'level2'\"\n          :content-style=\"{ background: 'rgba(0,0,0,.8)', color: '#fff' }\"\n          :arrow-style=\"{ background: 'rgba(0,0,0,.8)' }\"\n        >\n          <a href=\"javaScript:void(0)\" v-if=\"record.leafNode === '1'\" style=\"color: #165dff\" @click=\"jump('level3', record)\">\n            {{ record.title }}\n          </a>\n          <span class=\"pointer\" v-else>{{ record.title }}</span>\n          <template #content>\n            {{ record.title }}\n          </template>\n        </a-popover>\n      </template>\n      <template #empty>\n        <a-empty />\n      </template>\n    </a-table>\n  </div>\n  <div v-show=\"currentLevel === 'level3'\">\n    <div class=\"level3Header\">\n      <div class=\"w-perct-80\">\n        <a-space wrap :size=\"[20, 0]\">\n          <div class=\"item\">\n            <span>项目营业收入：</span>\n            {{ toInteger(level3HeaderData.colNo5, 0) }}\n          </div>\n          <div class=\"item\">\n            <span>项目销售毛利：</span>\n            {{ toInteger(level3HeaderData.colNo8, 0) }}\n          </div>\n          <div class=\"item\">\n            <span>项目销售毛利率：</span>\n            {{ number2percentage(level3HeaderData.colNo9, 2) }}\n          </div>\n          <div class=\"item\">\n            <span>项目C1总人数：</span>\n            {{ toInteger(level3HeaderData.colNo1, 0) }}\n          </div>\n          <div class=\"item\">\n            <span>项目人员利用率：</span>\n            {{ number2percentage(level3HeaderData.colNo3, 2) }}\n          </div>\n        </a-space>\n      </div>\n      <div>\n        <a-radio-group type=\"button\" size=\"large\" v-model:model-value=\"level3TabSelect\" @change=\"changeDataType\">\n          <a-radio value=\"list\">列表</a-radio>\n          <a-radio value=\"chart\">看图</a-radio>\n        </a-radio-group>\n      </div>\n    </div>\n    <div class=\"defaultPadding\" v-if=\"dataType == 'list'\">\n      <div class=\"m-b-20\">\n        集团/客户/项目 :\n        {{ level3HeaderData.groupCustomerName + \" / \" + level3HeaderData.customerName + \" / \" + level3HeaderData.title }}\n        <!-- <a href=\"javaScript:void(0)\" style=\"color: #165dff\">\n          {{ level3HeaderData.groupCustomerName }}\n        </a>\n        /\n        <a href=\"javaScript:void(0)\" style=\"color: #165dff\">\n          {{ level3HeaderData.customerName }}\n        </a>\n        /\n        <a href=\"javaScript:void(0)\" style=\"color: #165dff\">\n          {{ level3HeaderData.title }}\n        </a> -->\n      </div>\n      <div class=\"m-b-20 flex-between\">\n        <div>\n          <a-radio-group\n            type=\"button\"\n            size=\"large\"\n            v-model=\"level3CheckedValue\"\n            :disabled=\"level3RadioDisabled\"\n            @change=\"level3RadioCheckedChange\"\n          >\n            <a-radio v-for=\"item of tableInfo.level3.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n          </a-radio-group>\n        </div>\n        <div>\n          <a-space>\n            <a-popconfirm content=\"确定导出本页吗?\" @ok=\"level3Export\">\n              <a-button type=\"primary\" class=\"m-l-14\" :loading=\"level3ExportLoading\">\n                <template #icon>\n                  <icon-export />\n                </template>\n                <template #default>导出本页</template>\n              </a-button>\n            </a-popconfirm>\n          </a-space>\n        </div>\n      </div>\n      <a-table\n        :row-class=\"rowClass\"\n        :columns=\"tableInfo.level3.columns[level3CheckedValue] || []\"\n        :data=\"tableInfo.level3.data\"\n        :bordered=\"false\"\n        column-resizable\n        :expanded-keys=\"tableInfo.level3.defaultExpandedKeys\"\n        :scroll=\"{ maxHeight: tableInfo.level3.maxHeight }\"\n        :scrollbar=\"false\"\n        :pagination=\"false\"\n        :loading=\"tableInfo.loading\"\n        ref=\"level3tableRef\"\n        @expanded-change=\"expandedChange\"\n      >\n        <template #position=\"{ record }\">\n          <a-popover\n            v-if=\"currentLevel === 'level3'\"\n            :content-style=\"{ background: 'rgba(0,0,0,.8)', color: '#fff' }\"\n            :arrow-style=\"{ background: 'rgba(0,0,0,.8)' }\"\n          >\n            <span class=\"pointer\">{{ record.position }}</span>\n            <template #content>\n              {{ record.position }}\n            </template>\n          </a-popover>\n        </template>\n        <template #empty>\n          <a-empty />\n        </template>\n      </a-table>\n    </div>\n    <div v-if=\"dataType == 'chart'\">\n      <a-space class=\"chartSelect\">\n        <span>颜色维度：</span>\n        <a-select v-model=\"type\" placeholder=\"请选择\" @change=\"changeType\" style=\"width: 120px\">\n          <a-option v-for=\"item in typeList\" :value=\"item.label\" :key=\"item.label\">{{ item.value }}</a-option>\n        </a-select>\n        <a-tooltip style=\"width: max-content\">\n          <template #content>\n            <div>选项说明:</div>\n            <div>1、出勤=月实际工时天数+法定节假日-实际发薪天数</div>\n          </template>\n          <icon-info-circle-fill size=\"20\" style=\"color: #a9aeb8\" />\n        </a-tooltip>\n      </a-space>\n      <a-spin :loading=\"spinLoading\" tip=\"正在加载...\" style=\"display: block\">\n        <scatterPlot :seriesData=\"data\" :color=\"color\" />\n      </a-spin>\n    </div>\n  </div>\n  <a-modal v-model:visible=\"setRoleModal.visible\" width=\"680px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">设置项目行为角色</span>\n    </template>\n    <div class=\"flex-center\">\n      <a-spin :loading=\"setRoleModal.loading\" tip=\"数据加载中。。。\">\n        <a-space direction=\"vertical\" :size=\"24\">\n          <div v-for=\"(item, index) of setRoleModal.roles\" :key=\"index\">\n            <span class=\"modal-label\">{{ item.label }}：</span>\n            <a-select\n              :options=\"setRoleModal.selectOptions\"\n              :style=\"{ width: '378px' }\"\n              placeholder=\"输入并选择项目经理角色\"\n              v-model:model-value=\"item.value\"\n              allow-search\n              :virtual-list-props=\"{ height: 200 }\"\n            >\n              <template #arrow-icon>\n                <icon-down />\n              </template>\n            </a-select>\n          </div>\n        </a-space>\n      </a-spin>\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"outline\" class=\"m-r-24\" :disabled=\"setRoleModal.loading\" @click=\"setRoleCancel\">取消</a-button>\n        <a-button type=\"primary\" :disabled=\"setRoleModal.loading\" :loading=\"setRoleModal.confirmBtnLoading\" @click=\"setRoleOk\">\n          确定\n        </a-button>\n      </div>\n    </template>\n  </a-modal>\n  <a-modal v-model:visible=\"blocInfoModal.visible\" width=\"760px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">详情-集团客户</span>\n    </template>\n    <div>\n      <div class=\"blocInfoModal-content-title\">集团客户名称：集团客户-三星</div>\n      <a-table\n        :columns=\"blocInfoModal.tableColumns\"\n        :data=\"blocInfoModal.tableData\"\n        :bordered=\"{ cell: true }\"\n        :pagination=\"false\"\n      ></a-table>\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"primary\" @click=\"blocInfoModalOk\">知道了</a-button>\n      </div>\n    </template>\n  </a-modal>\n  <a-modal v-model:visible=\"customerModal.visible\" width=\"784px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">详情-客户</span>\n    </template>\n    <div class=\"m-b-30\">\n      <div class=\"customerModal-content-title\">基本信息</div>\n      <a-descriptions\n        :column=\"customerModal.basicColumn\"\n        :data=\"customerModal.basicData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <div>\n      <div class=\"customerModal-content-title\">人员信息</div>\n      <a-descriptions\n        :column=\"customerModal.staffColumn\"\n        :data=\"customerModal.staffData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"primary\">知道了</a-button>\n      </div>\n    </template>\n  </a-modal>\n  <a-modal v-model:visible=\"projectModal.visible\" width=\"784px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">详情-项目</span>\n    </template>\n    <div class=\"m-b-30\">\n      <div class=\"customerModal-content-title\">基本信息</div>\n      <a-descriptions\n        :column=\"projectModal.basicColumn\"\n        :data=\"projectModal.basicData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <div class=\"m-b-30\">\n      <div class=\"customerModal-content-title\">人员信息</div>\n      <a-descriptions\n        :column=\"projectModal.staffColumn\"\n        :data=\"projectModal.staffData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <div>\n      <div class=\"customerModal-content-title\">经营信息</div>\n      <a-descriptions\n        :column=\"projectModal.manageColumn\"\n        :data=\"projectModal.manageData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"primary\">知道了</a-button>\n      </div>\n    </template>\n  </a-modal>\n</template>\n\n<script setup>\nimport { onBeforeMount, reactive, ref, watchEffect, nextTick, toRaw, onUnmounted, markRaw } from \"vue\";\nimport { Message } from \"@arco-design/web-vue\";\nimport scatterPlot from \"@/components/scatterPlot.vue\";\nimport { useTagColumnListStore } from \"../../store/index\";\nimport {\n  queryCoreData,\n  queryDownDrillSecond,\n  queryDownDrillThird,\n  countWorkdaysByMonth,\n  queryScatterDiagram,\n  listByProjectNo,\n  queryLikeDept,\n  save,\n  empExportExcel,\n  bgExportExcel,\n  cuPoExportExcel,\n  downAllExcel,\n} from \"../../api/drillAnalyze\";\nimport { number2percentage, toInteger, dataAddKey, getCurrentDate, encrypt } from \"../../utils/util\";\nimport { getCurrentInstance } from \"@vue/runtime-core\";\nimport moment from \"moment\";\n\nlet $bus = getCurrentInstance().appContext.config.globalProperties.$bus;\n\n// 第三层tab\nconst level3TabSelect = ref(\"list\");\nlet level3HeaderContent = [];\n/************* 下钻分析列信息************** */\nlet tagColumnList = useTagColumnListStore();\nlet level3ProjectCode = \"\"; //下钻三层的项目编码\n\nlet level2Record = {}; //点击下钻时的数据\nlet level3Record = {};\nlet columConfig = {};\n// 颜色维度列表\nconst typeList = ref([\n  {\n    label: 1,\n    value: \"出勤\",\n  },\n  {\n    label: 2,\n    value: \"入职日期\",\n  },\n]);\n// 颜色维度\nconst type = ref(1);\n// 数据\nconst data = ref([]);\n// 颜色种类\nconst color = ref([]);\n// 看图 & 列表\nconst dataType = ref(\"list\");\n\n//禁止选择2022(含)年之前的月份\nconst disabledDateFn = current => {\n  return current.valueOf() < moment(\"2023-01-01 00:00:00\").valueOf();\n};\nconst level3HeaderData = ref({});\nconst columns = () => {\n  let tagColumns = toRaw(tagColumnList.getTagColumnList) || [];\n  let currentPageColumn = tagColumns.filter(item => item.report === \"下钻分析\") || [];\n  if (currentPageColumn.length) {\n    currentPageColumn[0].tier.forEach((item, index) => {\n      let tabs = [];\n      let currentPageColumn = {};\n      item.tags.forEach(jtem => {\n        tabs.push(jtem.tag);\n        let columnItem = [];\n        jtem.columns.forEach(ktem => {\n          let { col, conf, title } = ktem;\n          conf = conf || {};\n          let columnItemConfig = {\n            title,\n            dataIndex: col,\n            align: conf.align,\n            cellStyle: { \"text-align\": conf.cellAlign },\n            width: conf.width,\n            ellipsis: true,\n            headerCellClass: \"noEllipsis\",\n            slotName: col,\n            titleSlotName: \"columTitleSlot\",\n          };\n          if (conf.fixed !== undefined) {\n            columnItemConfig.fixed = conf.fixed;\n          }\n          if (conf.toFixed !== undefined) {\n            if (conf.showPercent) {\n              columnItemConfig.render = ({ record }) => {\n                return <span innerHTML={number2percentage(record[col], conf.toFixed, conf.isRed)}></span>;\n              };\n            } else {\n              columnItemConfig.render = ({ record }) => {\n                return <span innerHTML={toInteger(record[col], conf.toFixed, conf.isRed)}></span>;\n              };\n            }\n          }\n          columnItem.push(columnItemConfig);\n        });\n        currentPageColumn[jtem.tag.key] = columnItem;\n      });\n      columConfig[\"level\" + (index + 1)] = {\n        tabs,\n        params: item.params || [],\n        columns: currentPageColumn,\n      };\n    });\n  }\n  let { level1, level2, level3 } = columConfig;\n  level1CheckedValue.value = level1.tabs[0].key;\n  level2CheckedValue.value = level2.tabs[1].key;\n  level3CheckedValue.value = level3.tabs[1].key;\n  tableInfo.level1.tabs = level1.tabs;\n  tableInfo.level1.columns = level1.columns;\n  tableInfo.level2.tabs = level2.tabs;\n  tableInfo.level2.columns = level2.columns;\n  tableInfo.level3.tabs = level3.tabs;\n  tableInfo.level3.columns = level3.columns;\n};\n/************* 下钻分析列信息************** */\n\n/***************获取当前月份********************* */\nconst currentLevel = ref(\"level1\"); //level2,level3\nlet { year, month } = getCurrentDate();\n\nlet currentDate = `${year}-${month}`;\nconst dateNow = ref(currentDate);\n/***************获取当前月份********************* */\n\n/****************** 获取当月工作日天数************************** */\nconst currentMonthDay = ref(0);\nconst getCurrentMonthWorkday = () => {\n  const params = {\n    month: dateNow.value,\n  };\n  countWorkdaysByMonth(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        currentMonthDay.value = res.data;\n      }\n    })\n    .catch(() => {\n      Message.error(\"请求失败\");\n    });\n};\n\n/****************** 标签表格配置信息************************** */\nconst level1CheckedValue = ref(\"coreData\");\nconst level1RadioDisabled = ref(true);\nconst level2CheckedValue = ref(\"coreData2\");\nconst level2RadioDisabled = ref(true);\nconst level3CheckedValue = ref(\"empInfo\");\nconst level3RadioDisabled = ref(true);\n\nconst tableInfo = reactive({\n  loading: false,\n  level1: {\n    tabs: [],\n    columns: {},\n    data: [],\n    defaultExpandedKeys: [],\n    maxHeight: \"200px\",\n  },\n  level2: {\n    tabs: [],\n    columns: {},\n    data: [],\n    defaultExpandedKeys: [],\n    maxHeight: \"200px\",\n  },\n  level3: {\n    tabs: [],\n    columns: {},\n    data: [],\n    defaultExpandedKeys: [],\n    maxHeight: \"200px\",\n  },\n});\n/****************** 标签表格配置信息************************** */\n\n/***************** 计算表格自适应高度************************ */\nconst level1tableRef = ref(null);\nconst level2tableRef = ref(null);\nconst level3tableRef = ref(null);\n\n/***************** 计算表格自适应高度************************ */\n\n/******************* 月份改变重新请求数据**************************** */\nconst monthPickChange = value => {\n  dateNow.value = value;\n  getCurrentMonthWorkday();\n  level1Data(level1CheckedValue.value);\n};\n/******************* 月份改变重新请求数据**************************** */\nonBeforeMount(() => {\n  if(month =='00'){\n    currentDate = `${year-1}-12`;\n    dateNow.value =currentDate;\n  }\n  columns();\n  level1Data(level1CheckedValue.value);\n  getCurrentMonthWorkday();\n});\n\n/**************** 表格偶数层级指定背景色************************** */\nconst rowClass = record => {\n  if (record.raw.deptLevel % 2 === 0) {\n    return \"row-gray\";\n  }\n};\nconst level3RadioCheckedChange = val => {\n  level3Data(val);\n};\n/******************** 根据所选标签请求表格数据*************************** */\nconst level1Data = tagKey => {\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    month,\n    tagKey,\n  };\n  tableInfo.loading = true;\n  level1RadioDisabled.value = true;\n  queryCoreData(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        let data = dataAddKey(res.data, \"key\", \"id\");\n        let keys = [];\n        res.data.forEach(item => keys.push(item.id));\n        tableInfo.level1.defaultExpandedKeys = keys;\n        tableInfo.level1.data = data;\n        if (level1tableRef.value) {\n          let head = level1tableRef.value.$el;\n          let elHeight = head.getBoundingClientRect().top;\n          let innerHeight = window.innerHeight;\n          tableInfo.level1.maxHeight = innerHeight - elHeight + \"px\";\n          nextTick(() => {\n            let layoutContent = document.getElementById('a-layout-main')\n            if(layoutContent){\n              let diff = layoutContent.scrollHeight - layoutContent.offsetHeight\n              tableInfo.level1.maxHeight = parseInt(tableInfo.level1.maxHeight)-diff+'px'\n            }\n          });\n        }\n      } else {\n        tableInfo.level1.data = [];\n        Message.error(res.desc || \"请求数据失败\");\n      }\n    })\n    .catch(err => {\n      Message.error(err.message || \"请求数据失败\");\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n      level1RadioDisabled.value = false;\n    });\n};\nlet level2keys = [];\nfunction expandAllRows(arr) {\n  arr.forEach(item => {\n    level2keys.push(item.title);\n    if (item.children && item.children.length) {\n      expandAllRows(item.children);\n    }\n  });\n}\nconst level2Data = tagKey => {\n  tableInfo.loading = true;\n  level2RadioDisabled.value = true;\n  $bus.emit(\"goBackDisabled\", true);\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    deptId: level2Record.id,\n    month,\n    tagKey,\n  };\n  Array.isArray(columConfig.level1.params) &&\n    columConfig.level1.params.forEach(item => {\n      params[item] = encrypt(level2Record[item]);\n      if (level2Record[item] === undefined || level2Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  queryDownDrillSecond(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        let data = dataAddKey(res.data, \"key\", \"title\");\n        expandAllRows(res.data);\n        tableInfo.level2.defaultExpandedKeys = level2keys;\n        tableInfo.level2.data = data;\n        if (level2CheckedValue.value !== \"financeManage2\") {\n          level3HeaderContent = data;\n        }\n        if (level2tableRef.value) {\n          let head = level2tableRef.value.$el;\n          let innerHeight = window.innerHeight;\n          let elHeight = head.getBoundingClientRect().top;\n          tableInfo.level2.maxHeight = innerHeight - elHeight + \"px\";\n        }\n        nextTick(() => {\n          let layoutContent = document.getElementById('a-layout-main')\n          if(layoutContent){\n            let diff = layoutContent.scrollHeight - layoutContent.offsetHeight\n            tableInfo.level2.maxHeight = parseInt(tableInfo.level2.maxHeight)-diff+'px'\n          }\n        });\n      } else {\n        tableInfo.level2.data = [];\n        Message.error(res.desc || \"操作失败\");\n      }\n    })\n    .catch(err => {\n      Message.error(err.message || \"请求数据失败\");\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n      level2RadioDisabled.value = false;\n      $bus.emit(\"goBackDisabled\", false);\n    });\n};\nconst level3Data = tagKey => {\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    projectCode: level3ProjectCode,\n    deptId: level2Record.id,\n    month,\n    tagKey,\n  };\n  Array.isArray(columConfig.level2.params) &&\n    columConfig.level2.params.forEach(item => {\n      params[item] = encrypt(level3Record[item]);\n      if (level3Record[item] === undefined || level3Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  tableInfo.loading = true;\n  level3RadioDisabled.value = true;\n  $bus.emit(\"goBackDisabled\", true);\n  queryDownDrillThird(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        let data = dataAddKey(res.data, \"key\", \"id\");\n        let keys = [];\n        res.data.forEach(item => keys.push(item.id));\n        tableInfo.level3.defaultExpandedKeys = keys;\n        tableInfo.level3.data = data;\n        if (level3tableRef.value) {\n          let head = level3tableRef.value.$el;\n          let innerHeight = window.innerHeight;\n          let elHeight = head.getBoundingClientRect().top;\n          tableInfo.level3.maxHeight = innerHeight - elHeight + \"px\";\n        }\n        nextTick(() => {\n          let layoutContent = document.getElementById('a-layout-main')\n          if(layoutContent){\n            let diff = layoutContent.scrollHeight - layoutContent.offsetHeight\n            tableInfo.level3.maxHeight = parseInt(tableInfo.level3.maxHeight)-diff+'px'\n          }\n        });\n      } else {\n        tableInfo.level3.data = [];\n        Message.error(res.desc || \"请求数据失败\");\n      }\n    })\n    .catch(err => {\n      Message.error(err.message || \"请求数据失败\");\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n      level3RadioDisabled.value = false;\n      $bus.emit(\"goBackDisabled\", false);\n    });\n  getList(type.value);\n};\n/******************** 根据所选标签请求表格数据*************************** */\n\n/***************** 标签点击切换请求数据************************** */\nconst radioCheckedChange = val => {\n  level1Data(val);\n};\n\nconst level2RadioCheckedChange = val => {\n  level2Data(val);\n};\n/***************** 标签点击切换请求数据************************** */\nwatchEffect(() => {\n  $bus.emit(\"updateStructure\", [\n    { type: \"text\", color: \"#333\", msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)` },\n  ]);\n});\n\n/**************** 监听点击返回上一层***************************** */\n$bus.on(\"goBack\", val => {\n  currentLevel.value = val;\n  switch (val) {\n    case \"level1\":\n      let breadList1 = [\n        { type: \"text\", color: \"#333\", msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)` },\n      ];\n      $bus.emit(\"updateStructure\", breadList1);\n      //level1Data(level1CheckedValue.value)\n      break;\n    case \"level2\":\n      let breadList2 = [\n        {\n          type: \"button\",\n          color: \"#5370FD\",\n          msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)`,\n          params: \"level1\",\n        },\n        {\n          type: \"text\",\n          color: \"#333\",\n          msg: level2Record.deptName,\n        },\n      ];\n      $bus.emit(\"updateStructure\", breadList2);\n      break;\n    default:\n      break;\n  }\n});\nonUnmounted(() => {\n  $bus.off(\"goBack\");\n});\n/**************** 监听点击返回上一层***************************** */\n\n/***********************点击跳转下钻层级********************************** */\nconst jump = (val, record) => {\n  currentLevel.value = val;\n  if (val === \"level2\") {\n    level2Record = record;\n    level2Data(level2CheckedValue.value);\n    let breadList = [\n      {\n        type: \"button\",\n        color: \"#5370FD\",\n        msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)`,\n        params: \"level1\",\n      },\n      {\n        type: \"text\",\n        color: \"#333\",\n        msg: level2Record.deptName,\n      },\n    ];\n    $bus.emit(\"updateStructure\", breadList);\n    level2CheckedArr.value = [];\n  }\n  if (val === \"level3\") {\n    level3ProjectCode = record.projectNo;\n    level3Record = record;\n    let { groupCustomerName, customerName, title } = record;\n    let level3HeaderDataArr1 = level3HeaderContent.filter(item => item.title === groupCustomerName);\n    let level3HeaderDataArr2 =\n      level3HeaderDataArr1 && level3HeaderDataArr1[0]?.children.filter(item => item.title === customerName);\n    let level3HeaderDataArr3 = level3HeaderDataArr2 && level3HeaderDataArr2[0]?.children.filter(item => item.title === title);\n    level3HeaderData.value = (level3HeaderDataArr3 && level3HeaderDataArr3[0]) || {};\n    level3Data(level3CheckedValue.value);\n    let breadList = [\n      {\n        type: \"button\",\n        color: \"#5370FD\",\n        msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)`,\n        params: \"level1\",\n      },\n      {\n        type: \"button\",\n        color: \"#5370FD\",\n        msg: level2Record.deptName,\n        params: \"level2\",\n      },\n      {\n        type: \"text\",\n        color: \"#333\",\n        msg: `项目： ${record.title}`,\n      },\n    ];\n    $bus.emit(\"updateStructure\", breadList);\n  }\n};\n/***********************点击跳转下钻层级********************************** */\n\n/*************************表格树结构展开切换******************************************** */\nconst expandedChange = rowKeys => {\n  tableInfo[currentLevel.value].defaultExpandedKeys = rowKeys;\n};\n/*************************表格树结构展开切换******************************************** */\nconst spinLoading = ref(false);\n// 获取散点图数据\nconst getList = value => {\n  spinLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    projectCode: level3ProjectCode,\n    deptId: level2Record.id,\n    month,\n    tagKey: level3CheckedValue.value,\n    type: value,\n  };\n  Array.isArray(columConfig.level2.params) &&\n    columConfig.level2.params.forEach(item => {\n      params[item] = encrypt(level3Record[item]);\n      if (level3Record[item] === undefined || level3Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  // 接口数据\n  queryScatterDiagram(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        data.value = res.data;\n        // 每个点的样式\n        var itemStyle = {\n          //设置圆形的样式\n          shadowBlur: 10,\n          shadowColor: \"rgba(120, 36, 50, 0.5)\",\n          shadowOffsetY: 5,\n        };\n        data.value.forEach(item => {\n          item.type = \"scatter\";\n          item.itemStyle = itemStyle;\n          item.symbolSize = 15;\n        });\n      }\n      if (value === 1) {\n        color.value = [\"#503e6a\", \"#fec42c\", \"#f96f0d\", \"#dd4444\"];\n      } else {\n        color.value = [\"#f6d91d\", \"#fec42c\", \"#fb954d\", \"#f6682c\", \"#f81313\", \"#7d1d07\"];\n      }\n    })\n    .catch(e => {\n      Message.error(e.message || \"数据请求失败\");\n    })\n    .finally(() => {\n      spinLoading.value = false;\n    });\n};\n// 更改颜色维度\nconst changeType = value => {\n  type.value = value;\n  getList(value);\n};\n//更改看图 列表\nconst changeDataType = value => {\n  dataType.value = value;\n};\n\n/**************** 设置角色******************** */\nconst level2CheckedArr = ref([]);\nconst level2CheckboxChange = (bool, record) => {\n  let index = level2CheckedArr.value.findIndex(item => item.id === record.id);\n  if (bool) {\n    if (level2CheckedArr.value.length > 0) {\n      if (index === -1) {\n        level2CheckedArr.value.push(toRaw(record));\n      }\n    } else {\n      level2CheckedArr.value.push(toRaw(record));\n    }\n  } else {\n    if (level2CheckedArr.value.length > 0) {\n      if (index !== -1) {\n        level2CheckedArr.value.splice(index, 1);\n      }\n    }\n  }\n};\nconst setRoleModal = reactive({\n  visible: false,\n  selectOptions: [],\n  loading: false,\n  roles: [\n    {\n      label: \"项目经理角色\",\n      value: undefined,\n    },\n    {\n      label: \"收入上报角色\",\n      value: undefined,\n    },\n    {\n      label: \"薪资异动上报角色\",\n      value: undefined,\n    },\n    {\n      label: \"考勤上报角色\",\n      value: undefined,\n    },\n  ],\n  confirmBtnLoading: false,\n});\nconst level2SetRole = async () => {\n  setRoleModal.visible = true;\n  let roleStaffInfoList = [];\n  let echoList = [];\n  setRoleModal.roles.forEach(item => {\n    item.value = undefined;\n  });\n  try {\n    let params1 = {\n      projectNo: level2CheckedArr.value.map(item => item.projectNo).toString(),\n    };\n    let roleStaffInfoResult = await listByProjectNo(params1);\n    if (roleStaffInfoResult.code === \"200\") {\n      roleStaffInfoList = roleStaffInfoResult.data;\n    }\n  } catch (error) {\n    Message.error(\"请求数据失败\");\n  }\n  try {\n    setRoleModal.loading = true;\n    let params = {\n      deptName: level2Record.deptName,\n    };\n    let res2 = await queryLikeDept(params);\n    if (res2.code === \"200\") {\n      setRoleModal.selectOptions =\n        (Array.isArray(res2.data) &&\n          markRaw(\n            res2.data.map(item => {\n              roleStaffInfoList.forEach(jtem => {\n                if (item.id === jtem.empId) {\n                  echoList.push({\n                    ...item,\n                    roleId: jtem.roleId,\n                  });\n                }\n              });\n              return {\n                value: JSON.stringify(item),\n                label: `${item.empName} ( ${item.empCode},  ${item.deptName} )`,\n              };\n            }),\n          )) ||\n        [];\n    }\n  } catch (error) {\n    Message.error(\"请求数据失败\");\n  }\n  if (level2CheckedArr.value.length > 1) {\n    setRoleModal.loading = false;\n    return;\n  }\n  if (echoList.length) {\n    setRoleModal.roles.forEach(item => {\n      let index = echoList.findIndex(jtem => jtem.roleId === item.label);\n      if (index !== -1) {\n        delete echoList[index].roleId;\n        item.value = JSON.stringify(echoList[index]);\n      }\n    });\n  } else {\n    setRoleModal.roles.forEach(item => {\n      item.value = undefined;\n    });\n  }\n  setRoleModal.loading = false;\n};\nconst setRoleCancel = () => {\n  setRoleModal.roles.forEach(item => {\n    item.value = undefined;\n  });\n  setRoleModal.visible = false;\n};\nconst setRoleOk = () => {\n  let emptyArr = [];\n  setRoleModal.roles.forEach(item => {\n    if (item.value === undefined || item.value === \"\") {\n      emptyArr.push(\" \");\n    }\n  });\n  if (emptyArr.length === setRoleModal.roles.length) return Message.error(\"至少选择一条\");\n  setRoleModal.confirmBtnLoading = true;\n  let selsected = [];\n  setRoleModal.roles.forEach(item => {\n    if (item.value !== undefined) {\n      try {\n        let value = JSON.parse(item.value);\n        selsected.push({\n          dept: value.deptName || \"\",\n          empId: value.id || \"\",\n          empNo: value.empCode || \"\",\n          empName: value.empName || \"\",\n          roleId: item.label,\n        });\n      } catch (error) {\n        throw Error(error);\n      }\n    }\n  });\n  let params = {\n    projectNos: level2CheckedArr.value.map(item => item.projectNo),\n    info: selsected,\n  };\n  save(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        Message.success(res.desc || \"新建角色成功\");\n        level2CheckedArr.value = [];\n      } else {\n        Message.error(res.message || \"请求失败\");\n      }\n    })\n    .catch(() => {\n      Message.error(\"请求失败\");\n    })\n    .finally(() => {\n      setRoleModal.confirmBtnLoading = false;\n      setRoleModal.visible = false;\n    });\n};\n/**************** 设置角色******************** */\n/************************ level1导出********************************** */\nconst level1ExportLoading = ref(false);\nconst level1ExportCurrentPage = () => {\n  level1ExportLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    month,\n  };\n  bgExportExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileReader = new FileReader();\n      fileReader.readAsText(res, \"utf-8\");\n      fileReader.onerror = function () {\n        Message.error(\"导出文件失败\");\n        return;\n      };\n      const fileName = `下钻分析_部门级别_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level1ExportLoading.value = false;\n    });\n};\n/************************ level1导出********************************** */\n\n/************************ level1导出全部********************************** */\nconst level1ExportAllLoading = ref(false);\nconst level1ExportAll = () => {\n  level1ExportAllLoading.value = true;\n  Message.loading(\"下载时间较长，请耐心等待\");\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    month,\n  };\n  downAllExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileName = `下钻分析_全部_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level1ExportAllLoading.value = false;\n    });\n};\n\n/************************ level1导出全部********************************** */\n\n/************************ level2导出********************************** */\nconst level2ExportLoading = ref(false);\nconst level2ExportAll = () => {\n  level2ExportLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    deptId: level2Record.id,\n    month,\n    deptName: level2Record.deptName,\n    tagKey: level2CheckedValue.value,\n  };\n  Array.isArray(columConfig.level1.params) &&\n    columConfig.level1.params.forEach(item => {\n      params[item] = encrypt(level2Record[item]);\n      if (level2Record[item] === undefined || level2Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  cuPoExportExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileName = `下钻分析_客户项目级别_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level2ExportLoading.value = false;\n    });\n};\n\n/************************ level2导出********************************** */\n\n/**************** levle3导出本页****************** */\nconst level3ExportLoading = ref(false);\nconst level3Export = () => {\n  level3ExportLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    projectCode: level3ProjectCode,\n    deptId: level2Record.id,\n    month,\n    tagKey: level3CheckedValue.value,\n    deptName: level2Record.deptName,\n    groupCustomer: level3HeaderData.value.groupCustomerName + \"\",\n    customer: level3HeaderData.value.customerName + \"\",\n    projectName: level3HeaderData.value.title + \"\",\n  };\n  Array.isArray(columConfig.level2.params) &&\n    columConfig.level2.params.forEach(item => {\n      params[item] = encrypt(level3Record[item]);\n      if (level3Record[item] === undefined || level3Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  empExportExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileName = `下钻分析_人员级别_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level3ExportLoading.value = false;\n    });\n};\n/**************** levle3导出本页****************** */\n\n/****************** 集团/客户/项目详情***************************** */\nconst blocInfoModal = reactive({\n  visible: false,\n  tableColumns: [\n    {\n      title: \"客户名称\",\n      dataIndex: \"customerName\",\n      width: 294,\n      headerCellStyle: { background: \"#F7F8FF\", color: \"#78797B\" },\n      cellStyle: { color: \"#7B7B7B\" },\n    },\n    {\n      title: \"行业\",\n      dataIndex: \"industry\",\n      width: 82,\n      headerCellStyle: { background: \"#F7F8FF\", color: \"#78797B\" },\n      cellStyle: { color: \"#7B7B7B\" },\n    },\n    {\n      title: \"地址\",\n      dataIndex: \"adress\",\n      width: 330,\n      headerCellStyle: { background: \"#F7F8FF\", color: \"#78797B\" },\n      cellStyle: { color: \"#7B7B7B\" },\n    },\n  ],\n  tableData: [\n    {\n      customerName: \"三星半导体(中国)研究开发有限公司北京分公司\",\n      industry: \"通信\",\n      adress: \"北京市朝阳区北京市朝阳区太阳宫中路冠捷大厦8层\",\n      key: 1,\n    },\n  ],\n});\nconst blocInfoModalOk = () => {\n  blocInfoModal.visible = false;\n};\nconst customerModal = reactive({\n  visible: false,\n  basicColumn: 2,\n  basicData: [\n    {\n      label: \"客户名称\",\n      value: \"广州三星通信技术研究有限公司\",\n    },\n    {\n      label: \"集团客户名称\",\n      value: \"集团客户-三星\",\n    },\n    {\n      label: \"行业\",\n      value: \"信息技术\",\n    },\n    {\n      label: \"开始合作时间\",\n      value: \"2022-22-01\",\n    },\n    {\n      label: \"区域\",\n      value: \"大中华区\",\n    },\n    {\n      label: \"地址\",\n      value: \"广东省广州市黄埔区黄埔区科学城科学大道185号\",\n    },\n  ],\n  staffColumn: 2,\n  staffData: [\n    {\n      label: \"销售人员\",\n      value: \"鲍雪欣\",\n    },\n    {\n      label: \"销售人员部门\",\n      value: \"BG2-STA-ERIREG_S\",\n    },\n  ],\n});\n\nconst projectModal = reactive({\n  visible: false,\n  basicColumn: 2,\n  basicData: [\n    {\n      label: \"客户名称\",\n      value: \"广州三星通信技术研究有限公司\",\n    },\n    {\n      label: \"集团客户名称\",\n      value: \"集团客户-三星\",\n    },\n    {\n      label: \"行业\",\n      value: \"信息技术\",\n    },\n    {\n      label: \"开始合作时间\",\n      value: \"2022-22-01\",\n    },\n    {\n      label: \"区域\",\n      value: \"大中华区\",\n    },\n    {\n      label: \"地址\",\n      value: \"广东省广州市黄埔区黄埔区科学城科学大道185号\",\n    },\n  ],\n  staffColumn: 2,\n  staffData: [\n    {\n      label: \"所属部门\",\n      value: \"BG1-MSD\",\n    },\n    {\n      label: \"部门负责人\",\n      value: \"金迪\",\n    },\n  ],\n  manageColumn: 2,\n  manageData: [\n    {\n      label: \"税率\",\n      value: \" 6%\",\n    },\n    {\n      label: \"预估毛利率\",\n      value: \"50\",\n    },\n    {\n      label: \"结算周期(天)\",\n      value: \" 90\",\n    },\n    {\n      label: \"回款周期(天)\",\n      value: \"90\",\n    },\n  ],\n});\n/****************** 集团/客户/项目详情***************************** */\n</script>\n\n<style lang=\"scss\">\n.m-t-10 {\n  margin-top: 10px;\n}\n.m-b-10 {\n  margin-bottom: 10px;\n}\n.row-gray .arco-table-td {\n  background-color: #f8f8f8;\n}\n.level3Header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 30px;\n  border-bottom: 10px solid #f0f2f5;\n  .w-perct-80 {\n    width: 80%;\n    .item {\n      color: #1e1e1e;\n      span {\n        color: #87909d;\n      }\n    }\n  }\n}\n.arco-table-hover:not(.arco-table-dragging)\n  .arco-table-tr:not(.arco-table-tr-empty):not(.arco-table-tr-summary):hover\n  .arco-table-td.arco-table-col-fixed-left::before,\n.arco-table-hover .arco-table-tr-drag .arco-table-td.arco-table-col-fixed-left::before,\n.arco-table-hover:not(.arco-table-dragging)\n  .arco-table-tr:not(.arco-table-tr-empty):not(.arco-table-tr-summary):hover\n  .arco-table-td.arco-table-col-fixed-right::before,\n.arco-table-hover .arco-table-tr-drag .arco-table-td.arco-table-col-fixed-right::before {\n  background-color: #f1faff;\n}\n.arco-table-hover:not(.arco-table-dragging)\n  .arco-table-tr:not(.arco-table-tr-empty):not(.arco-table-tr-summary):hover\n  .arco-table-td:not(.arco-table-col-fixed-left):not(.arco-table-col-fixed-right),\n.arco-table-hover .arco-table-tr-drag .arco-table-td:not(.arco-table-col-fixed-left):not(.arco-table-col-fixed-right) {\n  background-color: #f1faff;\n}\n.modal-label {\n  display: inline-block;\n  width: 142px;\n  text-align: right;\n  padding-right: 15px;\n  box-sizing: border-box;\n}\n.text-center {\n  text-align: center;\n}\n.modal-title {\n  color: #5a5a5a;\n  font-size: 14px;\n  font-weight: bold;\n}\n.blocInfoModal-content-title {\n  color: #7b7b7b;\n  font-size: 14px;\n  margin-bottom: 22px;\n}\n.customerModal-content-title {\n  color: \"#333333\";\n  font-size: 14px;\n  margin-bottom: 14px;\n}\n.chartSelect {\n  float: right;\n  margin: 60px 30px 0 0;\n}\n</style>\n","import script from \"./drillAnalyze.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./drillAnalyze.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./drillAnalyze.vue?vue&type=style&index=0&id=89360458&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["myChart","watch","props","seriesData","color","preSeries","preColor","getCharts","undefined","dispose","option","chartDom","document","getElementById","echarts","legend","itemHeight","top","right","textStyle","fontSize","grid","left","tooltip","axisPointer","type","padding","borderColor","formatter","obj","value","str","xAxis","name","nameGap","splitLine","show","yAxis","nameLocation","series","setOption","onMounted","__exports__","$bus","getCurrentInstance","appContext","config","globalProperties","level3TabSelect","ref","level3HeaderContent","tagColumnList","useTagColumnListStore","level3ProjectCode","level2Record","level3Record","columConfig","typeList","label","data","dataType","disabledDateFn","current","valueOf","moment","level3HeaderData","columns","tagColumns","toRaw","getTagColumnList","currentPageColumn","filter","item","report","length","tier","forEach","index","tabs","tags","jtem","push","tag","columnItem","ktem","col","conf","title","columnItemConfig","dataIndex","align","cellStyle","cellAlign","width","ellipsis","headerCellClass","slotName","titleSlotName","fixed","toFixed","showPercent","render","record","number2percentage","isRed","toInteger","key","params","level1","level2","level3","level1CheckedValue","level2CheckedValue","level3CheckedValue","tableInfo","currentLevel","year","month","getCurrentDate","currentDate","dateNow","currentMonthDay","getCurrentMonthWorkday","countWorkdaysByMonth","then","res","code","catch","Message","error","level1RadioDisabled","level2RadioDisabled","level3RadioDisabled","reactive","loading","defaultExpandedKeys","maxHeight","level1tableRef","level2tableRef","level3tableRef","monthPickChange","level1Data","onBeforeMount","rowClass","raw","deptLevel","level3RadioCheckedChange","val","level3Data","tagKey","mon","replaceAll","queryCoreData","dataAddKey","keys","id","head","$el","elHeight","getBoundingClientRect","innerHeight","window","nextTick","layoutContent","diff","scrollHeight","offsetHeight","parseInt","desc","err","message","finally","level2keys","expandAllRows","arr","children","level2Data","emit","deptId","Array","isArray","encrypt","queryDownDrillSecond","projectCode","queryDownDrillThird","getList","radioCheckedChange","level2RadioCheckedChange","watchEffect","msg","format","on","breadList1","breadList2","deptName","onUnmounted","off","jump","breadList","level2CheckedArr","projectNo","groupCustomerName","customerName","level3HeaderDataArr1","level3HeaderDataArr2","level3HeaderDataArr3","expandedChange","rowKeys","spinLoading","queryScatterDiagram","itemStyle","shadowBlur","shadowColor","shadowOffsetY","symbolSize","e","changeType","changeDataType","level2CheckboxChange","bool","findIndex","splice","setRoleModal","visible","selectOptions","roles","confirmBtnLoading","level2SetRole","async","roleStaffInfoList","echoList","params1","map","toString","roleStaffInfoResult","listByProjectNo","res2","queryLikeDept","markRaw","empId","roleId","JSON","stringify","empName","empCode","setRoleCancel","setRoleOk","emptyArr","selsected","parse","dept","empNo","Error","projectNos","info","save","success","level1ExportLoading","level1ExportCurrentPage","bgExportExcel","blob","Blob","fileReader","FileReader","readAsText","onerror","fileName","link","createElement","download","style","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","level1ExportAllLoading","level1ExportAll","downAllExcel","level2ExportLoading","level2ExportAll","cuPoExportExcel","level3ExportLoading","level3Export","groupCustomer","customer","projectName","empExportExcel","blocInfoModal","tableColumns","headerCellStyle","background","tableData","industry","adress","blocInfoModalOk","customerModal","basicColumn","basicData","staffColumn","staffData","projectModal","manageColumn","manageData"],"sourceRoot":""}