{"version":3,"file":"js/login.6a5301b4.js","mappings":"kpJA4GI,MAAMA,GAAQC,EAAAA,EAAAA,MAKRC,GAJOC,EAAQ,MACNA,EAAQ,MACNA,EAAQ,MACTA,EAAQ,MACLA,EAAQ,OACrBC,GAASC,EAAAA,EAAAA,MAETC,GAAcC,EAAAA,EAAAA,KAAI,GAElBC,GAAOC,EAAAA,EAAAA,IAAS,CAClBC,SAAWC,aAAaC,QAAQ,kBAAoB,GACpDC,SAAW,KAETC,GAAYP,EAAAA,EAAAA,IAAyC,MAArCI,aAAaC,QAAQ,aACrCG,GAAWR,EAAAA,EAAAA,KAAI,GACfS,GAAeT,EAAAA,EAAAA,KAAI,GACnBU,GAAUV,EAAAA,EAAAA,IAAIW,KAAKC,MAAMD,KAAKE,UAAUC,MAC9CC,EAAAA,EAAAA,KAAc,MACVC,EAAAA,EAAAA,IAAiB,IAErB,MAAMC,EAAqB,KACvBR,EAAaS,OAAQ,CAAI,EAEvBC,EAAuBC,IACzBZ,EAASU,OAAQ,EACjBzB,EAAM4B,MAAMD,GAAQE,MAAK,KACrBzB,EAAO0B,KAAK,CAAEC,KAAM,MAEhBC,YAAW,KACPC,EAAAA,EAAaC,QAAQ,CACjBC,MAAO,OACPC,QAAU,IAAEC,EAAAA,EAAAA,cACd,GACH,KACH1B,aAAa2B,QAAQ,WAAY,IAAI,IAC1CC,OAAMC,IACLC,EAAAA,EAAQC,MAAMF,GAAO,OAAO,IAC7BG,SAAQ,KACP5B,EAASU,OAAQ,CAAK,GACxB,E,qmFC9IV,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://oms-frontend/./src/views/LoginView.vue","webpack://oms-frontend/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n    <div id=\"userLayout\">\n      <div class=\"container\">\n        <div class=\"content-box\">\n          <div class=\"login-container\">\n            <div class=\"login-content\">\n              <div></div>\n              <div class=\"login-form\">\n                <!-- <div class=\"overflow-hidden\">\n                  <div class=\"float-right padding-4 pointer\" v-if=\"showLoginRq\" @click=\"showLoginRq=!showLoginRq\">\n                      <a class=\"m-r-12 vertical-30 blue\">二维码登录</a>\n                      <div class=\"loginImg\">\n                          <img :src=\"pwdLogin\" alt=\"\" width=\"50\">\n                      </div>\n                  </div>\n                  <div class=\"float-right padding-4 pointer\" v-else @click=\"showLoginRq=!showLoginRq\">\n                      <a class=\"m-r-12 vertical-30 blue\">密码登录</a>\n                      <div class=\"loginImg\">\n                          <img :src=\"loginRq\" alt=\"\" width=\"50\">\n                      </div>\n                  </div>\n                </div> -->\n                <h1 class=\"login-form-title\">OMS系统登录</h1>\n                <h3 class=\"login-form-version\" :style=\"{marginBottom: showLoginRq?'50px':'30px'}\">V{{ version }}</h3>\n                <div class=\"login-form-container\" v-if=\"showLoginRq\">\n                    <a-form :model=\"form\" @submit-success=\"handleSubmitSuccess\">\n                        <a-form-item field=\"userName\" :hide-label=\"true\" :rules=\"[{ required: true, message: '请输入账号' }]\" :validate-trigger=\"['change','input']\">\n                            <a-input\n                                size=\"large\"\n                                type=\"text\"\n                                placeholder=\"请输入账号\"\n                                v-model=\"form.userName\"\n                            >\n                            <template #prefix>\n                            <icon-user :style=\"{ color: 'rgba(0,0,0,.25)' }\"/>\n                            </template>\n                            </a-input>\n                        </a-form-item>\n                        <a-form-item field=\"password\" :hide-label=\"true\" :rules=\"[{ required: true, message: '请输入密码' }]\" :validate-trigger=\"['change','input']\"> \n                            <a-input-password\n                                size=\"large\"\n                                placeholder=\"请输入密码\"\n                                v-model=\"form.password\"\n                            >\n                            <template #prefix>\n                            <icon-lock :style=\"{ color: 'rgba(0,0,0,.25)' }\"/>\n                            </template>\n                            </a-input-password>\n                        </a-form-item>\n                        <a-form-item :hide-label=\"true\">\n                            <a-checkbox v-model=\"isChecked\" style=\"margin-right: 4px;\" />\n                            勾选表示您已同意<a-button type=\"text\" @click=\"showAgreementModal\">《用户服务协议》</a-button>\n                        </a-form-item>\n                        <a-form-item :hide-label=\"true\">\n                            <a-button\n                                size=\"large\"\n                                type=\"primary\"\n                                htmlType=\"submit\"\n                                class=\"login-button\"\n                                :loading=\"loginBtn\"\n                                :disabled=\"!isChecked\"\n                            >登 录</a-button>\n                        </a-form-item>\n                    </a-form>\n                </div>\n                <div v-else>\n                    <div class=\"rqContainer\">\n                        <div class=\"rqContent m-b-15\">\n                            <img :src=\"bigLoginRq\" alt=\"\" width=\"150\" srcset=\"\">\n                        </div>\n                    </div>\n                    <div class=\"m-b-66 black text-center\">\n                        请使用微信扫描二维码登录\n                    </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"mask\"></div>\n      </div>\n    </div>\n    <a-modal\n        title=\"OMS用户服务协议\"\n        v-model:visible=\"modalVisible\"\n        :footer=\"null\"\n        :width=\"900\"\n        :modal-style=\"{height:'600px',overflowY :'scroll'}\"\n      >\n        <div class=\"m-b-20\">欢迎使用OMS！在使用本OMS前，请仔细阅读以下的《用户服务协议》（以下简称“协议”）。</div>\n        <div v-for=\"(item, i) in modalDt\" :key=\"i\" class=\"m-t-14\">\n          <div>{{ item.title }}</div>\n          <div v-for=\"(jtem, j) in item.children\" :key=\"i + j\">\n            {{ jtem }}\n          </div>\n        </div>\n      </a-modal>\n  </template>\n  \n  <script setup>\n    import { reactive,ref,onBeforeMount } from 'vue';\n    import modalData from '@/utils/data.json';\n    import { Notification } from '@arco-design/web-vue';\n    import { timeFix,version } from '@/utils/util'\n    import { Message } from '@arco-design/web-vue';\n    import { useRouter } from 'vue-router'\n    import { useUserInfoStore } from '../store/index'\n    import { removeWaterMask } from '../utils/watermark'\n    const store = useUserInfoStore()\n    const logo = require('../assets/images/logo.png')\n    const bigImg = require('../assets/images/talent-agent.jpg')\n    const pwdLogin = require('../assets/images/pwdLogin.svg')\n    const loginRq = require('../assets/images/rq.svg')\n    const bigLoginRq = require('../assets/images/loginRq.png')\n    const router = useRouter()\n\n    const showLoginRq = ref(true)\n\n    const form = reactive({\n        userName : localStorage.getItem('loginUserName') || '',\n        password : ''\n    })\n    const isChecked = ref(localStorage.getItem('checkBox') === '1')\n    const loginBtn = ref(false)\n    const modalVisible = ref(false)\n    const modalDt = ref(JSON.parse(JSON.stringify(modalData)))\n    onBeforeMount(()=>{\n        removeWaterMask()\n    })\n    const showAgreementModal = ()=>{\n        modalVisible.value = true\n    }\n    const handleSubmitSuccess = (record)=>{\n        loginBtn.value = true\n        store.Login(record).then(()=>{\n            router.push({ path: '/' });\n                // 延迟 1 秒显示欢迎信息\n                setTimeout(() => {\n                    Notification.success({\n                        title: '登录成功',\n                        content: `${timeFix()}，欢迎回来`\n                    });\n                }, 1000);\n                localStorage.setItem('checkBox', '1');\n        }).catch(err=>{\n            Message.error(err || '登陆失败');\n        }).finally(()=>{\n            loginBtn.value = false;\n        })\n    }\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  #userLayout{\n    height: 100vh;\n  }\n  .container {\n    width: 100%;\n    min-height: 100%;\n    background: url(~@/assets/images/loginBanner.jpg) no-repeat center;\n    background-size: cover;\n    position: relative;\n    .mask{\n      position: absolute;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(0, 0, 0, 0.45);\n    }\n    .content-box{\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n  .login-container{\n    display: flex;\n    justify-content: center;\n    .login-content{\n      position: relative;\n      z-index: 1;\n      width: 1005px;\n      height: 510px;\n      & >  div{\n        width: 50%;\n        height: 100%;\n        display: inline-block;\n        box-sizing: border-box;\n      }\n      & > div:first-child{\n        position: absolute;\n        left: 0;\n        top: 0;\n        background: url(~@/assets/images/loginBanner.jpg) no-repeat;\n        background-size: cover;\n        background-position: 44%;\n        background-origin :content-box;\n      }\n      & > div:last-child{\n        position: absolute;\n        top: 0;\n        right: 0;\n      }\n    }\n    .login-form{\n      background-color: #F2F2F2;\n      padding-top: 40px;\n      .loginImg{\n          display: inline-block;\n          position: relative;\n          overflow: hidden;\n      }\n      .loginImg::after{\n          content: '';\n          position: absolute;\n          left: -20px;\n          top: 20px;\n          width: 40px;\n          height: 50px;\n          transform: rotate(45deg);\n          background-color: #F2F2F2;\n      }\n      .login-form-title {\n        color: rgba(0, 0, 0, 0.85);\n        font-weight: bold;\n        text-align: center;\n        font-size: 22px;\n      }\n      .login-form-version{\n        text-align: center;\n        font-size: 20px;\n        font-weight: 600;\n      }\n      .login-form-container{\n        padding: 0 42px;\n      }\n      .login-button {\n        width: 100%;\n      }\n      \n    }\n    .rqContainer{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        .rqContent{\n            padding: 24px;\n            background: #fff;\n            border: 1px solid #CCCCCC;\n        }\n    }\n  }\n    :deep(.ant-modal-body) {\n      height: 600px !important;\n      overflow-y: auto;\n  \n      &::-webkit-scrollbar {\n        width: 6px; /*高宽分别对应横竖滚动条的尺寸*/\n        height: 6px;\n      }\n      &::-webkit-scrollbar-thumb {\n        border-radius: 6px;\n        background: rgba(144, 147, 153, 0.5);\n      }\n      &::-webkit-scrollbar-track {\n        border-radius: 5px;\n        background: transparent;\n      }\n    }\n    .overflow-hidden{\n        overflow: hidden;\n    }\n    .float-right{\n        float: right;\n    }\n    .vertical-30{\n        vertical-align: 30px;\n    }\n    .padding-4{\n        padding: 4px;\n    }\n    .blue {\n        color: #1890FF;\n    }\n    .black{\n        color: #333;\n    }\n    .text-center{\n      text-align: center;\n    }\n    .m-b-15{\n        margin-bottom: 15px;\n    }\n    .m-b-66{\n        margin-bottom: 66px;\n    }\n  </style>\n  ","import script from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=5b6872ee&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5b6872ee\"]])\n\nexport default __exports__"],"names":["store","useUserInfoStore","bigLoginRq","require","router","useRouter","showLoginRq","ref","form","reactive","userName","localStorage","getItem","password","isChecked","loginBtn","modalVisible","modalDt","JSON","parse","stringify","modalData","onBeforeMount","removeWaterMask","showAgreementModal","value","handleSubmitSuccess","record","Login","then","push","path","setTimeout","Notification","success","title","content","timeFix","setItem","catch","err","Message","error","finally","__exports__"],"sourceRoot":""}