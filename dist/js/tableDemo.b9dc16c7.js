"use strict";(self["webpackChunkoms_frontend"]=self["webpackChunkoms_frontend"]||[]).push([[345],{5343:function(e,t,a){a.d(t,{I6:function(){return n},g1:function(){return l},vl:function(){return i}});const l=[{title:"工号",dataIndex:"workNo"},{title:"姓名",dataIndex:"name",slotName:"name"},{title:"所属部门",dataIndex:"deptName"},{title:"邮箱",dataIndex:"email"},{title:"账户状态",dataIndex:"flag",slotName:"flag_view"},{title:"操作",dataIndex:"action",slotName:"action"}],n=[{title:"菜单名称",dataIndex:"name",key:"name",width:"20%"},{title:"图标",dataIndex:"icon",key:"icon"},{title:"类型",dataIndex:"type",key:"type",slotName:"type_view"},{title:"排序号",dataIndex:"sort",key:"sort"},{title:"URL",dataIndex:"url",key:"url"},{title:"授权标识",dataIndex:"perms",key:"perms"},{title:"操作",dataIndex:"action",key:"action",slotName:"action"}],i=[{title:"角色名称",dataIndex:"name"},{title:"备注",dataIndex:"remarks"},{title:"角色编码",dataIndex:"code"},{title:"创建时间",dataIndex:"createTime",width:200},{title:"操作",dataIndex:"action",slotName:"action"}]},729:function(e,t,a){a.d(t,{Z:function(){return x}});a(7658);var l=a(3396),n=a(7139),i=a(4870),d=a(5343),o=a(4842),u=a(4239);const r=e=>((0,l.dD)("data-v-53477c82"),e=e(),(0,l.Cn)(),e),s={class:"m-b-20"},c={class:"flex-between",style:{height:"40px"}},m={class:"tool-grid"},p={key:0},g=r((()=>(0,l._)("span",null,"只看我的",-1))),w={key:0,class:"red"},y={key:1,class:"green"};var v={__name:"tableContainer",props:{tabs:{type:Array,default:()=>[]},chekedValue:{type:String,default:""},tableColumns:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},menuName:{type:String,default:""},loading:{type:Boolean,default:!1},scrollY:{type:String,default:"600px"},setColumns:{type:Array,default:()=>[]},switchStatus:{type:Boolean,default:!1},exportExcel:{type:String,default:""},paginationTotal:{type:Number,default:10},paginationCurrent:{type:Number,default:1},paginationPageSize:{type:Number,default:10}},emits:["switchClick","paginationCurrentChange","paginationPageSizeChange","handleEdit","handleDeleteMenu","handleUpdateFlag","columnOK","radioChange"],setup(e,{emit:t}){const a=e,r=(0,u.Ls)().getPermission,v=(0,i.qj)({tableColumns:[{title:"自定义列1",dataIndex:"customColumn1",width:200},{title:"自定义列2",dataIndex:"customColumn2",width:200},{title:"自定义列3",dataIndex:"customColumn3",width:200},{title:"自定义列4",dataIndex:"customColumn4",width:200},{title:"自定义列5",dataIndex:"customColumn5",width:200},{title:"自定义列6",dataIndex:"customColumn6",width:200}],tableData:[]}),k=(0,i.iH)(!1),f=(0,i.iH)([]),x=(0,i.iH)([]),_=(0,i.iH)(d.g1);let h=d.g1.filter((e=>"action"!==e.dataIndex))||[];const b=()=>{k.value=!0},C=e=>{x.value=e},I=()=>{let e=JSON.parse(localStorage.getItem("userListColumns"));if(e)_.value=e,f.value=e.map((e=>e.dataIndex));else{var t=[];h.forEach((e=>{t.push(e.dataIndex),f.value=t}))}};I();const U=()=>{if(1===f.value.length&&"action"===f.value[0])return o.Z.error("至少选择一项");t("columnOK",f.value),k.value=!1},N=e=>{t("switchClick",!e)},D=e=>{t("paginationCurrentChange",e)},S=e=>{t("paginationPageSizeChange",e)},j=(e,a)=>{t("handleEdit",e,a)},q=e=>{t("handleDeleteMenu",e)},z=e=>{t("handleDetail",e)},W=e=>{t("handleUpdateFlag",e)},H=e=>{t("radioChange",e)};return(t,d)=>{const o=(0,l.up)("a-radio"),u=(0,l.up)("a-radio-group"),x=(0,l.up)("a-switch"),_=(0,l.up)("icon-download"),h=(0,l.up)("a-button"),I=(0,l.up)("icon-home"),O=(0,l.up)("a-popconfirm"),E=(0,l.up)("a-divider"),K=(0,l.up)("a-table"),P=(0,l.up)("a-checkbox"),Y=(0,l.up)("a-checkbox-group"),R=(0,l.up)("a-modal");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l._)("div",s,[(0,l._)("div",c,[(0,l.Wm)(u,{type:"button",size:"large","model-value":a.chekedValue,onChange:H},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.tabs,(e=>((0,l.wg)(),(0,l.j4)(o,{value:e.key},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["model-value"]),(0,l.WI)(t.$slots,"default")]),(0,l._)("div",null,[(0,l._)("div",m,["USER"===a.menuName?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(x,{value:e.switchStatus,onChange:N},{checked:(0,l.w5)((()=>[(0,l.Uk)("ON")])),unchecked:(0,l.w5)((()=>[(0,l.Uk)("OFF")])),_:1},8,["value"]),g])):(0,l.kq)("",!0),"USER"===a.menuName?((0,l.wg)(),(0,l.j4)(h,{key:1,type:"primary"},{icon:(0,l.w5)((()=>[(0,l.Wm)(_)])),default:(0,l.w5)((()=>[(0,l.Uk)("导出excel")])),_:1})):(0,l.kq)("",!0),"USER"===a.menuName?((0,l.wg)(),(0,l.j4)(h,{key:2,class:"config",type:"primary",onClick:b},{icon:(0,l.w5)((()=>[(0,l.Wm)(I)])),default:(0,l.w5)((()=>[(0,l.Uk)("配置列")])),_:1})):(0,l.kq)("",!0)])])])]),(0,l._)("div",null,[(0,l.Wm)(K,{columns:a.tableColumns.length&&a.tableColumns||v.tableColumns,data:a.tableData.length&&a.tableData||v.tableData,"column-resizable":"",bordered:!1,scroll:{x:"100%",y:a.scrollY},scrollbar:!1,loading:a.loading,pagination:{total:e.paginationTotal,current:e.paginationCurrent,pageSize:e.paginationPageSize,showTotal:!0,showPageSize:!0,showJumper:!0,onChange:D,onPageSizeChange:S}},{type_view:(0,l.w5)((({record:e})=>[(0,l._)("div",null,(0,n.zw)(0===e.type?"目录":1===e.type?"菜单":"按钮"),1)])),role_view:(0,l.w5)((({record:e})=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.roles,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},(0,n.zw)(e.name),1)))),128))])),flag_view:(0,l.w5)((({record:e})=>[0===e.flag?((0,l.wg)(),(0,l.iD)("span",w,"禁用")):(0,l.kq)("",!0),1===e.flag?((0,l.wg)(),(0,l.iD)("span",y,"启用")):(0,l.kq)("",!0)])),action:(0,l.w5)((({record:e})=>[(0,l.Wm)(O,{content:"你确定要启用这个用户吗?",type:"error",onOk:t=>W(e)},{default:(0,l.w5)((()=>["user"==a.menuName&&0===e.flag?((0,l.wg)(),(0,l.j4)(h,{key:0,type:"text"},{default:(0,l.w5)((()=>[(0,l.Uk)("启用")])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["onOk"]),"user"==a.menuName&&0===e.flag?((0,l.wg)(),(0,l.j4)(E,{key:0,direction:"vertical"})):(0,l.kq)("",!0),"user"==a.menuName&&0===e.flag?((0,l.wg)(),(0,l.j4)(h,{key:1,type:"text",style:{color:"#999999"}},{default:(0,l.w5)((()=>[(0,l.Uk)("禁用")])),_:1})):(0,l.kq)("",!0),"user"==a.menuName&&1===e.flag?((0,l.wg)(),(0,l.j4)(h,{key:2,type:"text",style:{color:"#999999"}},{default:(0,l.w5)((()=>[(0,l.Uk)("启用")])),_:1})):(0,l.kq)("",!0),"user"==a.menuName&&1===e.flag?((0,l.wg)(),(0,l.j4)(E,{key:3,direction:"vertical"})):(0,l.kq)("",!0),(0,l.Wm)(O,{content:"你确定要禁用这个用户吗?",type:"error",onOk:t=>W(e)},{default:(0,l.w5)((()=>["user"==a.menuName&&1===e.flag?((0,l.wg)(),(0,l.j4)(h,{key:0,type:"text"},{default:(0,l.w5)((()=>[(0,l.Uk)("禁用")])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["onOk"]),"USER"==a.menuName?((0,l.wg)(),(0,l.j4)(h,{key:4,type:"text",onClick:t=>z(e,"view")},{default:(0,l.w5)((()=>[(0,l.Uk)("查看")])),_:2},1032,["onClick"])):(0,l.kq)("",!0),"user"==a.menuName?((0,l.wg)(),(0,l.j4)(E,{key:5,direction:"vertical"})):(0,l.kq)("",!0),(0,i.SU)(r).includes("menu:edit")&&"admin"!==e.code?((0,l.wg)(),(0,l.j4)(h,{key:6,type:"text",onClick:t=>j(e,"edit")},{default:(0,l.w5)((()=>[(0,l.Uk)(" 编辑 ")])),_:2},1032,["onClick"])):(0,l.kq)("",!0),"menu"==a.menuName||"role"==a.menuName&&"admin"!==e.code?((0,l.wg)(),(0,l.j4)(E,{key:7,direction:"vertical"})):(0,l.kq)("",!0),(0,l.Wm)(O,{content:"确定要删除吗?",type:"error",onOk:t=>q(e)},{default:(0,l.w5)((()=>[(0,i.SU)(r).includes("menu:delete")&&("menu"==a.menuName||"role"==a.menuName&&"admin"!==e.code)?((0,l.wg)(),(0,l.j4)(h,{key:0,type:"text"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 删除 ")])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["onOk"])])),_:1},8,["columns","data","scroll","loading","pagination"])]),(0,l.Wm)(R,{visible:k.value,"onUpdate:visible":d[1]||(d[1]=e=>k.value=e),title:"选择表格项"},{footer:(0,l.w5)((()=>[(0,l.Wm)(h,{type:"primary",onClick:U},{default:(0,l.w5)((()=>[(0,l.Uk)("确定")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(Y,{onChange:C,modelValue:f.value,"onUpdate:modelValue":d[0]||(d[0]=e=>f.value=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.setColumns,(e=>((0,l.wg)(),(0,l.j4)(P,{key:e.dataIndex,value:e.dataIndex},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.title),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["visible"])])}}},k=a(89);const f=(0,k.Z)(v,[["__scopeId","data-v-53477c82"]]);var x=f},3217:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var l=a(3396),n=a(4870),i=a(7139),d=a(729);const o=e=>((0,l.dD)("data-v-b206651a"),e=e(),(0,l.Cn)(),e),u={class:"defaultPadding"},r={class:"m-b-10"},s=o((()=>(0,l._)("div",{class:"container"},[(0,l._)("div",{class:"item"},"1"),(0,l._)("div",{class:"item"},"2"),(0,l._)("div",{class:"item"},"3")],-1)));var c={__name:"tableDemo",setup(e){const t=(0,n.iH)([{select:{value:"flex-start",options:[{direction:"左对齐",value:"flex-start"},{direction:"右对齐",value:"flex-end"},{direction:"居中",value:"center"},{direction:"两端对齐",value:"space-between"},{direction:"分散对齐",value:"space-around"}]},btns:[{text:"按钮1",type:"primary",disabled:!1,loading:!1,margin:"0 10px 0 0"},{text:"按钮2",type:"primary",disabled:!1,loading:!1,margin:"0 10px"}]},{select:{value:"flex-start",options:[{direction:"左对齐",value:"flex-start"},{direction:"右对齐",value:"flex-end"},{direction:"居中",value:"center"},{direction:"两端对齐",value:"space-between"},{direction:"分散对齐",value:"space-around"}]},btns:[{text:"按钮1",type:"primary",disabled:!1,loading:!1,margin:"0 10px 0 0"},{text:"按钮2",type:"primary",disabled:!1,loading:!1,margin:"0 10px"}]}]);return(e,a)=>{const o=(0,l.up)("a-option"),c=(0,l.up)("a-select"),m=(0,l.up)("a-button");return(0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)((0,n.SU)(d.Z),null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"m-b-10"},[(0,l._)("div",r,[(0,l.Wm)(c,{"model-value":e.select.value,"onUpdate:model-value":t=>e.select.value=t,style:{width:"100px"},class:"m-b-10"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.select.options,((e,t)=>((0,l.wg)(),(0,l.j4)(o,{value:e.value,key:t},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.direction),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["model-value","onUpdate:model-value"]),(0,l._)("div",{class:"btnsContainer",style:(0,i.j5)({"justify-content":e.select.value})},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.btns,((e,t)=>((0,l.wg)(),(0,l.j4)(m,{type:e.type,loading:e.loading,disabled:e.disabled,key:t,style:(0,i.j5)({margin:e.margin})},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.text),1)])),_:2},1032,["type","loading","disabled","style"])))),128))],4)])])))),128))])),_:1}),s])}}},m=a(89);const p=(0,m.Z)(c,[["__scopeId","data-v-b206651a"]]);var g=p}}]);
//# sourceMappingURL=tableDemo.b9dc16c7.js.map