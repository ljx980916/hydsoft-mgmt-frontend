{"version":3,"file":"js/staticPicture.c9560c87.js","mappings":"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","sources":["webpack://oms-frontend/./src/api/staffStatics.js","webpack://oms-frontend/./src/views/staffStatistics/staffStatics/staticPicture.vue","webpack://oms-frontend/./src/views/staffStatistics/staffStatics/staticPicture.vue?81c2"],"sourcesContent":["import request from '@/utils/request'\n// 环状图 \nexport function getPieChartData (parameter) {\n    return request({\n        url: '/mdm/listPieChartStatistics',\n        method: 'post',\n        data: parameter\n    })\n}\n// 事业部\nexport function getCauseGroup (parameter) {\n  return request({\n      url: '/mdm/listCauseGroupStatistics',\n      method: 'post',\n      data: parameter\n  })\n}\n// 柱状折线图 \nexport function getPostChartData (parameter) {\n  return request({\n      url: '/mdm/listHistogramStatistics',\n      method: 'post',\n      data: parameter\n  })\n}\n// 明细\nexport function getDetailData (parameter) {\n  return request({\n      url: '/mdm/listStatisticsDetail',\n      method: 'post',\n      data: parameter\n  })\n}","<template>\n  <div style=\"position: relative; overflow: hidden\" class=\"defaultPadding\">\n    <p class=\"tip\"><span>提示：点击饼状图切换事业群</span></p>\n    <div id=\"pie\"></div>\n    <!-- 弹框 -->\n    <div class=\"modal\">\n      <p class=\"title\">在职人数统计：{{ form.title }}</p>\n      <p class=\"subtitle\">{{ currentDate }}</p>\n      <ul>\n        <div>\n          <li>\n            <span>C1人数</span>\n            <span>{{ getSplitNum(form.c1People) }}</span>\n          </li>\n          <li>\n            <span class=\"m-r-8\">G人数</span>\n            <span>{{ form.Gpeople }}</span>\n          </li>\n          <li>\n            <span>C2人数</span>\n            <span>{{ form.c2People }}</span>\n          </li>\n          <li>\n            <span class=\"m-r-12\">S人数</span>\n            <span>{{ form.sPeople }}</span>\n          </li>\n          <li>\n            <span class=\"m-r-10\">R人数</span>\n            <span>{{ form.rPeople }}</span>\n          </li>\n        </div>\n        <div class=\"m-l-40\">\n          <li>\n            <span>正式人数</span>\n            <span>{{ getSplitNum(form.formalPeople) }}</span>\n          </li>\n          <li>\n            <span>兼职人数</span>\n            <span>{{ form.partTimePeople }}</span>\n          </li>\n          <li>\n            <span>实习人数</span>\n            <span>{{ form.practicePeople }}</span>\n          </li>\n        </div>\n      </ul>\n      <a-button class=\"button\" type=\"primary\" @click=\"handleDetail\">明细</a-button>\n    </div>\n    <div class=\"time\">\n      <a-radio-group type=\"button\" size=\"large\" v-model=\"time\" @change=\"changeTime\">\n        <a-radio v-for=\"item of timeList\" :value=\"item.label\">{{ item.value }}</a-radio>\n      </a-radio-group>\n    </div>\n    <div id=\"post\" @click=\"handleIsPost\"></div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref, reactive, onUnmounted, watchEffect } from \"vue\";\nimport * as echarts from \"echarts\";\nimport { getSplitNum, getCurrentTime } from \"@/utils/util.js\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { getPieChartData, getCauseGroup, getPostChartData } from \"@/api/staffStatics.js\";\nimport { getCurrentInstance } from \"@vue/runtime-core\";\nlet $bus = getCurrentInstance().appContext.config.globalProperties.$bus;\nimport moment from \"moment\";\nconst router = useRouter();\nconst route = useRoute();\nconst form = reactive({\n  title: \"各BG汇总\",\n  c1People: 1477,\n  Gpeople: 60,\n  c2People: 100,\n  sPeople: 4,\n  rPeople: 200,\n  formalPeople: 1477,\n  partTimePeople: 60,\n  practicePeople: 100,\n});\nlet { year, month, days } = getCurrentTime();\nlet currentDate = `${year}/${month}/${days}`;\nconst isPie = ref(false);\nconst isPost = ref(false);\nvar pieData = [];\nvar pieDatas = [];\nvar entryList = [];\nvar departList = [];\nvar formalList = [];\nvar xAxisList = [];\nvar pieColor = [\"#8E83BD\", \"#F0886F\", \"#6D99C8\", \"#C59E63\", \"#4D8192\", \"#7DAE99\"];\nvar subText = 0;\nvar myPieChart;\nvar myPostChart;\nconst time = ref(\"1\");\nconst dataIndex = ref(-1);\nconst timeList = ref([\n  {\n    label: \"1\",\n    value: \"近12月\",\n  },\n  {\n    label: \"2\",\n    value: \"近26周\",\n  },\n  {\n    label: \"3\",\n    value: \"近30自然日\",\n  },\n]);\n// 视口宽度\nwatchEffect(() => {\n  $bus.emit(\"updateStructure\", [\n    { type: \"text\", color: \"#333\", msg: `人员分析` },\n    { type: \"text\", color: \"#333\", msg: `人员统计` },\n  ]);\n});\n\n// 环状图-------------------------------------------------\nconst getPieData = () => {\n  pieDatas = [];\n  pieData = [];\n  subText = 0;\n  getPieChartData().then(res => {\n    if (res.code === \"000000000000\") {\n      res.data.forEach(item => {\n        pieData.push({\n          name: item.deptName,\n          value: item.extendColumn2,\n        });\n        subText += item.extendColumn2;\n      });\n      pieDatas = pieData.map((item, index) => {\n        return {\n          name: item.name,\n          value: item.value,\n          label: { color: pieColor[index] },\n        };\n      });\n      getPieCharts();\n      const deptNames = [\"BG1\", \"BG2\", \"BG3\", \"BG4\"];\n      deptNames.forEach((item, index) => {\n        if (form.title === item) {\n          myPieChart.dispatchAction({\n            type: \"highlight\", //突出高亮显示;\n            seriesIndex: 0,\n            dataIndex: index,\n          });\n        }\n      });\n    }\n  });\n};\nconst getPieCharts = () => {\n  if (myPieChart != null && myPieChart != \"\" && myPieChart != undefined) {\n    myPieChart.dispose();\n  }\n  var chartDom = document.getElementById(\"pie\");\n  if (chartDom) {\n    myPieChart = echarts.init(chartDom);\n    var option = {\n      tooltip: {\n        trigger: \"item\",\n        triggerOn: \"none\",\n        formatter: \"{b}\",\n        position: function (point, params, dom, rect, size) {\n          if (params.name == \"BG1\") {\n            return { left: rect.x, top: rect.y + 50 };\n          }\n          if (params.name == \"BG3\") {\n            return { left: rect.x + 30, top: rect.y + 50 };\n          }\n          if (params.name == \"BG4\") {\n            return { left: rect.x, top: rect.y };\n          }\n          if (params.name == \"BG2\") {\n            return { left: rect.x + 60, top: rect.y + 50 };\n          }\n        },\n      },\n      //环形图中间文字\n      title: {\n        text: \"总人数\",\n        subtext: getSplitNum(subText),\n        textStyle: {\n          fontSize: \"14px\",\n          color: \"#6B7785\",\n          fontWeight: 300,\n          fontFamily: \"PingFangSC-Thin\",\n        },\n        subtextStyle: {\n          fontSize: \"18px\",\n          color: \"#6B7785\",\n          fontWeight: 500,\n          fontFamily: \"PingFang SC\",\n        },\n        textAlign: \"center\", //图例文字居中显示\n        x: \"48.3%\", //距离左边的距离\n        y: \"38.5%\", //距离上边的距离\n      },\n      animation: false,\n      //数据的颜色设置\n      color: [\"#8E83BD\", \"#F0886F\", \"#6D99C8\", \"#C59E63\", \"#4D8192\", \"#7DAE99\"],\n      //图例设置\n      legend: {\n        bottom: -5,\n        itemGap: 20, //数据上下的距离\n        itemWidth: 20, // 设置宽度\n        data: pieData,\n      },\n      series: [\n        {\n          radius: [\"53%\", \"80%\"], //第一个是中间圆的大小，第二个是外边圆的大小\n          center: [\"49%\", \"47%\"], //左边的距离，上边的距离\n          type: \"pie\",\n          label: {\n            position: \"inner\", //文字显示在内部，如果在外边把这个去掉就好\n            color: \"#fff\", //文字的颜色\n            fontSize: \"14px\",\n            textAlign: \"left\",\n          },\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 6,\n              shadowOffsetX: 0,\n              shadowColor: \"rgba(100, 114, 123, 0.5)\",\n            },\n            label: {\n              show: true,\n              formatter: \"{b}\",\n              fontSize: \"18px\",\n              color: \"#fff\",\n            },\n            scale: true,\n            scaleSize: 10,\n          },\n          data: pieData,\n          startAngle: 45, //起始角度\n          clockwise: false, //生长方向，是否顺时针\n        },\n        {\n          radius: [\"53%\", \"80%\"], //第一个是中间圆的大小，第二个是外边圆的大小\n          center: [\"49%\", \"47%\"], //左边的距离，上边的距离\n          type: \"pie\",\n          label: {\n            formatter: function (data) {\n              let c = getSplitNum(data.value);\n              return c;\n            },\n            position: \"outer\", //文字显示在内部，如果在外边把这个去掉就好\n            fontSize: \"14px\",\n            textAlign: \"left\",\n          },\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: \"rgba(100, 114, 123, 0.5)\",\n            },\n            label: {\n              show: true,\n            },\n            scale: true,\n            scaleSize: 10,\n          },\n          data: pieDatas,\n          startAngle: 45, //起始角度\n          clockwise: false, //生长方向，是否顺时针\n        },\n      ],\n    };\n    option && myPieChart.setOption(option);\n    window.addEventListener(\"resize\", handlePieResize);\n    myPieChart.on(\"click\", function (params) {\n      dataIndex.value = params.dataIndex;\n      isPie.value = true;\n      form.title = params.name;\n      for (var i = 0; i < pieDatas.length; i++) {\n        if (i != params.dataIndex) {\n          myPieChart.dispatchAction({\n            type: \"downplay\", //取消突出高亮显示;\n            seriesIndex: 0,\n            dataIndex: i,\n          });\n        }\n      }\n      myPieChart.dispatchAction({\n        type: \"hideTip\",\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n      });\n      myPieChart.dispatchAction({\n        type: \"highlight\", //突出高亮显示;\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n      });\n    });\n    myPieChart.on(\"mouseover\", function (params) {\n      if (params.dataIndex == dataIndex.value || params.name == form.title) {\n        myPieChart.dispatchAction({\n          type: \"hideTip\",\n          seriesIndex: 0,\n          dataIndex: params.dataIndex,\n        });\n      } else {\n        myPieChart.dispatchAction({\n          type: \"showTip\",\n          seriesIndex: 0,\n          dataIndex: params.dataIndex,\n        });\n      }\n    });\n    myPieChart.on(\"mouseout\", function (params) {\n      myPieChart.dispatchAction({\n        type: \"hideTip\",\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n      });\n    });\n  }\n};\nconst handlePieResize = () => {\n  myPieChart.resize();\n};\nconst handleClickOutside = event => {\n  if (event.target.tagName !== \"SPAN\" && !isPost.value && event.target.tagName !== \"BUTTON\") {\n    if (isPie.value) {\n      getCauseGroupData(form.title);\n      isPie.value = false;\n      getPostData(time.value);\n    } else {\n      form.title = \"各BG汇总\";\n      getPieCharts();\n      getCauseGroupData(\"各BG汇总\");\n      getPostData(time.value);\n    }\n  }\n  if (isPost.value) {\n    isPost.value = false;\n  }\n};\n//获取事业群全部数据\nconst getCauseGroupData = deptName => {\n  if (deptName !== \"各BG汇总\") {\n    const formData = new FormData();\n    formData.append(\"deptName\", form.title);\n    getCauseGroup(formData).then(res => {\n      const { code, data } = res;\n      if (code === \"000000000000\") {\n        form.c1People = data.C1;\n        form.Gpeople = data.G;\n        form.c2People = data.C2;\n        form.sPeople = data.S;\n        form.rPeople = data.R;\n        form.formalPeople = data.official;\n        form.partTimePeople = data.pluralistic;\n        form.practicePeople = data.practice;\n      }\n    });\n  } else {\n    getCauseGroup().then(res => {\n      const { code, data } = res;\n      if (code === \"000000000000\") {\n        form.c1People = data.C1;\n        form.Gpeople = data.G;\n        form.c2People = data.C2;\n        form.sPeople = data.S;\n        form.rPeople = data.R;\n        form.formalPeople = data.official;\n        form.partTimePeople = data.pluralistic;\n        form.practicePeople = data.practice;\n        form.title = \"各BG汇总\";\n      }\n    });\n  }\n};\n// 明细\nconst handleDetail = () => {\n  router.push({\n    path: \"/staticDetail\",\n    state: {\n      deptName: form.title === \"各BG汇总\" ? \"全部\" : form.title,\n    },\n  });\n};\n// 柱状图-----------------------------------------------------------\nconst handleIsPost = () => {\n  isPost.value = true;\n};\nconst getPostData = val => {\n  const formData = new FormData();\n  formData.append(\"histogram\", val);\n  if (form.title !== \"各BG汇总\") {\n    formData.append(\"deptName\", form.title);\n  }\n  getPostChartData(formData).then(res => {\n    if (res.code == \"000000000000\") {\n      departList = [];\n      entryList = [];\n      formalList = [];\n      xAxisList = [];\n      if (val == \"1\") {\n        res.data.forEach(item => {\n          if (item.extendColumn1.slice(0, 4) !== \"2022\") {\n            const parts = item.extendColumn1.split(\"-\");\n            const year = parts[0];\n            const month = parts[1];\n            var months = `${year}.${month}`;\n            xAxisList.push(months);\n            formalList.push(item.extendColumn2);\n            entryList.push(item.extendColumn3);\n            departList.push(item.extendColumn4);\n          }\n        });\n      } else {\n        res.data.forEach(item => {\n          formalList.push(item.extendColumn2);\n          entryList.push(item.extendColumn3);\n          departList.push(item.extendColumn4);\n          const date = moment(item.extendColumn1);\n          const formattedDate = date.format(\"M/D\");\n          xAxisList.push(formattedDate);\n        });\n      }\n      getPostCharts();\n    }\n  });\n};\nconst getPostCharts = () => {\n  if (myPostChart != null && myPostChart != \"\" && myPostChart != undefined) {\n    myPostChart.dispose();\n  }\n  var chartDoms = document.getElementById(\"post\");\n  if (chartDoms) {\n    myPostChart = echarts.init(chartDoms);\n    const colors = [\"#69D1B0\", \"#F98981\", \"#3491FA\"];\n    var option = {\n      color: colors,\n      tooltip: {\n        axisPointer: {\n          type: \"cross\",\n        },\n        extraCssText: \"text-align: left;\",\n        formatter: params => {\n          if (params.seriesIndex == 0) return \"时间：\" + params.name + \"</br>\" + params.seriesName + \"：\" + params.value;\n          if (params.seriesIndex == 1) return \"时间：\" + params.name + \"</br>\" + params.seriesName + \"：\" + params.value;\n          if (params.seriesIndex == 2) return \"时间：\" + params.name + \"</br>\" + params.seriesName + \"：\" + params.value;\n        },\n      },\n      grid: {\n        right: \"10%\",\n        left: \"20%\",\n        top: \"8%\",\n      },\n      legend: {\n        data: [\"入职人数\", \"离职人数\", \"在职员工人数\"],\n        bottom: \"2%\",\n        itemGap: 26, //数据上下的距离\n      },\n      xAxis: [\n        {\n          type: \"category\",\n          axisTick: {\n            alignWithLabel: true,\n          },\n          axisLabel: {\n            interval: \"auto\",\n          },\n          data: xAxisList,\n        },\n      ],\n      yAxis: [\n        {\n          type: \"value\",\n          name: \"柱状\",\n          position: \"left\",\n          alignTicks: true,\n          splitLine: false,\n          axisLine: {\n            show: true,\n          },\n          axisLabel: {\n            formatter: \"{value}\",\n          },\n        },\n        {\n          type: \"value\",\n          name: \"折线\",\n          position: \"left\",\n          alignTicks: true,\n          splitLine: false,\n          offset: 50,\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: colors[2],\n            },\n          },\n          axisLabel: {\n            formatter: \"{value}\",\n          },\n        },\n      ],\n      series: [\n        {\n          name: \"入职人数\",\n          type: \"bar\",\n          data: entryList,\n        },\n        {\n          name: \"离职人数\",\n          type: \"bar\",\n          data: departList,\n        },\n        {\n          name: \"在职员工人数\",\n          type: \"line\",\n          yAxisIndex: 1,\n          data: formalList,\n        },\n      ],\n    };\n    option && myPostChart.setOption(option);\n    window.addEventListener(\"resize\", handlePostResize);\n  }\n};\nconst handlePostResize = () => {\n  myPostChart.resize();\n};\n// 更改时间\nconst changeTime = val => {\n  time.value = val;\n  getPostData(val);\n};\nonMounted(() => {\n  document.addEventListener(\"click\", handleClickOutside);\n  form.title = history.state.deptName ? (history.state.deptName == \"全部\" ? \"各BG汇总\" : history.state.deptName) : \"各BG汇总\";\n  getCauseGroupData(form.title);\n  getPieData();\n  getPostData(time.value);\n});\nonUnmounted(() => {\n  window.removeEventListener(\"resize\", handlePieResize);\n  document.removeEventListener(\"click\", handleClickOutside);\n  window.removeEventListener(\"resize\", handlePostResize);\n});\n</script>\n\n<style scoped lang=\"scss\">\n#pie {\n  height: 300px;\n  width: 52%;\n}\n.tip {\n  font-weight: 400;\n  font-style: normal;\n  font-size: 10px;\n  color: #a8b4cc;\n  display: inline-block;\n  width: 50%;\n  text-align: center;\n}\n.modal {\n  width: 560px;\n  box-shadow: 0px 0px 5px rgb(209, 211, 224);\n  position: absolute;\n  left: 45%;\n  top: 7%;\n}\n.title {\n  margin: 26px 0 0 40px;\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.847058823529412);\n  font-family: \"PingFangSC-Medium\", \"PingFang SC Medium\";\n}\n.subtitle {\n  margin-left: 40px;\n  font-weight: 400;\n  font-family: \"PingFangSC-Regular\", \"PingFang SC\";\n  font-style: normal;\n  font-size: 12px;\n  color: #a8b4cc;\n}\nul {\n  width: 450px;\n  margin-left: 50px;\n  list-style: none;\n  display: flex;\n  margin-top: 30px;\n}\nli {\n  margin: 0 60px 10px 0;\n  > span:first-child {\n    font-weight: 400;\n    font-size: 14px;\n    color: #a8b4cc;\n    line-height: 22px;\n  }\n  > span:nth-child(2) {\n    font-weight: 400;\n    font-style: normal;\n    font-size: 14px;\n    color: #778092;\n    line-height: 22px;\n    margin-left: 10px;\n  }\n}\n.button {\n  position: relative;\n  left: 75%;\n  top: -30px;\n}\n.time {\n  position: absolute;\n  left: 61%;\n  top: 46%;\n}\n#post {\n  max-width: 90%;\n  height: 400px;\n  margin-top: 80px;\n}\n</style>\n","import script from \"./staticPicture.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./staticPicture.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./staticPicture.vue?vue&type=style&index=0&id=331ea963&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-331ea963\"]])\n\nexport default __exports__"],"names":["getPieChartData","parameter","request","url","method","data","getCauseGroup","getPostChartData","getDetailData","$bus","getCurrentInstance","appContext","config","globalProperties","router","useRouter","form","useRoute","reactive","title","c1People","Gpeople","c2People","sPeople","rPeople","formalPeople","partTimePeople","practicePeople","year","month","days","getCurrentTime","currentDate","isPie","ref","isPost","myPieChart","myPostChart","pieData","pieDatas","entryList","departList","formalList","xAxisList","pieColor","subText","time","dataIndex","timeList","label","value","watchEffect","emit","type","color","msg","getPieData","then","res","code","forEach","item","push","name","deptName","extendColumn2","map","index","getPieCharts","deptNames","dispatchAction","seriesIndex","undefined","dispose","chartDom","document","getElementById","echarts","option","tooltip","trigger","triggerOn","formatter","position","point","params","dom","rect","size","left","x","top","y","text","subtext","getSplitNum","textStyle","fontSize","fontWeight","fontFamily","subtextStyle","textAlign","animation","legend","bottom","itemGap","itemWidth","series","radius","center","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","show","scale","scaleSize","startAngle","clockwise","c","setOption","window","addEventListener","handlePieResize","on","i","length","resize","handleClickOutside","event","target","tagName","getCauseGroupData","getPostData","formData","FormData","append","C1","G","C2","S","R","official","pluralistic","practice","handleDetail","path","state","handleIsPost","val","extendColumn1","slice","parts","split","months","extendColumn3","extendColumn4","date","moment","formattedDate","format","getPostCharts","chartDoms","colors","axisPointer","extraCssText","seriesName","grid","right","xAxis","axisTick","alignWithLabel","axisLabel","interval","yAxis","alignTicks","splitLine","axisLine","offset","lineStyle","yAxisIndex","handlePostResize","changeTime","onMounted","history","onUnmounted","removeEventListener","__exports__"],"sourceRoot":""}