{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, renderList as _renderList, createSlots as _createSlots, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-b28f4344\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"m-t-40 flex-between\"\n};\nconst _hoisted_2 = {\n  class: \"flex-column-start\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\",\n    \"color\": \"#666\",\n    \"font-weight\": \"500\",\n    \"margin-top\": \"6px\"\n  }\n}, \"金额单位：万元\", -1));\nconst _hoisted_4 = {\n  style: {\n    \"color\": \"#999\",\n    \"font-size\": \"12px\"\n  }\n};\nimport { ref } from 'vue';\nimport Different from '@/components/different.vue';\nexport default {\n  __name: 'collapseTable',\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    expandedRowKeys: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: [\"expandedChange\"],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const expandedRowKeys = ref(props.expandedRowKeys);\n    const modalVisible = ref(false);\n\n    // 已展开的数据行发生改变时触发\n    const expandedChange = rowkeys => {\n      expandedRowKeys.value = rowkeys;\n      emit(\"expandedChange\", expandedRowKeys.value);\n    };\n    //单行高亮处理\n    const activeRowClass = record => {\n      if (record.raw.isGreenLight) {\n        return 'activeRowGreen';\n      } else if (record.raw.isRate) {\n        return 'activeRowPurple';\n      } else {\n        return '';\n      }\n    };\n    // 打开环比差\n    const handleDifference = () => {\n      modalVisible.value = true;\n    };\n    // 关闭\n    const handleClose = () => {\n      modalVisible.value = false;\n    };\n    return (_ctx, _cache) => {\n      const _component_icon_layers = _resolveComponent(\"icon-layers\");\n      const _component_a_button = _resolveComponent(\"a-button\");\n      const _component_a_table = _resolveComponent(\"a-table\");\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_a_button, {\n        type: \"text\",\n        style: {\n          \"color\": \"#333\"\n        }\n      }, {\n        icon: _withCtx(() => [_createVNode(_component_icon_layers)]),\n        default: _withCtx(() => [_createElementVNode(\"h3\", null, _toDisplayString(props.title), 1)]),\n        _: 1\n      }), _hoisted_3]), _createElementVNode(\"div\", null, [_createVNode(_component_a_button, {\n        type: \"text\",\n        style: {\n          \"color\": \"#5370FF\",\n          \"font-weight\": \"500\"\n        },\n        onClick: handleDifference\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 环比差 \")]),\n        _: 1\n      })])]), _createVNode(_component_a_table, {\n        class: \"m-t-20 arcoTable_columnsWidthAuto arcoTable_tr_color\",\n        columns: props.columns.length && props.columns || [],\n        data: props.data,\n        loading: props.loading,\n        \"expanded-keys\": props.expandedRowKeys,\n        pagination: false,\n        \"row-class\": activeRowClass,\n        \"show-empty-tree\": \"\",\n        bordered: {\n          wrapper: true,\n          cell: true\n        },\n        onExpandedChange: expandedChange\n      }, _createSlots({\n        _: 2\n      }, [_renderList(props.columns, item => {\n        return {\n          name: item.titleSlotName,\n          fn: _withCtx(() => [_createElementVNode(\"span\", null, [_createTextVNode(_toDisplayString(item.title), 1), _createElementVNode(\"span\", _hoisted_4, \"(\" + _toDisplayString(item.days) + \"天)\", 1)])])\n        };\n      })]), 1032, [\"columns\", \"data\", \"loading\", \"expanded-keys\"]), _createVNode(Different, {\n        modalVisible: modalVisible.value,\n        data: props.data,\n        columns: props.columns,\n        onHandleClose: handleClose\n      }, null, 8, [\"modalVisible\", \"data\", \"columns\"])]);\n    };\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AA0CA,SAASA,GAAG,QAAO,KAAK;AACxB,OAAOC,SAAS,MAAO,4BAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuBnD,MAAMC,eAAe,GAAGF,GAAG,CAACG,KAAK,CAACD,eAAe,CAAC;IAClD,MAAME,YAAY,GAAGJ,GAAG,CAAC,KAAK,CAAC;;IAI/B;IACA,MAAMK,cAAc,GAAIC,OAAO,IAAG;MAC9BJ,eAAe,CAACK,KAAK,GAAGD,OAAO;MAC/BE,IAAI,CAAC,gBAAgB,EAAEN,eAAe,CAACK,KAAK,CAAC;IACjD,CAAC;IACD;IACA,MAAME,cAAc,GAAIC,MAAM,IAAK;MAC/B,IAAGA,MAAM,CAACC,GAAG,CAACC,YAAY,EAAC;QACvB,OAAO,gBAAgB;MAC3B,CAAC,MAAK,IAAGF,MAAM,CAACC,GAAG,CAACE,MAAM,EAAC;QACvB,OAAO,iBAAiB;MAC5B,CAAC,MAAI;QACD,OAAO,EAAE;MACb;IACJ,CAAC;IACD;IACA,MAAMC,gBAAgB,GAAG,MAAM;MAC3BV,YAAY,CAACG,KAAK,GAAG,IAAI;IAC7B,CAAC;IACD;IACA,MAAMQ,WAAW,GAAG,MAAM;MACtBX,YAAY,CAACG,KAAK,GAAG,KAAK;IAC9B,CAAC","names":["ref","Different","expandedRowKeys","props","modalVisible","expandedChange","rowkeys","value","emit","activeRowClass","record","raw","isGreenLight","isRate","handleDifference","handleClose"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/components/collapseTable.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- 折叠表格部分  -->\n        <!-- 环比差按钮 -->\n        <div class=\"m-t-40 flex-between\">\n            <div class=\"flex-column-start\">\n                <a-button type=\"text\" style=\"color:#333\">\n                    <template #icon>\n                        <icon-layers />\n                    </template>\n                    <h3>{{ props.title }}</h3>\n                </a-button>\n                <span style=\"font-size: 12px;color:#666;font-weight: 500;margin-top:6px\">金额单位：万元</span>\n            </div>\n            <div>\n                <a-button type=\"text\" style=\"color:#5370FF;font-weight:500\" @click=\"handleDifference\">\n                    环比差\n                </a-button>\n            </div>\n        </div>\n        <!-- 表格  -->\n        <a-table \n        class=\"m-t-20 arcoTable_columnsWidthAuto arcoTable_tr_color\" \n        :columns=\"(props.columns.length && props.columns) || []\"  \n        :data=\"props.data\"  \n        :loading=\"props.loading\"\n        :expanded-keys=\"props.expandedRowKeys\"\n        :pagination=\"false\" \n        :row-class=\"activeRowClass\"\n        show-empty-tree \n        :bordered=\"{wrapper: true, cell: true}\" \n        @expanded-change=\"expandedChange\">\n            <template  v-for=\"item in props.columns\" :key = \"item.dataIndex\"  #[item.titleSlotName]>\n                <span>{{ item.title }}<span style=\"color:#999;font-size:12px\">({{ item.days }}天)</span></span>\n            </template>\n        </a-table>\n        <!-- 环比差弹窗  -->\n        <Different :modalVisible=\"modalVisible\" :data=\"props.data\" :columns=\"props.columns\" @handleClose=\"handleClose\"/>\n    </div>\n  </template>\n  \n<script setup>\nimport { ref} from 'vue';\nimport Different from  '@/components/different.vue';\nconst props = defineProps({\n    title:{\n        type:String,\n        default:''\n    },\n    columns: {\n        type: Array,\n        default: () => [],\n    },\n    data: {\n        type: Array,\n        default: () => [],\n    },\n    loading:{\n        type:Boolean,\n        default:false\n    },\n    expandedRowKeys:{\n        type: Array,\n        default: () => [],\n    },\n});\nconst expandedRowKeys = ref(props.expandedRowKeys);\nconst modalVisible = ref(false);\nconst emit = defineEmits([\n\"expandedChange\"\n]);\n// 已展开的数据行发生改变时触发\nconst expandedChange = (rowkeys)=>{\n    expandedRowKeys.value = rowkeys;\n    emit(\"expandedChange\", expandedRowKeys.value);\n};\n//单行高亮处理\nconst activeRowClass = (record) => {\n    if(record.raw.isGreenLight){\n        return 'activeRowGreen'\n    }else if(record.raw.isRate){\n        return 'activeRowPurple'\n    }else{\n        return ''\n    }\n};\n// 打开环比差\nconst handleDifference = () => {\n    modalVisible.value = true;\n};\n// 关闭\nconst handleClose = () => {\n    modalVisible.value = false;\n};\n</script>\n  \n  <style lang=\"scss\" scoped>\n  :deep(.arco-icon-plus){\n      background-image: url(@/assets/images/Triangle-right.png);\n      background-size: 110% 100%;\n      width: 14px!important;\n      height: 14px!important;\n      color: #FFFFFF00;\n      background-position:center;\n      background-repeat: no-repeat;\n  }\n  :deep(.arco-icon-minus){\n      background-image: url(@/assets/images/Triangle-bottom.png);\n      background-size: 110% 100%;\n      background-repeat: no-repeat;\n      width: 14px!important;\n      height: 14px!important;\n      color: #FFFFFF00;\n      background-position:center;\n  }\n  :deep(.arco-table .arco-table-expand-btn){\n      background-color: #fff !important;\n  }\n  :deep(.activeRowGreen > .arco-table-td) {\n      background-color: rgb(234, 248, 243) !important;\n  }\n  :deep(.activeRowPurple > .arco-table-td) {\n      background-color: rgb(240, 237, 248) !important;\n  }\n  </style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}