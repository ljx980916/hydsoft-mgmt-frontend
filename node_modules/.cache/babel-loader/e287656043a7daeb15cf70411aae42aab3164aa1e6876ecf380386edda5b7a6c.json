{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-00053098\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"defaultPadding\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"x轴(长/px)：\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Y轴(高/px)：\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_input_number = _resolveComponent(\"a-input-number\");\n  const _component_icon_edit = _resolveComponent(\"icon-edit\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_space = _resolveComponent(\"a-space\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_a_space, null, {\n    default: _withCtx(() => [_hoisted_2, _createVNode(_component_a_input_number, {\n      modelValue: $setup.width,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.width = $event),\n      placeholder: \"请输入画布长\",\n      min: 1,\n      class: \"w-200\"\n    }, null, 8 /* PROPS */, [\"modelValue\"]), _hoisted_3, _createVNode(_component_a_input_number, {\n      modelValue: $setup.height,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.height = $event),\n      placeholder: \"请输入画布高\",\n      min: 1,\n      class: \"w-200\"\n    }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_a_button, {\n      class: \"m-l-16\",\n      type: \"primary\",\n      onClick: $setup.handleDraw\n    }, {\n      icon: _withCtx(() => [_createVNode(_component_icon_edit)]),\n      default: _withCtx(() => [_createTextVNode(\"开始绘制\")]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_a_table, {\n    class: \"m-t-20\",\n    columns: $setup.tableInfo.columns,\n    data: $setup.tableInfo.data,\n    loading: $setup.tableInfo.loading,\n    pagination: false\n  }, null, 8 /* PROPS */, [\"columns\", \"data\", \"loading\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_a_space","default","_withCtx","_hoisted_2","_component_a_input_number","modelValue","$setup","width","_cache","$event","placeholder","min","_hoisted_3","height","_component_a_button","type","onClick","handleDraw","icon","_component_icon_edit","_createTextVNode","_","_component_a_table","columns","tableInfo","data","loading","pagination"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/views/demo/tableCanvas.vue"],"sourcesContent":["<template>\n  <div class=\"defaultPadding\">\n    <a-space>\n      <span>x轴(长/px)：</span>\n      <a-input-number v-model=\"width\" placeholder=\"请输入画布长\" :min=\"1\" class=\"w-200\" />\n      <span>Y轴(高/px)：</span>\n      <a-input-number v-model=\"height\" placeholder=\"请输入画布高\" :min=\"1\" class=\"w-200\" />\n      <a-button class=\"m-l-16\" type=\"primary\" @click=\"handleDraw\">\n        <template #icon>\n          <icon-edit />\n        </template>\n        <template #default>开始绘制</template>\n      </a-button>\n    </a-space>\n\n    <a-table\n      class=\"m-t-20\"\n      :columns=\"tableInfo.columns\"\n      :data=\"tableInfo.data\"\n      :loading=\"tableInfo.loading\"\n      :pagination=\"false\"\n    >\n    </a-table>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport canvasVue from \"../../components/canvasContainer.vue\";\nimport { getLineChart } from \"@/api/tableCanvas.js\";\nconst height = ref(20);\nconst width = ref(50);\n// 表格数据\nconst tableInfo = reactive({\n  columns: [\n    {\n      title: \"key\",\n      dataIndex: \"key\",\n    },\n    {\n      title: \"canvasLine1\",\n      dataIndex: \"canvasLine1\",\n      render: ({ record }) => {\n        return '<canvasVue route={record.canvasLine1} height={height.value} width={width.value} />';\n      },\n    },\n    {\n      title: \"canvasLine2\",\n      dataIndex: \"canvasLine2\",\n      render: ({ record }) => {\n        return '<canvasVue route={record.canvasLine2} height={height.value} width={width.value} />';\n      },\n    },\n    {\n      title: \"canvasLine3\",\n      dataIndex: \"canvasLine3\",\n      render: ({ record }) => {\n        return '<canvasVue route={record.canvasLine3} height={height.value} width={width.value} />';\n      },\n    },\n  ],\n  data: [],\n  loading: false,\n});\n// 获取数据\nconst getList = params => {\n  tableInfo.loading = true;\n  const formData = new FormData();\n  formData.append(\"xAxis\", params.x);\n  formData.append(\"yAxis\", params.y);\n  getLineChart(formData)\n    .then(res => {\n      if (res.code === \"200\") {\n        res.data.forEach((item, index) => {\n          item.key = index;\n        });\n        tableInfo.data = res.data;\n      }\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n    });\n};\ngetList({ x: width.value, y: height.value });\n// 开始绘制\nconst handleDraw = () => {\n  getList({ x: width.value, y: height.value });\n};\n</script>\n<style scoped>\ncanvas {\n  position: relative;\n  top: 0px;\n  right: 0px;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAgB;gEAEvBC,mBAAA,CAAsB,cAAhB,WAAS;gEAEfA,mBAAA,CAAsB,cAAhB,WAAS;;;;;;;uBAJnBC,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJC,YAAA,CAWUC,kBAAA;IAbdC,OAAA,EAAAC,QAAA,CAGM,MAAsB,CAAtBC,UAAsB,EACtBJ,YAAA,CAA8EK,yBAAA;MAJpFC,UAAA,EAI+BC,MAAA,CAAAC,KAAK;MAJpC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAI+BH,MAAA,CAAAC,KAAK,GAAAE,MAAA;MAAEC,WAAW,EAAC,QAAQ;MAAEC,GAAG,EAAE,CAAC;MAAEhB,KAAK,EAAC;6CACpEiB,UAAsB,EACtBb,YAAA,CAA+EK,yBAAA;MANrFC,UAAA,EAM+BC,MAAA,CAAAO,MAAM;MANrC,uBAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAM+BH,MAAA,CAAAO,MAAM,GAAAJ,MAAA;MAAEC,WAAW,EAAC,QAAQ;MAAEC,GAAG,EAAE,CAAC;MAAEhB,KAAK,EAAC;6CACrEI,YAAA,CAKWe,mBAAA;MALDnB,KAAK,EAAC,QAAQ;MAACoB,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAEV,MAAA,CAAAW;;MACnCC,IAAI,EAAAhB,QAAA,CACb,MAAa,CAAbH,YAAA,CAAaoB,oBAAA,E;MAEJlB,OAAO,EAAAC,QAAA,CAAC,MAAI,CAX/BkB,gBAAA,CAW2B,MAAI,E;MAX/BC,CAAA;;IAAAA,CAAA;MAeItB,YAAA,CAOUuB,kBAAA;IANR3B,KAAK,EAAC,QAAQ;IACb4B,OAAO,EAAEjB,MAAA,CAAAkB,SAAS,CAACD,OAAO;IAC1BE,IAAI,EAAEnB,MAAA,CAAAkB,SAAS,CAACC,IAAI;IACpBC,OAAO,EAAEpB,MAAA,CAAAkB,SAAS,CAACE,OAAO;IAC1BC,UAAU,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}