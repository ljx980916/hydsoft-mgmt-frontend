{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-65544200\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"m-t-40 flex-between\"\n};\nconst _hoisted_2 = {\n  class: \"flex-column-start\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"font-size\": \"12px\",\n    \"color\": \"#666\",\n    \"font-weight\": \"500\",\n    \"margin-top\": \"6px\"\n  }\n}, \"金额单位：万元\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \" 数据设置 \", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  style: {\n    \"height\": \"180px\",\n    \"overflow\": \"scroll\"\n  }\n};\nconst _hoisted_6 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\",\n    \"justify-content\": \"center\",\n    \"width\": \"100%\",\n    \"height\": \"40px\",\n    \"box-shadow\": \"0px -5px 6px -5px rgba(0, 0, 0, 0.2)\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_icon_layers = _resolveComponent(\"icon-layers\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_icon_settings = _resolveComponent(\"icon-settings\");\n  const _component_a_checkbox = _resolveComponent(\"a-checkbox\");\n  const _component_a_checkbox_group = _resolveComponent(\"a-checkbox-group\");\n  const _component_a_trigger = _resolveComponent(\"a-trigger\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" 不折叠表格部分 \"), _createCommentVNode(\" 环比差按钮及数据配置 \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_a_button, {\n    type: \"text\",\n    style: {\n      \"color\": \"#333\"\n    }\n  }, {\n    icon: _withCtx(() => [_createVNode(_component_icon_layers)]),\n    default: _withCtx(() => [_createElementVNode(\"h3\", null, _toDisplayString($setup.props.title), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  }), _hoisted_3]), _createElementVNode(\"div\", null, [_createVNode(_component_a_button, {\n    type: \"text\",\n    style: {\n      \"color\": \"#5370FF\",\n      \"font-weight\": \"500\"\n    },\n    onClick: $setup.handleDifference\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" 环比差 \")]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" <icon-settings style=\\\"color:#5370FF;margin-left:20px;font-size: 14px;font-weight:500\\\" @click=\\\"handleSetting\\\"/> \"), _createVNode(_component_a_trigger, {\n    trigger: \"click\",\n    style: {\n      \"width\": \"160px\",\n      \"background-color\": \"white\",\n      \"box-shadow\": \"0px 1px 4px rgba(0, 0, 0, 0.2)\"\n    }\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", null, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_a_checkbox_group, {\n      modelValue: $setup.defaultCheckList,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.defaultCheckList = $event),\n      onChange: $setup.changeSet\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.setColumnsList, item => {\n        return _openBlock(), _createBlock(_component_a_checkbox, {\n          key: item,\n          value: item,\n          class: \"m-t-10\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(item), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])])]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_a_button, {\n      style: {\n        \"width\": \"50px\",\n        \"height\": \"25px\"\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"取消\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_a_button, {\n      style: {\n        \"width\": \"50px\",\n        \"height\": \"25px\",\n        \"margin-left\": \"10px\"\n      },\n      type: \"primary\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"确认\")]),\n      _: 1 /* STABLE */\n    })])]),\n\n    default: _withCtx(() => [_createVNode(_component_icon_settings, {\n      style: {\n        \"color\": \"#5370FF\",\n        \"margin-left\": \"20px\",\n        \"font-size\": \"14px\",\n        \"font-weight\": \"500\"\n      },\n      onClick: $setup.handleSetting\n    })]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" 表格部分 \"), _createVNode(_component_a_table, {\n    class: \"m-t-20 arcoTable_columnsWidthAuto\",\n    columns: $setup.props.columns.length && $setup.props.columns || [],\n    data: $setup.dataSource.length > 0 ? $setup.dataSource : $setup.props.data,\n    loading: $setup.props.loading,\n    \"expanded-keys\": $setup.expandedRowKeys,\n    pagination: false,\n    \"row-class\": $setup.activeRowClass,\n    \"show-empty-tree\": \"\",\n    bordered: {\n      wrapper: true,\n      cell: true\n    },\n    onExpandedChange: $setup.expandedChange\n  }, null, 8 /* PROPS */, [\"columns\", \"data\", \"loading\", \"expanded-keys\"]), _createCommentVNode(\" 环比差弹窗 \"), _createVNode($setup[\"Different\"], {\n    modalVisible: $setup.modalVisible,\n    data: $setup.dataSource,\n    columns: $setup.props.columns,\n    onHandleClose: $setup.handleClose\n  }, null, 8 /* PROPS */, [\"modalVisible\", \"data\", \"columns\"]), _createCommentVNode(\" <a-modal  \\n        title=\\\"环比配置\\\" \\n        width=\\\"200px\\\" \\n        title-align=\\\"start\\\"  \\n        v-model:visible=\\\"setVisible\\\" \\n        :alignCenter=\\\"false\\\" \\n        :mask-closable=\\\"true\\\" \\n        :closable=\\\"false\\\" \\n        :mask-style=\\\"{backgroundColor:'#FFFFFF00'}\\\"\\n        :modal-style=\\\"{position:'relative',top:'180px',left:'600px',boxShadow: '0px 1px 4px rgba(0, 0, 0, 0.2)'}\\\"\\n        >\\n            <div  style=\\\"height:200px;overflow:scroll\\\">\\n                <a-checkbox-group v-model=\\\"defaultCheckList\\\" @change=\\\"changeSet\\\" >\\n                    <a-checkbox  v-for=\\\"item of setColumnsList\\\" :key=\\\"item\\\" :value=\\\"item\\\">\\n                        {{ item }}\\n                    </a-checkbox>\\n                </a-checkbox-group>\\n            </div>\\n        </a-modal> \")]);\n}","map":{"version":3,"mappings":";;;EAIWA,KAAK,EAAC;AAAqB;;EACvBA,KAAK,EAAC;AAAmB;gEAO1BC,oBAAuF;EAAjFC,KAAkE,EAAlE;IAAA;IAAA;IAAA;IAAA;EAAA;AAAkE,GAAC,SAAO;gEAWtED,oBAEM;EAFDD,KAAK,EAAC;AAAO,GAAC,QAEnB;;EACME,KAAsC,EAAtC;IAAA;IAAA;EAAA;AAAsC;;EAQ3CA,KAAyI,EAAzI;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;AAAyI;;;;;;;;;uBAjChKC,oBA4EM,cA3EFC,gCAAgB,EAChBA,mCAAmB,EACnBH,oBAsCM,OAtCNI,UAsCM,GArCFJ,oBAQM,OARNK,UAQM,GAPFC,aAKWC;IALDC,IAAI,EAAC,MAAM;IAACP,KAAkB,EAAlB;MAAA;IAAA;;IACPQ,IAAI,WACX,MAAe,CAAfH,aAAeI;sBAEnB,MAA0B,CAA1BV,oBAA0B,6BAAnBW,YAAK,CAACC,KAAK;;;MAEtBC,UAAuF,IAE3Fb,oBA2BM,cA1BFM,aAEWC;IAFDC,IAAI,EAAC,MAAM;IAACP,KAAqC,EAArC;MAAA;MAAA;IAAA,CAAqC;IAAEa,OAAK,EAAEH;;sBAAkB,MAEtF,kBAFsF,OAEtF;;MACAR,2IAAuH,EACvHG,aAoBWS;IApBAC,OAAO,EAAC,OAAO;IAAEf,KAAwF,EAAxF;MAAA;MAAA;MAAA;IAAA;;IAEfgB,OAAO,WACd,MAWM,CAXNjB,oBAWM,cAVFkB,UAEM,EACNlB,oBAMM,OANNmB,UAMM,GALFb,aAImBc;kBAJQT,uBAAgB;iEAAhBA,uBAAgB;MAAGU,QAAM,EAAEV;;wBACrC,MAA8B,oBAA3CT,oBAEaoB,6BAFeX,qBAAc,EAAtBY,IAAI;6BAAxBC,aAEaC;UAFgCC,GAAG,EAAEH,IAAI;UAAGI,KAAK,EAAEJ,IAAI;UAAExB,KAAK,EAAC;;4BACxE,MAAU,mCAAPwB,IAAI;;;;;;;2CAKvBvB,oBAGM,OAHN4B,UAGM,GAFFtB,aAAwDC;MAA9CN,KAAgC,EAAhC;QAAA;QAAA;MAAA;IAAgC;wBAAC,MAAE,kBAAF,IAAE;;QAC7CK,aAAwFC;MAA9EN,KAAiD,EAAjD;QAAA;QAAA;QAAA;MAAA,CAAiD;MAACO,IAAI,EAAC;;wBAAU,MAAE,kBAAF,IAAE;;;;sBAhBrF,MAA8G,CAA9GF,aAA8GuB;MAA/F5B,KAAsE,EAAtE;QAAA;QAAA;QAAA;QAAA;MAAA,CAAsE;MAAEa,OAAK,EAAEH;;;UAuBxGR,6BAAa,EACbG,aAWEwB;IAVF/B,KAAK,EAAC,mCAAmC;IACxCgC,OAAO,EAAGpB,YAAK,CAACoB,OAAO,CAACC,MAAM,IAAIrB,YAAK,CAACoB,OAAO;IAC/CE,IAAI,EAAEtB,iBAAU,CAACqB,MAAM,OAAGrB,iBAAU,GAACA,YAAK,CAACsB,IAAI;IAC/CC,OAAO,EAAEvB,YAAK,CAACuB,OAAO;IACtB,eAAa,EAAEvB,sBAAe;IAC9BwB,UAAU,EAAE,KAAK;IACjB,WAAS,EAAExB,qBAAc;IAC1B,iBAAe,EAAf,EAAe;IACdyB,QAAQ,EAAE;MAAAC;MAAAC;IAAA,CAA2B;IACrCC,gBAAe,EAAE5B;4EAElBR,8BAAc,EACdG,aAAgHK;IAApG6B,YAAY,EAAE7B,mBAAY;IAAGsB,IAAI,EAAEtB,iBAAU;IAAGoB,OAAO,EAAEpB,YAAK,CAACoB,OAAO;IAAGU,aAAW,EAAE9B;gEAChGR,i0BAkBc","names":["class","_createElementVNode","style","_createElementBlock","_createCommentVNode","_hoisted_1","_hoisted_2","_createVNode","_component_a_button","type","icon","_component_icon_layers","$setup","title","_hoisted_3","onClick","_component_a_trigger","trigger","content","_hoisted_4","_hoisted_5","_component_a_checkbox_group","onChange","_Fragment","item","_createBlock","_component_a_checkbox","key","value","_hoisted_6","_component_icon_settings","_component_a_table","columns","length","data","loading","pagination","bordered","wrapper","cell","onExpandedChange","modalVisible","onHandleClose"],"sourceRoot":"","sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/components/noCollapseTable.vue"],"sourcesContent":["<template>\n  <div>\n      <!-- 不折叠表格部分 -->\n      <!-- 环比差按钮及数据配置 -->\n      <div class=\"m-t-40 flex-between\">\n          <div class=\"flex-column-start\">\n              <a-button type=\"text\" style=\"color:#333\">\n                  <template #icon>\n                      <icon-layers />\n                  </template>\n                  <h3>{{ props.title }}</h3>\n              </a-button>\n              <span style=\"font-size: 12px;color:#666;font-weight: 500;margin-top:6px\">金额单位：万元</span>\n          </div>\n          <div>\n              <a-button type=\"text\" style=\"color:#5370FF;font-weight:500\" @click=\"handleDifference\">\n                  环比差\n              </a-button>\n              <!-- <icon-settings style=\"color:#5370FF;margin-left:20px;font-size: 14px;font-weight:500\" @click=\"handleSetting\"/> -->\n              <a-trigger trigger=\"click\"  style=\"width: 160px;background-color: white;box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\">\n                <icon-settings style=\"color:#5370FF;margin-left:20px;font-size: 14px;font-weight:500\" @click=\"handleSetting\"/>\n                <template #content>\n                    <div>\n                        <div class=\"title\"> \n                            数据设置\n                        </div>\n                        <div  style=\"height:180px;overflow: scroll;\">\n                            <a-checkbox-group v-model=\"defaultCheckList\" @change=\"changeSet\">\n                                <a-checkbox  v-for=\"item of setColumnsList\" :key=\"item\" :value=\"item\" class=\"m-t-10\">\n                                    {{ item }}\n                                </a-checkbox>\n                            </a-checkbox-group>\n                        </div>\n                    </div>\n                    <div style=\"display:flex;align-items: center;justify-content: center;width:100%;height:40px;box-shadow: 0px -5px 6px -5px rgba(0, 0, 0, 0.2);\">\n                        <a-button style=\"width: 50px;height:25px;\">取消</a-button>\n                        <a-button style=\"width: 50px;height:25px;margin-left:10px;\" type=\"primary\">确认</a-button>\n                    </div>\n                </template>\n             </a-trigger>\n             \n          </div>\n      </div>\n      <!-- 表格部分 -->\n      <a-table \n      class=\"m-t-20 arcoTable_columnsWidthAuto\" \n      :columns=\"(props.columns.length && props.columns) || []\"  \n      :data=\"dataSource.length>0?dataSource:props.data\"  \n      :loading=\"props.loading\"\n      :expanded-keys=\"expandedRowKeys\"\n      :pagination=\"false\" \n      :row-class=\"activeRowClass\"\n      show-empty-tree \n      :bordered=\"{wrapper: true, cell: true}\" \n      @expanded-change=\"expandedChange\"\n      />\n      <!-- 环比差弹窗 -->\n      <Different :modalVisible=\"modalVisible\" :data=\"dataSource\" :columns=\"props.columns\" @handleClose=\"handleClose\"/>\n        <!-- <a-modal  \n        title=\"环比配置\" \n        width=\"200px\" \n        title-align=\"start\"  \n        v-model:visible=\"setVisible\" \n        :alignCenter=\"false\" \n        :mask-closable=\"true\" \n        :closable=\"false\" \n        :mask-style=\"{backgroundColor:'#FFFFFF00'}\"\n        :modal-style=\"{position:'relative',top:'180px',left:'600px',boxShadow: '0px 1px 4px rgba(0, 0, 0, 0.2)'}\"\n        >\n            <div  style=\"height:200px;overflow:scroll\">\n                <a-checkbox-group v-model=\"defaultCheckList\" @change=\"changeSet\" >\n                    <a-checkbox  v-for=\"item of setColumnsList\" :key=\"item\" :value=\"item\">\n                        {{ item }}\n                    </a-checkbox>\n                </a-checkbox-group>\n            </div>\n        </a-modal> -->\n  </div>\n</template>\n\n<script setup>\nimport { ref,reactive} from 'vue';\nimport {dealData} from '@/utils/util.js';\nimport Different from  '@/components/different.vue';\nconst props = defineProps({\n    title:{\n        type:String,\n        default:''\n    },\n    columns: {\n        type: Array,\n        default: () => [],\n    },\n    setColumnsData:{\n        type: Array,\n        default: () => [],\n    },\n    // 表头\n    data: {\n        type: Array,\n        default: () => [],\n    },\n    loading:{\n        type:Boolean,\n        default:false\n    },\n    expandedRowKeys:{\n        type: Array,\n        default: () => [],\n    },\n});\nconst modalVisible = ref(false);\nconst setVisible = ref(false);\nconst setColumnsList = ref([]);\nconst defaultCheckList = ref([]);\nconst dataSource  = ref(props.data);\nconst expandedRowKeys = ref(props.expandedRowKeys)\n//单行高亮处理\nconst activeRowClass = (record) => {\n    if(record.raw.isGreenLight){\n        return 'activeRowGreen'\n    }else if(record.raw.isRate){\n        return 'activeRowPurple'\n    }else{\n        return ''\n    }\n};\n// 打开环比差\nconst handleDifference = () => {\n    modalVisible.value = true;\n};\n// 关闭\nconst handleClose = () => {\n    modalVisible.value = false;\n};\n// 点击数据设置\nconst handleSetting = ()=>{\n    setColumnsList.value = []\n    setVisible.value = true;\n    props.setColumnsData.forEach(item=>{\n        setColumnsList.value.push(item.analysis)\n    })\n}\n// 更改数据设置\nconst changeSet =(val)=>{\n    let arr = [];\n    dataSource.value = props.data;\n    props.setColumnsData.forEach(item=>{\n        if(val.indexOf(item.analysis)!==-1){\n            arr.push(item);\n        }\n    })\n    dataSource.value = arr.concat(dataSource.value);\n    expandedRowKeys.value = dealData(dataSource.value).keyArr;\n}\nconst emit = defineEmits([\n\"noexpandedChange\"\n]);\n// 已展开的数据行发生改变时触发\nconst expandedChange = (rowkeys)=>{\n    expandedRowKeys.value = rowkeys;\n    emit(\"noexpandedChange\", expandedRowKeys.value);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.activeRowGreen > .arco-table-td) {\n    background-color: rgb(234, 248, 243) !important;\n}\n:deep(.activeRowPurple > .arco-table-td) {\n    background-color: rgb(240, 237, 248) !important;\n}\n:global(.arco-dropdown-group-title){\n    background-color: white;\n    position: fixed;\n    margin-top:-40px !important;\n    z-index:9999;\n    font-size:12px;\n    color:rgba(0, 0, 0, 0.647058823529412);\n}\n.title{\n    font-size:12px;\n    color:rgba(0, 0, 0, 0.647058823529412);\n    // box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.2);\n    box-shadow: 1px 5px 2px -5px rgba(0, 0, 0, 0.2);\n    padding: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}