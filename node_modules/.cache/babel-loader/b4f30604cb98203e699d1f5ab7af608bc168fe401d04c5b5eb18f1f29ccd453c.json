{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2074de28\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  style: {\n    \"position\": \"relative\",\n    \"overflow\": \"hidden\"\n  },\n  class: \"defaultPadding\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"tip\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"提示：点击饼状图切换事业群\")], -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"pie\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"modal\"\n};\nconst _hoisted_5 = {\n  class: \"title\"\n};\nconst _hoisted_6 = {\n  class: \"subtitle\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"C1人数\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"m-r-8\"\n}, \"G人数\", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"C2人数\", -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"m-r-12\"\n}, \"S人数\", -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"m-r-10\"\n}, \"R人数\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  class: \"m-l-40\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"正式人数\", -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"兼职人数\", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"实习人数\", -1 /* HOISTED */));\nconst _hoisted_16 = {\n  class: \"time\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_radio = _resolveComponent(\"a-radio\");\n  const _component_a_radio_group = _resolveComponent(\"a-radio-group\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createCommentVNode(\" 弹框 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"p\", _hoisted_5, \"在职人数统计：\" + _toDisplayString($setup.form.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.currentDate), 1 /* TEXT */), _createElementVNode(\"ul\", null, [_createElementVNode(\"div\", null, [_createElementVNode(\"li\", null, [_hoisted_7, _createElementVNode(\"span\", null, _toDisplayString($setup.getSplitNum($setup.form.c1People)), 1 /* TEXT */)]), _createElementVNode(\"li\", null, [_hoisted_8, _createElementVNode(\"span\", null, _toDisplayString($setup.form.Gpeople), 1 /* TEXT */)]), _createElementVNode(\"li\", null, [_hoisted_9, _createElementVNode(\"span\", null, _toDisplayString($setup.form.c2People), 1 /* TEXT */)]), _createElementVNode(\"li\", null, [_hoisted_10, _createElementVNode(\"span\", null, _toDisplayString($setup.form.sPeople), 1 /* TEXT */)]), _createElementVNode(\"li\", null, [_hoisted_11, _createElementVNode(\"span\", null, _toDisplayString($setup.form.rPeople), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"li\", null, [_hoisted_13, _createElementVNode(\"span\", null, _toDisplayString($setup.getSplitNum($setup.form.formalPeople)), 1 /* TEXT */)]), _createElementVNode(\"li\", null, [_hoisted_14, _createElementVNode(\"span\", null, _toDisplayString($setup.form.partTimePeople), 1 /* TEXT */)]), _createElementVNode(\"li\", null, [_hoisted_15, _createElementVNode(\"span\", null, _toDisplayString($setup.form.practicePeople), 1 /* TEXT */)])])]), _createVNode(_component_a_button, {\n    class: \"button\",\n    type: \"primary\",\n    onClick: $setup.handleDetail\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"明细\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_a_radio_group, {\n    type: \"button\",\n    size: \"large\",\n    modelValue: $setup.time,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.time = $event),\n    onChange: $setup.changeTime\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.timeList, item => {\n      return _openBlock(), _createBlock(_component_a_radio, {\n        value: item.label\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(item.value), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n    }), 256 /* UNKEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", {\n    id: \"post\",\n    onClick: $setup.handleIsPost\n  })]);\n}","map":{"version":3,"mappings":";;;EACOA,KAA4C,EAA5C;IAAA;IAAA;EAAA,CAA4C;EAACC,KAAK,EAAC;;gEACtDC,oBAA6C;EAA1CD,KAAK,EAAC;AAAK,iBAACC,oBAA0B,cAApB,eAAa;gEAClCA,oBAAoB;EAAfC,EAAE,EAAC;AAAK;;EAERF,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAU;gEAIbC,oBAAiB,cAAX,MAAI;gEAIVA,oBAA8B;EAAxBD,KAAK,EAAC;AAAO,GAAC,KAAG;gEAIvBC,oBAAiB,cAAX,MAAI;iEAIVA,oBAA+B;EAAzBD,KAAK,EAAC;AAAQ,GAAC,KAAG;iEAIxBC,oBAA+B;EAAzBD,KAAK,EAAC;AAAQ,GAAC,KAAG;;EAIvBA,KAAK,EAAC;AAAQ;iEAEfC,oBAAiB,cAAX,MAAI;iEAIVA,oBAAiB,cAAX,MAAI;iEAIVA,oBAAiB,cAAX,MAAI;;EAObD,KAAK,EAAC;AAAM;;;;;uBA/CnBG,oBAqDM,OArDNC,UAqDM,GApDJC,UAA6C,EAC7CC,UAAoB,EACpBC,2BAAW,EACXN,oBA0CM,OA1CNO,UA0CM,GAzCJP,oBAA4C,KAA5CQ,UAA4C,EAA3B,SAAO,oBAAGC,WAAI,CAACC,KAAK,kBACrCV,oBAAyC,KAAzCW,UAAyC,mBAAlBF,kBAAW,kBAClCT,oBAqCK,aApCHA,oBAqBM,cApBJA,oBAGK,aAFHY,UAAiB,EACjBZ,oBAA6C,+BAApCS,kBAAW,CAACA,WAAI,CAACI,QAAQ,qBAEpCb,oBAGK,aAFHc,UAA8B,EAC9Bd,oBAA+B,+BAAtBS,WAAI,CAACM,OAAO,oBAEvBf,oBAGK,aAFHgB,UAAiB,EACjBhB,oBAAgC,+BAAvBS,WAAI,CAACQ,QAAQ,oBAExBjB,oBAGK,aAFHkB,WAA+B,EAC/BlB,oBAA+B,+BAAtBS,WAAI,CAACU,OAAO,oBAEvBnB,oBAGK,aAFHoB,WAA+B,EAC/BpB,oBAA+B,+BAAtBS,WAAI,CAACY,OAAO,sBAGzBrB,oBAaM,OAbNsB,WAaM,GAZJtB,oBAGK,aAFHuB,WAAiB,EACjBvB,oBAAiD,+BAAxCS,kBAAW,CAACA,WAAI,CAACe,YAAY,qBAExCxB,oBAGK,aAFHyB,WAAiB,EACjBzB,oBAAsC,+BAA7BS,WAAI,CAACiB,cAAc,oBAE9B1B,oBAGK,aAFH2B,WAAiB,EACjB3B,oBAAsC,+BAA7BS,WAAI,CAACmB,cAAc,wBAIlCC,aAA2EC;IAAjE/B,KAAK,EAAC,QAAQ;IAACgC,IAAI,EAAC,SAAS;IAAEC,OAAK,EAAEvB;;sBAAc,MAAE,kBAAF,IAAE;;QAElET,oBAIM,OAJNiC,WAIM,GAHJJ,aAEgBK;IAFDH,IAAI,EAAC,QAAQ;IAACI,IAAI,EAAC,OAAO;gBAAU1B,WAAI;+DAAJA,WAAI;IAAG2B,QAAM,EAAE3B;;sBACvD,MAAwB,oBAAjCP,oBAAgFmC,6BAAxD5B,eAAQ,EAAhB6B,IAAI;2BAApBC,aAAgFC;QAA7CC,KAAK,EAAEH,IAAI,CAACI;;0BAAO,MAAgB,mCAAbJ,IAAI,CAACG,KAAK;;;;;;;uCAGvEzC,oBAA2C;IAAtCC,EAAE,EAAC,MAAM;IAAE+B,OAAK,EAAEvB","names":["style","class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createCommentVNode","_hoisted_4","_hoisted_5","$setup","title","_hoisted_6","_hoisted_7","c1People","_hoisted_8","Gpeople","_hoisted_9","c2People","_hoisted_10","sPeople","_hoisted_11","rPeople","_hoisted_12","_hoisted_13","formalPeople","_hoisted_14","partTimePeople","_hoisted_15","practicePeople","_createVNode","_component_a_button","type","onClick","_hoisted_16","_component_a_radio_group","size","onChange","_Fragment","item","_createBlock","_component_a_radio","value","label"],"sourceRoot":"","sources":["/Users/lijiaxin/Documents/workspace/hydsoft-mgmt-frontend/src/views/staffStatistics/staffStatics/staticPicture.vue"],"sourcesContent":["<template>\n  <div style=\"position: relative; overflow: hidden\" class=\"defaultPadding\">\n    <p class=\"tip\"><span>提示：点击饼状图切换事业群</span></p>\n    <div id=\"pie\"></div>\n    <!-- 弹框 -->\n    <div class=\"modal\">\n      <p class=\"title\">在职人数统计：{{ form.title }}</p>\n      <p class=\"subtitle\">{{ currentDate }}</p>\n      <ul>\n        <div>\n          <li>\n            <span>C1人数</span>\n            <span>{{ getSplitNum(form.c1People) }}</span>\n          </li>\n          <li>\n            <span class=\"m-r-8\">G人数</span>\n            <span>{{ form.Gpeople }}</span>\n          </li>\n          <li>\n            <span>C2人数</span>\n            <span>{{ form.c2People }}</span>\n          </li>\n          <li>\n            <span class=\"m-r-12\">S人数</span>\n            <span>{{ form.sPeople }}</span>\n          </li>\n          <li>\n            <span class=\"m-r-10\">R人数</span>\n            <span>{{ form.rPeople }}</span>\n          </li>\n        </div>\n        <div class=\"m-l-40\">\n          <li>\n            <span>正式人数</span>\n            <span>{{ getSplitNum(form.formalPeople) }}</span>\n          </li>\n          <li>\n            <span>兼职人数</span>\n            <span>{{ form.partTimePeople }}</span>\n          </li>\n          <li>\n            <span>实习人数</span>\n            <span>{{ form.practicePeople }}</span>\n          </li>\n        </div>\n      </ul>\n      <a-button class=\"button\" type=\"primary\" @click=\"handleDetail\">明细</a-button>\n    </div>\n    <div class=\"time\">\n      <a-radio-group type=\"button\" size=\"large\" v-model=\"time\" @change=\"changeTime\">\n        <a-radio v-for=\"item of timeList\" :value=\"item.label\">{{ item.value }}</a-radio>\n      </a-radio-group>\n    </div>\n    <div id=\"post\" @click=\"handleIsPost\"></div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref, reactive, onUnmounted, watchEffect } from \"vue\";\nimport * as echarts from \"echarts\";\nimport { getSplitNum, getCurrentTime } from \"@/utils/util.js\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { getPieChartData, getCauseGroup, getPostChartData } from \"@/api/staffStatics.js\";\nimport { getCurrentInstance } from \"@vue/runtime-core\";\nlet $bus = getCurrentInstance().appContext.config.globalProperties.$bus;\nimport moment from \"moment\";\nconst router = useRouter();\nconst route = useRoute();\nconst form = reactive({\n  title: \"各BG汇总\",\n  c1People: 1477,\n  Gpeople: 60,\n  c2People: 100,\n  sPeople: 4,\n  rPeople: 200,\n  formalPeople: 1477,\n  partTimePeople: 60,\n  practicePeople: 100,\n});\nlet { year, month, days } = getCurrentTime();\nlet currentDate = `${year}/${month}/${days}`;\nconst isPie = ref(false);\nconst isPost = ref(false);\nvar pieData = [];\nvar pieDatas = [];\nvar entryList = [];\nvar departList = [];\nvar formalList = [];\nvar xAxisList = [];\nvar pieColor = [\"#8E83BD\", \"#F0886F\", \"#6D99C8\", \"#C59E63\", \"#4D8192\", \"#7DAE99\"];\nvar subText = 0;\nvar myPieChart;\nvar myPostChart;\nconst time = ref(\"1\");\nconst dataIndex = ref(-1);\nconst timeList = ref([\n  {\n    label: \"1\",\n    value: \"近12月\",\n  },\n  {\n    label: \"2\",\n    value: \"近26周\",\n  },\n  {\n    label: \"3\",\n    value: \"近30自然日\",\n  },\n]);\n// 视口宽度\nwatchEffect(() => {\n  $bus.emit(\"updateStructure\", [\n    { type: \"text\", color: \"#333\", msg: `人员分析` },\n    { type: \"text\", color: \"#333\", msg: `人员统计` },\n  ]);\n});\n\n// 环状图-------------------------------------------------\nconst getPieData = () => {\n  pieDatas = [];\n  pieData = [];\n  subText = 0;\n  getPieChartData().then(res => {\n    if (res.code === \"000000000000\") {\n      res.data.forEach(item => {\n        pieData.push({\n          name: item.deptName,\n          value: item.extendColumn2,\n        });\n        subText += item.extendColumn2;\n      });\n      pieDatas = pieData.map((item, index) => {\n        return {\n          name: item.name,\n          value: item.value,\n          label: { color: pieColor[index] },\n        };\n      });\n      getPieCharts();\n      const deptNames = [\"BG1\", \"BG2\", \"BG3\", \"BG4\"];\n      deptNames.forEach((item, index) => {\n        if (form.title === item) {\n          myPieChart.dispatchAction({\n            type: \"highlight\", //突出高亮显示;\n            seriesIndex: 0,\n            dataIndex: index,\n          });\n        }\n      });\n    }\n  });\n};\nconst getPieCharts = () => {\n  if (myPieChart != null && myPieChart != \"\" && myPieChart != undefined) {\n    myPieChart.dispose();\n  }\n  var chartDom = document.getElementById(\"pie\");\n  if (chartDom) {\n    myPieChart = echarts.init(chartDom);\n    var option = {\n      tooltip: {\n        trigger: \"item\",\n        triggerOn: \"none\",\n        formatter: \"{b}\",\n        position: function (point, params, dom, rect, size) {\n          if (params.name == \"BG1\") {\n            return { left: rect.x, top: rect.y + 50 };\n          }\n          if (params.name == \"BG3\") {\n            return { left: rect.x + 30, top: rect.y + 50 };\n          }\n          if (params.name == \"BG4\") {\n            return { left: rect.x, top: rect.y };\n          }\n          if (params.name == \"BG2\") {\n            return { left: rect.x + 60, top: rect.y + 50 };\n          }\n        },\n      },\n      //环形图中间文字\n      title: {\n        text: \"总人数\",\n        subtext: getSplitNum(subText),\n        textStyle: {\n          fontSize: \"14px\",\n          color: \"#6B7785\",\n          fontWeight: 300,\n          fontFamily: \"PingFangSC-Thin\",\n        },\n        subtextStyle: {\n          fontSize: \"18px\",\n          color: \"#6B7785\",\n          fontWeight: 500,\n          fontFamily: \"PingFang SC\",\n        },\n        textAlign: \"center\", //图例文字居中显示\n        x: \"48.3%\", //距离左边的距离\n        y: \"38.5%\", //距离上边的距离\n      },\n      animation: false,\n      //数据的颜色设置\n      color: [\"#8E83BD\", \"#F0886F\", \"#6D99C8\", \"#C59E63\", \"#4D8192\", \"#7DAE99\"],\n      //图例设置\n      legend: {\n        bottom: -5,\n        itemGap: 20, //数据上下的距离\n        itemWidth: 20, // 设置宽度\n        data: pieData,\n      },\n      series: [\n        {\n          radius: [\"53%\", \"80%\"], //第一个是中间圆的大小，第二个是外边圆的大小\n          center: [\"49%\", \"47%\"], //左边的距离，上边的距离\n          type: \"pie\",\n          label: {\n            position: \"inner\", //文字显示在内部，如果在外边把这个去掉就好\n            color: \"#fff\", //文字的颜色\n            fontSize: \"14px\",\n            textAlign: \"left\",\n          },\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 6,\n              shadowOffsetX: 0,\n              shadowColor: \"rgba(100, 114, 123, 0.5)\",\n            },\n            label: {\n              show: true,\n              formatter: \"{b}\",\n              fontSize: \"18px\",\n              color: \"#fff\",\n            },\n            scale: true,\n            scaleSize: 10,\n          },\n          data: pieData,\n          startAngle: 45, //起始角度\n          clockwise: false, //生长方向，是否顺时针\n        },\n        {\n          radius: [\"53%\", \"80%\"], //第一个是中间圆的大小，第二个是外边圆的大小\n          center: [\"49%\", \"47%\"], //左边的距离，上边的距离\n          type: \"pie\",\n          label: {\n            formatter: function (data) {\n              let c = getSplitNum(data.value);\n              return c;\n            },\n            position: \"outer\", //文字显示在内部，如果在外边把这个去掉就好\n            fontSize: \"14px\",\n            textAlign: \"left\",\n          },\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: \"rgba(100, 114, 123, 0.5)\",\n            },\n            label: {\n              show: true,\n            },\n            scale: true,\n            scaleSize: 10,\n          },\n          data: pieDatas,\n          startAngle: 45, //起始角度\n          clockwise: false, //生长方向，是否顺时针\n        },\n      ],\n    };\n    option && myPieChart.setOption(option);\n    window.addEventListener(\"resize\", handlePieResize);\n    myPieChart.on(\"click\", function (params) {\n      dataIndex.value = params.dataIndex;\n      isPie.value = true;\n      form.title = params.name;\n      for (var i = 0; i < pieDatas.length; i++) {\n        if (i != params.dataIndex) {\n          myPieChart.dispatchAction({\n            type: \"downplay\", //取消突出高亮显示;\n            seriesIndex: 0,\n            dataIndex: i,\n          });\n        }\n      }\n      myPieChart.dispatchAction({\n        type: \"hideTip\",\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n      });\n      myPieChart.dispatchAction({\n        type: \"highlight\", //突出高亮显示;\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n      });\n    });\n    myPieChart.on(\"mouseover\", function (params) {\n      if (params.dataIndex == dataIndex.value || params.name == form.title) {\n        myPieChart.dispatchAction({\n          type: \"hideTip\",\n          seriesIndex: 0,\n          dataIndex: params.dataIndex,\n        });\n      } else {\n        myPieChart.dispatchAction({\n          type: \"showTip\",\n          seriesIndex: 0,\n          dataIndex: params.dataIndex,\n        });\n      }\n    });\n    myPieChart.on(\"mouseout\", function (params) {\n      myPieChart.dispatchAction({\n        type: \"hideTip\",\n        seriesIndex: 0,\n        dataIndex: params.dataIndex,\n      });\n    });\n  }\n};\nconst handlePieResize = () => {\n  myPieChart.resize();\n};\nconst handleClickOutside = event => {\n  if (event.target.tagName !== \"SPAN\" && !isPost.value && event.target.tagName !== \"BUTTON\") {\n    if (isPie.value) {\n      getCauseGroupData(form.title);\n      isPie.value = false;\n      getPostData(time.value);\n    } else {\n      form.title = \"各BG汇总\";\n      getPieCharts();\n      getCauseGroupData(\"各BG汇总\");\n      getPostData(time.value);\n    }\n  }\n  if (isPost.value) {\n    isPost.value = false;\n  }\n};\n//获取事业群全部数据\nconst getCauseGroupData = deptName => {\n  if (deptName !== \"各BG汇总\") {\n    const formData = new FormData();\n    formData.append(\"deptName\", form.title);\n    getCauseGroup(formData).then(res => {\n      const { code, data } = res;\n      if (code === \"000000000000\") {\n        form.c1People = data.C1;\n        form.Gpeople = data.G;\n        form.c2People = data.C2;\n        form.sPeople = data.S;\n        form.rPeople = data.R;\n        form.formalPeople = data.official;\n        form.partTimePeople = data.pluralistic;\n        form.practicePeople = data.practice;\n      }\n    });\n  } else {\n    getCauseGroup().then(res => {\n      const { code, data } = res;\n      if (code === \"000000000000\") {\n        form.c1People = data.C1;\n        form.Gpeople = data.G;\n        form.c2People = data.C2;\n        form.sPeople = data.S;\n        form.rPeople = data.R;\n        form.formalPeople = data.official;\n        form.partTimePeople = data.pluralistic;\n        form.practicePeople = data.practice;\n        form.title = \"各BG汇总\";\n      }\n    });\n  }\n};\n// 明细\nconst handleDetail = () => {\n  router.push({\n    path: \"/staticDetail\",\n    state: {\n      deptName: form.title === \"各BG汇总\" ? \"全部\" : form.title,\n    },\n  });\n};\n// 柱状图-----------------------------------------------------------\nconst handleIsPost = () => {\n  isPost.value = true;\n};\nconst getPostData = val => {\n  const formData = new FormData();\n  formData.append(\"histogram\", val);\n  if (form.title !== \"各BG汇总\") {\n    formData.append(\"deptName\", form.title);\n  }\n  getPostChartData(formData).then(res => {\n    if (res.code == \"000000000000\") {\n      departList = [];\n      entryList = [];\n      formalList = [];\n      xAxisList = [];\n      if (val == \"1\") {\n        res.data.forEach(item => {\n          if (item.extendColumn1.slice(0, 4) !== \"2022\") {\n            const parts = item.extendColumn1.split(\"-\");\n            const year = parts[0];\n            const month = parts[1];\n            var months = `${year}.${month}`;\n            xAxisList.push(months);\n            formalList.push(item.extendColumn2);\n            entryList.push(item.extendColumn3);\n            departList.push(item.extendColumn4);\n          }\n        });\n      } else {\n        res.data.forEach(item => {\n          formalList.push(item.extendColumn2);\n          entryList.push(item.extendColumn3);\n          departList.push(item.extendColumn4);\n          const date = moment(item.extendColumn1);\n          const formattedDate = date.format(\"M/D\");\n          xAxisList.push(formattedDate);\n        });\n      }\n      getPostCharts();\n    }\n  });\n};\nconst getPostCharts = () => {\n  if (myPostChart != null && myPostChart != \"\" && myPostChart != undefined) {\n    myPostChart.dispose();\n  }\n  var chartDoms = document.getElementById(\"post\");\n  if (chartDoms) {\n    myPostChart = echarts.init(chartDoms);\n    const colors = [\"#69D1B0\", \"#F98981\", \"#3491FA\"];\n    var option = {\n      color: colors,\n      tooltip: {\n        axisPointer: {\n          type: \"cross\",\n        },\n        extraCssText: \"text-align: left;\",\n        formatter: params => {\n          if (params.seriesIndex == 0) return \"时间：\" + params.name + \"</br>\" + params.seriesName + \"：\" + params.value;\n          if (params.seriesIndex == 1) return \"时间：\" + params.name + \"</br>\" + params.seriesName + \"：\" + params.value;\n          if (params.seriesIndex == 2) return \"时间：\" + params.name + \"</br>\" + params.seriesName + \"：\" + params.value;\n        },\n      },\n      grid: {\n        right: \"10%\",\n        left: \"20%\",\n        top: \"8%\",\n      },\n      legend: {\n        data: [\"入职人数\", \"离职人数\", \"在职员工人数\"],\n        bottom: \"2%\",\n        itemGap: 26, //数据上下的距离\n      },\n      xAxis: [\n        {\n          type: \"category\",\n          axisTick: {\n            alignWithLabel: true,\n          },\n          axisLabel: {\n            interval: \"auto\",\n          },\n          data: xAxisList,\n        },\n      ],\n      yAxis: [\n        {\n          type: \"value\",\n          name: \"柱状\",\n          position: \"left\",\n          alignTicks: true,\n          splitLine: false,\n          axisLine: {\n            show: true,\n          },\n          axisLabel: {\n            formatter: \"{value}\",\n          },\n        },\n        {\n          type: \"value\",\n          name: \"折线\",\n          position: \"left\",\n          alignTicks: true,\n          splitLine: false,\n          offset: 50,\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: colors[2],\n            },\n          },\n          axisLabel: {\n            formatter: \"{value}\",\n          },\n        },\n      ],\n      series: [\n        {\n          name: \"入职人数\",\n          type: \"bar\",\n          data: entryList,\n        },\n        {\n          name: \"离职人数\",\n          type: \"bar\",\n          data: departList,\n        },\n        {\n          name: \"在职员工人数\",\n          type: \"line\",\n          yAxisIndex: 1,\n          data: formalList,\n        },\n      ],\n    };\n    option && myPostChart.setOption(option);\n    window.addEventListener(\"resize\", handlePostResize);\n  }\n};\nconst handlePostResize = () => {\n  myPostChart.resize();\n};\n// 更改时间\nconst changeTime = val => {\n  time.value = val;\n  getPostData(val);\n};\nonMounted(() => {\n  document.addEventListener(\"click\", handleClickOutside);\n  form.title = history.state.deptName ? (history.state.deptName == \"全部\" ? \"各BG汇总\" : history.state.deptName) : \"各BG汇总\";\n  getCauseGroupData(form.title);\n  getPieData();\n  getPostData(time.value);\n});\nonUnmounted(() => {\n  window.removeEventListener(\"resize\", handlePieResize);\n  document.removeEventListener(\"click\", handleClickOutside);\n  window.removeEventListener(\"resize\", handlePostResize);\n});\n</script>\n\n<style scoped lang=\"scss\">\n#pie {\n  height: 300px;\n  width: 52%;\n}\n.tip {\n  font-weight: 400;\n  font-style: normal;\n  font-size: 10px;\n  color: #a8b4cc;\n  display: inline-block;\n  width: 50%;\n  text-align: center;\n}\n.modal {\n  width: 560px;\n  box-shadow: 0px 0px 5px rgb(209, 211, 224);\n  position: absolute;\n  left: 45%;\n  top: 7%;\n}\n.title {\n  margin: 26px 0 0 40px;\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.847058823529412);\n  font-family: \"PingFangSC-Medium\", \"PingFang SC Medium\";\n}\n.subtitle {\n  margin-left: 40px;\n  font-weight: 400;\n  font-family: \"PingFangSC-Regular\", \"PingFang SC\";\n  font-style: normal;\n  font-size: 12px;\n  color: #a8b4cc;\n}\nul {\n  width: 450px;\n  margin-left: 50px;\n  list-style: none;\n  display: flex;\n  margin-top: 30px;\n}\nli {\n  margin: 0 60px 10px 0;\n  > span:first-child {\n    font-weight: 400;\n    font-size: 14px;\n    color: #a8b4cc;\n    line-height: 22px;\n  }\n  > span:nth-child(2) {\n    font-weight: 400;\n    font-style: normal;\n    font-size: 14px;\n    color: #778092;\n    line-height: 22px;\n    margin-left: 10px;\n  }\n}\n.button {\n  position: relative;\n  left: 75%;\n  top: -30px;\n}\n.time {\n  position: absolute;\n  left: 61%;\n  top: 46%;\n}\n#post {\n  max-width: 90%;\n  height: 400px;\n  margin-top: 80px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}