{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const {\n    maxRows = 15,\n    maxColumns = 10,\n    maxNumSize = 8,\n    padMinus = 'auto'\n  } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus) {\n  const {\n    rows,\n    columns\n  } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n  if (padMinus === 'auto') {\n    padMinus = false;\n    loop: for (let i = 0; i < maxI; i++) {\n      for (let j = 0; j < maxJ; j++) {\n        if (matrix.get(i, j) < 0) {\n          padMinus = true;\n          break loop;\n        }\n      }\n    }\n  }\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize, padMinus));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\nfunction formatNumber(num, maxNumSize, padMinus) {\n  return (num >= 0 && padMinus ? ` ${formatNumber2(num, maxNumSize - 1)}` : formatNumber2(num, maxNumSize)).padEnd(maxNumSize);\n}\nfunction formatNumber2(num, len) {\n  // small.length numbers should be as is\n  let str = num.toString();\n  if (str.length <= len) return str;\n\n  // (7)'0.00123' is better then (7)'1.23e-2'\n  // (8)'0.000123' is worse then (7)'1.23e-3',\n  let fix = num.toFixed(len);\n  if (fix.length > len) {\n    fix = num.toFixed(Math.max(0, len - (fix.length - len)));\n  }\n  if (fix.length <= len && !fix.startsWith('0.000') && !fix.startsWith('-0.000')) {\n    return fix;\n  }\n\n  // well, if it's still too long the user should've used longer numbers\n  let exp = num.toExponential(len);\n  if (exp.length > len) {\n    exp = num.toExponential(Math.max(0, len - (exp.length - len)));\n  }\n  return exp.slice(0);\n}","map":{"version":3,"names":["indent","repeat","indentData","inspectMatrix","inspectMatrixWithOptions","matrix","options","maxRows","maxColumns","maxNumSize","padMinus","constructor","name","inspectData","rows","columns","maxI","Math","min","maxJ","result","loop","i","j","get","line","push","formatNumber","join","length","num","formatNumber2","padEnd","len","str","toString","fix","toFixed","max","startsWith","exp","toExponential","slice"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/node_modules/ml-matrix/src/inspect.js"],"sourcesContent":["const indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\n\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\n\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const {\n    maxRows = 15,\n    maxColumns = 10,\n    maxNumSize = 8,\n    padMinus = 'auto',\n  } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize, padMinus) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n\n  if (padMinus === 'auto') {\n    padMinus = false;\n    loop: for (let i = 0; i < maxI; i++) {\n      for (let j = 0; j < maxJ; j++) {\n        if (matrix.get(i, j) < 0) {\n          padMinus = true;\n          break loop;\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize, padMinus));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize, padMinus) {\n  return (\n    num >= 0 && padMinus\n      ? ` ${formatNumber2(num, maxNumSize - 1)}`\n      : formatNumber2(num, maxNumSize)\n  ).padEnd(maxNumSize);\n}\n\nfunction formatNumber2(num, len) {\n  // small.length numbers should be as is\n  let str = num.toString();\n  if (str.length <= len) return str;\n\n  // (7)'0.00123' is better then (7)'1.23e-2'\n  // (8)'0.000123' is worse then (7)'1.23e-3',\n  let fix = num.toFixed(len);\n  if (fix.length > len) {\n    fix = num.toFixed(Math.max(0, len - (fix.length - len)));\n  }\n  if (\n    fix.length <= len &&\n    !fix.startsWith('0.000') &&\n    !fix.startsWith('-0.000')\n  ) {\n    return fix;\n  }\n\n  // well, if it's still too long the user should've used longer numbers\n  let exp = num.toExponential(len);\n  if (exp.length > len) {\n    exp = num.toExponential(Math.max(0, len - (exp.length - len)));\n  }\n  return exp.slice(0);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}