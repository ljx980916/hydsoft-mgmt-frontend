{"ast":null,"code":"import img from '@/assets/images/error.png';\nimport { useMenuStore } from \"../store/index\";\nimport { useRouter } from \"vue-router\";\nimport { Message } from \"@arco-design/web-vue\";\nexport default {\n  __name: 'pageError',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    let menuStore = useMenuStore();\n    //刷新\n    const handleRefresh = () => {\n      let resArr = menuStore.menuSideBar();\n      resArr.then(res => {\n        if (res.code == \"000000000000\") {\n          const menuList = res.data.menuList;\n          // 默认首页跳转至有权限的菜单下的第一个页面\n          const firstMenuPath = menuList[0]?.children[0]?.url;\n          if (firstMenuPath) {\n            router.replace(firstMenuPath);\n          }\n        } else {\n          Message.error(res.message);\n        }\n      }).catch(err => {\n        Message.error(err);\n      });\n    };\n    const __returned__ = {\n      router,\n      get menuStore() {\n        return menuStore;\n      },\n      set menuStore(v) {\n        menuStore = v;\n      },\n      handleRefresh,\n      get img() {\n        return img;\n      },\n      get useMenuStore() {\n        return useMenuStore;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get Message() {\n        return Message;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"AAWA,OAAOA,GAAG,MAAM,2BAA2B;AAC3C,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,OAAO,QAAQ,sBAAsB;;;;;;;IAC9C,MAAMC,MAAM,GAAGF,SAAS,EAAE;IAC1B,IAAIG,SAAS,GAAGJ,YAAY,EAAE;IAC9B;IACA,MAAMK,aAAa,GAAG,MAAM;MAC1B,IAAIC,MAAM,GAAGF,SAAS,CAACG,WAAW,EAAE;MACpCD,MAAM,CAACE,IAAI,CAACC,GAAG,IAAE;QACb,IAAGA,GAAG,CAACC,IAAI,IAAG,cAAc,EAAC;UACzB,MAAMC,QAAQ,GAAGF,GAAG,CAACG,IAAI,CAACD,QAAQ;UAClC;UACA,MAAME,aAAa,GAAGF,QAAQ,CAAC,CAAC,CAAC,EAAEG,QAAQ,CAAC,CAAC,CAAC,EAAEC,GAAG;UACnD,IAAGF,aAAa,EAAC;YACbV,MAAM,CAACa,OAAO,CAACH,aAAa,CAAC;UACjC;QACJ,CAAC,MAAI;UACDX,OAAO,CAACe,KAAK,CAACR,GAAG,CAACS,OAAO,CAAC;QAC9B;MACJ,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAE;QACVlB,OAAO,CAACe,KAAK,CAACG,GAAG,CAAC;MACtB,CAAC,CAAC;IACJ,CAAC","names":["img","useMenuStore","useRouter","Message","router","menuStore","handleRefresh","resArr","menuSideBar","then","res","code","menuList","data","firstMenuPath","children","url","replace","error","message","catch","err"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-mgmt-frontend/src/components/pageError.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"img-container\">\r\n      <img :src=\"img\">\r\n      <span>管理驾驶舱获取用户角色失败，请联系管理员</span>\r\n      <a-button type=\"primary\" @click=\"handleRefresh\">刷新</a-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport img from '@/assets/images/error.png'\r\nimport { useMenuStore } from \"../store/index\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { Message } from \"@arco-design/web-vue\";\r\nconst router = useRouter();\r\nlet menuStore = useMenuStore();\r\n//刷新\r\nconst handleRefresh = () => {\r\n  let resArr = menuStore.menuSideBar();\r\n  resArr.then(res=>{\r\n      if(res.code ==\"000000000000\"){\r\n          const menuList = res.data.menuList\r\n          // 默认首页跳转至有权限的菜单下的第一个页面\r\n          const firstMenuPath = menuList[0]?.children[0]?.url;\r\n          if(firstMenuPath){\r\n              router.replace(firstMenuPath)\r\n          }\r\n      }else{\r\n          Message.error(res.message)\r\n      }\r\n  }).catch(err=>{\r\n      Message.error(err)\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .img-container {\r\n    position: fixed;\r\n    top: 40%;\r\n    left: 50%;\r\n    transform: translate(-50%, -40%);\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;  \r\n    flex-direction: column;\r\n    & > span {\r\n      font-weight: 550;\r\n      color: #646566;\r\n      margin-bottom: 60px;\r\n      font-size:24px;\r\n      font-style: normal;\r\n      font-family: 'PingFangSC-Regular', 'PingFang SC';\r\n      margin-top:80px;\r\n      line-height: 28px;\r\n    }\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}