{"ast":null,"code":"\"use strict\";\n\n/**\n * @fileOverview fruchterman layout\n * @author shiwu.wyy@antfin.com\n */\nrequire(\"core-js/modules/es.array.push.js\");\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GForceLayout = void 0;\nvar base_1 = require(\"./base\");\nvar util_1 = require(\"../util\");\nvar proccessToFunc = function (value, defaultV) {\n  var func;\n  if (!value) {\n    func = function (d) {\n      return defaultV || 1;\n    };\n  } else if ((0, util_1.isNumber)(value)) {\n    func = function (d) {\n      return value;\n    };\n  } else {\n    func = value;\n  }\n  return func;\n};\n/**\n * graphin 中的 force 布局\n */\nvar GForceLayout = /** @class */function (_super) {\n  __extends(GForceLayout, _super);\n  function GForceLayout(options) {\n    var _this = _super.call(this) || this;\n    /** 停止迭代的最大迭代数 */\n    _this.maxIteration = 500;\n    /** 是否启动 worker */\n    _this.workerEnabled = false;\n    /** 弹簧引力系数 */\n    _this.edgeStrength = 200;\n    /** 斥力系数 */\n    _this.nodeStrength = 1000;\n    /** 库伦系数 */\n    _this.coulombDisScale = 0.005;\n    /** 阻尼系数 */\n    _this.damping = 0.9;\n    /** 最大速度 */\n    _this.maxSpeed = 1000;\n    /** 一次迭代的平均移动距离小于该值时停止迭代 */\n    _this.minMovement = 0.5;\n    /** 迭代中衰减 */\n    _this.interval = 0.02;\n    /** 斥力的一个系数 */\n    _this.factor = 1;\n    /** 理想边长 */\n    _this.linkDistance = 1;\n    /** 重力大小 */\n    _this.gravity = 10;\n    /** 是否防止重叠 */\n    _this.preventOverlap = true;\n    /** 防止重叠的力大小参数 */\n    _this.collideStrength = 1;\n    /** 每次迭代结束的回调函数 */\n    _this.tick = function () {};\n    _this.nodes = [];\n    _this.edges = [];\n    _this.width = 300;\n    _this.height = 300;\n    _this.nodeMap = {};\n    _this.nodeIdxMap = {};\n    /** 是否使用 window.setInterval 运行迭代 */\n    _this.animate = true;\n    _this.updateCfg(options);\n    return _this;\n  }\n  GForceLayout.prototype.getDefaultCfg = function () {\n    return {\n      maxIteration: 500,\n      gravity: 10,\n      enableTick: true,\n      animate: true\n    };\n  };\n  /**\n   * 执行布局\n   */\n  GForceLayout.prototype.execute = function () {\n    var _a, _b;\n    var self = this;\n    var nodes = self.nodes;\n    if (self.timeInterval !== undefined && typeof window !== \"undefined\") {\n      window.clearInterval(self.timeInterval);\n    }\n    if (!nodes || nodes.length === 0) {\n      (_a = self.onLayoutEnd) === null || _a === void 0 ? void 0 : _a.call(self);\n      return;\n    }\n    if (!self.width && typeof window !== \"undefined\") {\n      self.width = window.innerWidth;\n    }\n    if (!self.height && typeof window !== \"undefined\") {\n      self.height = window.innerHeight;\n    }\n    if (!self.center) {\n      self.center = [self.width / 2, self.height / 2];\n    }\n    var center = self.center;\n    if (nodes.length === 1) {\n      nodes[0].x = center[0];\n      nodes[0].y = center[1];\n      (_b = self.onLayoutEnd) === null || _b === void 0 ? void 0 : _b.call(self);\n      return;\n    }\n    var nodeMap = {};\n    var nodeIdxMap = {};\n    nodes.forEach(function (node, i) {\n      if (!(0, util_1.isNumber)(node.x)) node.x = Math.random() * self.width;\n      if (!(0, util_1.isNumber)(node.y)) node.y = Math.random() * self.height;\n      nodeMap[node.id] = node;\n      nodeIdxMap[node.id] = i;\n    });\n    self.nodeMap = nodeMap;\n    self.nodeIdxMap = nodeIdxMap;\n    self.linkDistance = proccessToFunc(self.linkDistance, 1);\n    self.nodeStrength = proccessToFunc(self.nodeStrength, 1);\n    self.edgeStrength = proccessToFunc(self.edgeStrength, 1);\n    // node size function\n    var nodeSize = self.nodeSize;\n    var nodeSizeFunc;\n    if (self.preventOverlap) {\n      var nodeSpacing_1 = self.nodeSpacing;\n      var nodeSpacingFunc_1;\n      if ((0, util_1.isNumber)(nodeSpacing_1)) {\n        nodeSpacingFunc_1 = function () {\n          return nodeSpacing_1;\n        };\n      } else if ((0, util_1.isFunction)(nodeSpacing_1)) {\n        nodeSpacingFunc_1 = nodeSpacing_1;\n      } else {\n        nodeSpacingFunc_1 = function () {\n          return 0;\n        };\n      }\n      if (!nodeSize) {\n        nodeSizeFunc = function (d) {\n          if (d.size) {\n            if ((0, util_1.isArray)(d.size)) {\n              return Math.max(d.size[0], d.size[1]) + nodeSpacingFunc_1(d);\n            }\n            if ((0, util_1.isObject)(d.size)) {\n              return Math.max(d.size.width, d.size.height) + nodeSpacingFunc_1(d);\n            }\n            return d.size + nodeSpacingFunc_1(d);\n          }\n          return 10 + nodeSpacingFunc_1(d);\n        };\n      } else if ((0, util_1.isArray)(nodeSize)) {\n        nodeSizeFunc = function (d) {\n          return Math.max(nodeSize[0], nodeSize[1]) + nodeSpacingFunc_1(d);\n        };\n      } else {\n        nodeSizeFunc = function (d) {\n          return nodeSize + nodeSpacingFunc_1(d);\n        };\n      }\n    }\n    self.nodeSize = nodeSizeFunc;\n    var edges = self.edges;\n    self.degrees = (0, util_1.getDegree)(nodes.length, self.nodeIdxMap, edges);\n    if (!self.getMass) {\n      self.getMass = function (d) {\n        var mass = d.mass || self.degrees[self.nodeIdxMap[d.id]].all || 1;\n        return mass;\n      };\n    }\n    // layout\n    self.run();\n  };\n  GForceLayout.prototype.run = function () {\n    var _a;\n    var self = this;\n    var maxIteration = self.maxIteration,\n      nodes = self.nodes,\n      workerEnabled = self.workerEnabled,\n      minMovement = self.minMovement,\n      animate = self.animate;\n    if (!nodes) return;\n    if (workerEnabled || !animate) {\n      for (var i = 0; i < maxIteration; i++) {\n        var previousPos = self.runOneStep(i);\n        if (self.reachMoveThreshold(nodes, previousPos, minMovement)) {\n          break;\n        }\n      }\n      (_a = self.onLayoutEnd) === null || _a === void 0 ? void 0 : _a.call(self);\n    } else {\n      if (typeof window === \"undefined\") return;\n      var iter_1 = 0;\n      // interval for render the result after each iteration\n      this.timeInterval = window.setInterval(function () {\n        var _a, _b;\n        if (!nodes) return;\n        var previousPos = self.runOneStep(iter_1) || [];\n        if (self.reachMoveThreshold(nodes, previousPos, minMovement)) {\n          (_a = self.onLayoutEnd) === null || _a === void 0 ? void 0 : _a.call(self);\n          window.clearInterval(self.timeInterval);\n        }\n        iter_1++;\n        if (iter_1 >= maxIteration) {\n          (_b = self.onLayoutEnd) === null || _b === void 0 ? void 0 : _b.call(self);\n          window.clearInterval(self.timeInterval);\n        }\n      }, 0);\n    }\n  };\n  GForceLayout.prototype.reachMoveThreshold = function (nodes, previousPos, minMovement) {\n    // whether to stop the iteration\n    var movement = 0;\n    nodes.forEach(function (node, j) {\n      var vx = node.x - previousPos[j].x;\n      var vy = node.y - previousPos[j].y;\n      movement += Math.sqrt(vx * vx + vy * vy);\n    });\n    movement /= nodes.length;\n    return movement < minMovement;\n  };\n  GForceLayout.prototype.runOneStep = function (iter) {\n    var _a;\n    var self = this;\n    var nodes = self.nodes,\n      edges = self.edges;\n    var accArray = [];\n    var velArray = [];\n    if (!nodes) return;\n    nodes.forEach(function (_, i) {\n      accArray[2 * i] = 0;\n      accArray[2 * i + 1] = 0;\n      velArray[2 * i] = 0;\n      velArray[2 * i + 1] = 0;\n    });\n    self.calRepulsive(accArray, nodes);\n    if (edges) self.calAttractive(accArray, edges);\n    self.calGravity(accArray, nodes);\n    var stepInterval = Math.max(0.02, self.interval - iter * 0.002);\n    self.updateVelocity(accArray, velArray, stepInterval, nodes);\n    var previousPos = [];\n    nodes.forEach(function (node) {\n      previousPos.push({\n        x: node.x,\n        y: node.y\n      });\n    });\n    self.updatePosition(velArray, stepInterval, nodes);\n    (_a = self.tick) === null || _a === void 0 ? void 0 : _a.call(self);\n    return previousPos;\n  };\n  GForceLayout.prototype.calRepulsive = function (accArray, nodes) {\n    var self = this;\n    var getMass = self.getMass,\n      factor = self.factor,\n      coulombDisScale = self.coulombDisScale,\n      preventOverlap = self.preventOverlap,\n      _a = self.collideStrength,\n      collideStrength = _a === void 0 ? 1 : _a;\n    var nodeStrength = self.nodeStrength;\n    var nodeSize = self.nodeSize;\n    nodes.forEach(function (ni, i) {\n      var massi = getMass ? getMass(ni) : 1;\n      nodes.forEach(function (nj, j) {\n        if (i >= j) return;\n        // if (!accArray[j]) accArray[j] = 0;\n        var vecX = ni.x - nj.x;\n        var vecY = ni.y - nj.y;\n        if (vecX === 0 && vecY === 0) {\n          vecX = Math.random() * 0.01;\n          vecY = Math.random() * 0.01;\n        }\n        var lengthSqr = vecX * vecX + vecY * vecY;\n        var vecLength = Math.sqrt(lengthSqr);\n        var nVecLength = (vecLength + 0.1) * coulombDisScale;\n        var direX = vecX / vecLength;\n        var direY = vecY / vecLength;\n        var param = (nodeStrength(ni) + nodeStrength(nj)) * 0.5 * factor / (nVecLength * nVecLength);\n        var massj = getMass ? getMass(nj) : 1;\n        accArray[2 * i] += direX * param;\n        accArray[2 * i + 1] += direY * param;\n        accArray[2 * j] -= direX * param;\n        accArray[2 * j + 1] -= direY * param;\n        if (preventOverlap && (nodeSize(ni) + nodeSize(nj)) / 2 > vecLength) {\n          var paramOverlap = collideStrength * (nodeStrength(ni) + nodeStrength(nj)) * 0.5 / lengthSqr;\n          accArray[2 * i] += direX * paramOverlap / massi;\n          accArray[2 * i + 1] += direY * paramOverlap / massi;\n          accArray[2 * j] -= direX * paramOverlap / massj;\n          accArray[2 * j + 1] -= direY * paramOverlap / massj;\n        }\n      });\n    });\n  };\n  GForceLayout.prototype.calAttractive = function (accArray, edges) {\n    var self = this;\n    var nodeMap = self.nodeMap,\n      nodeIdxMap = self.nodeIdxMap,\n      linkDistance = self.linkDistance,\n      edgeStrength = self.edgeStrength;\n    var nodeSize = self.nodeSize;\n    var getMass = self.getMass;\n    edges.forEach(function (edge, i) {\n      var source = (0, util_1.getEdgeTerminal)(edge, 'source');\n      var target = (0, util_1.getEdgeTerminal)(edge, 'target');\n      var sourceNode = nodeMap[source];\n      var targetNode = nodeMap[target];\n      var vecX = targetNode.x - sourceNode.x;\n      var vecY = targetNode.y - sourceNode.y;\n      if (vecX === 0 && vecY === 0) {\n        vecX = Math.random() * 0.01;\n        vecY = Math.random() * 0.01;\n      }\n      var vecLength = Math.sqrt(vecX * vecX + vecY * vecY);\n      var direX = vecX / vecLength;\n      var direY = vecY / vecLength;\n      var length = linkDistance(edge, sourceNode, targetNode) || 1 + (nodeSize(sourceNode) + nodeSize(targetNode) || 0) / 2;\n      var diff = length - vecLength;\n      var param = diff * edgeStrength(edge);\n      var sourceIdx = nodeIdxMap[source];\n      var targetIdx = nodeIdxMap[target];\n      var massSource = getMass ? getMass(sourceNode) : 1;\n      var massTarget = getMass ? getMass(targetNode) : 1;\n      accArray[2 * sourceIdx] -= direX * param / massSource;\n      accArray[2 * sourceIdx + 1] -= direY * param / massSource;\n      accArray[2 * targetIdx] += direX * param / massTarget;\n      accArray[2 * targetIdx + 1] += direY * param / massTarget;\n    });\n  };\n  GForceLayout.prototype.calGravity = function (accArray, nodes) {\n    var self = this;\n    // const nodes = self.nodes;\n    var center = self.center;\n    var defaultGravity = self.gravity;\n    var degrees = self.degrees;\n    var nodeLength = nodes.length;\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      var vecX = node.x - center[0];\n      var vecY = node.y - center[1];\n      var gravity = defaultGravity;\n      if (self.getCenter) {\n        var customCenterOpt = self.getCenter(node, degrees[i].all);\n        if (customCenterOpt && (0, util_1.isNumber)(customCenterOpt[0]) && (0, util_1.isNumber)(customCenterOpt[1]) && (0, util_1.isNumber)(customCenterOpt[2])) {\n          vecX = node.x - customCenterOpt[0];\n          vecY = node.y - customCenterOpt[1];\n          gravity = customCenterOpt[2];\n        }\n      }\n      if (!gravity) continue;\n      accArray[2 * i] -= gravity * vecX;\n      accArray[2 * i + 1] -= gravity * vecY;\n    }\n  };\n  GForceLayout.prototype.updateVelocity = function (accArray, velArray, stepInterval, nodes) {\n    var self = this;\n    var param = stepInterval * self.damping;\n    // const nodes = self.nodes;\n    nodes.forEach(function (node, i) {\n      var vx = accArray[2 * i] * param || 0.01;\n      var vy = accArray[2 * i + 1] * param || 0.01;\n      var vLength = Math.sqrt(vx * vx + vy * vy);\n      if (vLength > self.maxSpeed) {\n        var param2 = self.maxSpeed / vLength;\n        vx = param2 * vx;\n        vy = param2 * vy;\n      }\n      velArray[2 * i] = vx;\n      velArray[2 * i + 1] = vy;\n    });\n  };\n  GForceLayout.prototype.updatePosition = function (velArray, stepInterval, nodes) {\n    nodes.forEach(function (node, i) {\n      if ((0, util_1.isNumber)(node.fx) && (0, util_1.isNumber)(node.fy)) {\n        node.x = node.fx;\n        node.y = node.fy;\n        return;\n      }\n      var distX = velArray[2 * i] * stepInterval;\n      var distY = velArray[2 * i + 1] * stepInterval;\n      node.x += distX;\n      node.y += distY;\n    });\n  };\n  GForceLayout.prototype.stop = function () {\n    if (this.timeInterval && typeof window !== \"undefined\") {\n      window.clearInterval(this.timeInterval);\n    }\n  };\n  GForceLayout.prototype.destroy = function () {\n    var self = this;\n    self.stop();\n    self.tick = null;\n    self.nodes = null;\n    self.edges = null;\n    self.destroyed = true;\n  };\n  GForceLayout.prototype.getType = function () {\n    return \"gForce\";\n  };\n  return GForceLayout;\n}(base_1.Base);\nexports.GForceLayout = GForceLayout;","map":{"version":3,"mappings":"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","names":["proccessToFunc","value","defaultV","func","d","__extends","options","_super","_this","updateCfg","GForceLayout","maxIteration","gravity","enableTick","animate","self","nodes","timeInterval","undefined","window","clearInterval","length","onLayoutEnd","width","innerWidth","height","innerHeight","center","x","y","nodeMap","nodeIdxMap","forEach","node","i","Math","random","id","linkDistance","nodeStrength","edgeStrength","nodeSize","nodeSizeFunc","preventOverlap","nodeSpacing_1","nodeSpacing","nodeSpacingFunc_1","size","max","edges","degrees","getMass","mass","all","run","workerEnabled","minMovement","previousPos","runOneStep","reachMoveThreshold","iter_1","setInterval","movement","j","vx","vy","sqrt","iter","accArray","velArray","_","calRepulsive","calAttractive","calGravity","stepInterval","interval","updateVelocity","push","updatePosition","tick","factor","coulombDisScale","_a","collideStrength","ni","massi","nj","vecX","vecY","lengthSqr","vecLength","nVecLength","direX","direY","param","massj","paramOverlap","edge","source","target","sourceNode","targetNode","diff","sourceIdx","targetIdx","massSource","massTarget","defaultGravity","nodeLength","getCenter","customCenterOpt","damping","vLength","maxSpeed","param2","fx","fy","distX","distY","stop","destroyed","base_1","exports"],"sourceRoot":"","sources":["../../src/layout/gForce.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}