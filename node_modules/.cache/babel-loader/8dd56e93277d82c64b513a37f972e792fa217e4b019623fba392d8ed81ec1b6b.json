{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, renderSlot as _renderSlot, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-b913ee3a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"m-b-20\"\n};\nconst _hoisted_2 = {\n  class: \"flex-between\",\n  style: {\n    \"height\": \"40px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"tool-grid\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"只看我的\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 0,\n  class: \"red\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"green\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_radio = _resolveComponent(\"a-radio\");\n  const _component_a_radio_group = _resolveComponent(\"a-radio-group\");\n  const _component_a_switch = _resolveComponent(\"a-switch\");\n  const _component_icon_download = _resolveComponent(\"icon-download\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_icon_home = _resolveComponent(\"icon-home\");\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n  const _component_a_divider = _resolveComponent(\"a-divider\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  const _component_a_checkbox = _resolveComponent(\"a-checkbox\");\n  const _component_a_checkbox_group = _resolveComponent(\"a-checkbox-group\");\n  const _component_a_modal = _resolveComponent(\"a-modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_a_radio_group, {\n    type: \"button\",\n    size: \"large\",\n    \"model-value\": $setup.props.chekedValue,\n    onChange: $setup.radioChange\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.props.tabs, item => {\n      return _openBlock(), _createBlock(_component_a_radio, {\n        value: item.key\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n    }), 256 /* UNKEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model-value\"]), _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 只看我的 \"), $setup.props.menuName === 'USER' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_a_switch, {\n    value: $props.switchStatus,\n    onChange: $setup.handleSwitch\n  }, {\n    checked: _withCtx(() => [_createTextVNode(\"ON\")]),\n    unchecked: _withCtx(() => [_createTextVNode(\"OFF\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"value\"]), _hoisted_5])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 导出excel \"), $setup.props.menuName === 'USER' ? (_openBlock(), _createBlock(_component_a_button, {\n    key: 1,\n    type: \"primary\"\n  }, {\n    icon: _withCtx(() => [_createVNode(_component_icon_download)]),\n    default: _withCtx(() => [_createTextVNode(\"导出excel\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 配置列 \"), $setup.props.menuName === 'USER' ? (_openBlock(), _createBlock(_component_a_button, {\n    key: 2,\n    class: \"config\",\n    type: \"primary\",\n    onClick: $setup.handleSetColumns\n  }, {\n    icon: _withCtx(() => [_createVNode(_component_icon_home)]),\n    default: _withCtx(() => [_createTextVNode(\"配置列\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])])])]), _createCommentVNode(\" 表格内容 \"), _createElementVNode(\"div\", null, [_createVNode(_component_a_table, {\n    columns: $setup.props.tableColumns.length && $setup.props.tableColumns || $setup.tableInfo.tableColumns,\n    data: $setup.props.tableData.length && $setup.props.tableData || $setup.tableInfo.tableData,\n    \"column-resizable\": \"\",\n    bordered: false,\n    scroll: {\n      x: '100%',\n      y: $setup.props.scrollY\n    },\n    scrollbar: false,\n    loading: $setup.props.loading,\n    pagination: {\n      total: $props.paginationTotal,\n      current: $props.paginationCurrent,\n      pageSize: $props.paginationPageSize,\n      showTotal: true,\n      showPageSize: true,\n      showJumper: true,\n      onChange: $setup.paginationChange,\n      onPageSizeChange: $setup.paginationPageSizeChange\n    }\n  }, {\n    type_view: _withCtx(({\n      record\n    }) => [_createElementVNode(\"div\", null, _toDisplayString(record.type === 0 ? \"目录\" : record.type === 1 ? \"菜单\" : \"按钮\"), 1 /* TEXT */)]),\n\n    role_view: _withCtx(({\n      record\n    }) => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(record.roles, (item, i) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: i\n      }, _toDisplayString(item.name), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    flag_view: _withCtx(({\n      record\n    }) => [record.flag === 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"禁用\")) : _createCommentVNode(\"v-if\", true), record.flag === 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, \"启用\")) : _createCommentVNode(\"v-if\", true)]),\n    action: _withCtx(({\n      record\n    }) => [_createVNode(_component_a_popconfirm, {\n      content: \"你确定要启用这个用户吗?\",\n      type: \"error\",\n      onOk: $event => $setup.handleUpdateFlag(record)\n    }, {\n      default: _withCtx(() => [$setup.props.menuName == 'user' && record.flag === 0 ? (_openBlock(), _createBlock(_component_a_button, {\n        key: 0,\n        type: \"text\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"启用\")]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onOk\"]), $setup.props.menuName == 'user' && record.flag === 0 ? (_openBlock(), _createBlock(_component_a_divider, {\n      key: 0,\n      direction: \"vertical\"\n    })) : _createCommentVNode(\"v-if\", true), $setup.props.menuName == 'user' && record.flag === 0 ? (_openBlock(), _createBlock(_component_a_button, {\n      key: 1,\n      type: \"text\",\n      style: {\n        \"color\": \"#999999\"\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"禁用\")]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true), $setup.props.menuName == 'user' && record.flag === 1 ? (_openBlock(), _createBlock(_component_a_button, {\n      key: 2,\n      type: \"text\",\n      style: {\n        \"color\": \"#999999\"\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"启用\")]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true), $setup.props.menuName == 'user' && record.flag === 1 ? (_openBlock(), _createBlock(_component_a_divider, {\n      key: 3,\n      direction: \"vertical\"\n    })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_a_popconfirm, {\n      content: \"你确定要禁用这个用户吗?\",\n      type: \"error\",\n      onOk: $event => $setup.handleUpdateFlag(record)\n    }, {\n      default: _withCtx(() => [$setup.props.menuName == 'user' && record.flag === 1 ? (_openBlock(), _createBlock(_component_a_button, {\n        key: 0,\n        type: \"text\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"禁用\")]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onOk\"]), _createCommentVNode(\" 查看 \"), $setup.props.menuName == 'USER' ? (_openBlock(), _createBlock(_component_a_button, {\n      key: 4,\n      type: \"text\",\n      onClick: $event => $setup.handleDetail(record, 'view')\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"查看\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), $setup.props.menuName == 'user' ? (_openBlock(), _createBlock(_component_a_divider, {\n      key: 5,\n      direction: \"vertical\"\n    })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 编辑 \"), $setup.permissions.includes('menu:edit') && record.code !== 'admin' ? (_openBlock(), _createBlock(_component_a_button, {\n      key: 6,\n      type: \"text\",\n      onClick: $event => $setup.handleEdit(record, 'edit')\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" 编辑 \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), $setup.props.menuName == 'menu' || $setup.props.menuName == 'role' && record.code !== 'admin' ? (_openBlock(), _createBlock(_component_a_divider, {\n      key: 7,\n      direction: \"vertical\"\n    })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 删除 \"), _createVNode(_component_a_popconfirm, {\n      content: \"确定要删除吗?\",\n      type: \"error\",\n      onOk: $event => $setup.handleDeleteMenu(record)\n    }, {\n      default: _withCtx(() => [$setup.permissions.includes('menu:delete') && ($setup.props.menuName == 'menu' || $setup.props.menuName == 'role' && record.code !== 'admin') ? (_openBlock(), _createBlock(_component_a_button, {\n        key: 0,\n        type: \"text\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 删除 \")]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onOk\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"data\", \"scroll\", \"loading\", \"pagination\"])]), _createCommentVNode(\" 表单数据 \"), _createVNode(_component_a_modal, {\n    visible: $setup.modalVisible,\n    \"onUpdate:visible\": _cache[1] || (_cache[1] = $event => $setup.modalVisible = $event),\n    title: \"选择表格项\"\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_a_button, {\n      type: \"primary\",\n      onClick: $setup.columnOK\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"确定\")]),\n      _: 1 /* STABLE */\n    })]),\n\n    default: _withCtx(() => [_createVNode(_component_a_checkbox_group, {\n      onChange: $setup.columnSelected,\n      modelValue: $setup.defaultCheckList,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.defaultCheckList = $event)\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.setColumns, item => {\n        return _openBlock(), _createBlock(_component_a_checkbox, {\n          key: item.dataIndex,\n          value: item.dataIndex\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(item.title), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_a_radio_group","type","size","$setup","chekedValue","onChange","_Fragment","tabs","item","_createBlock","_component_a_radio","value","key","name","_renderSlot","_ctx","_hoisted_3","_createCommentVNode","menuName","_component_a_switch","$props","checked","unchecked","_hoisted_5","_component_a_button","icon","_component_icon_download","default","onClick","_component_icon_home","_component_a_table","columns","tableColumns","length","data","tableData","bordered","scroll","x","y","scrollY","scrollbar","loading","pagination","type_view","record","role_view","roles","i","flag_view","flag","_hoisted_6","_hoisted_7","action","_component_a_popconfirm","content","onOk","_component_a_divider","direction","includes","code","_component_a_modal","visible","title","footer","_component_a_checkbox_group","_component_a_checkbox","dataIndex"],"sourceRoot":"","sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/components/tableContainer.vue"],"sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"m-b-20\">\n        <div class=\"flex-between\" style=\"height: 40px;\">\n          <a-radio-group type=\"button\" size=\"large\" :model-value=\"props.chekedValue\" @change=\"radioChange\">\n            <a-radio v-for=\"item of props.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n          </a-radio-group>\n          <slot></slot>\n        </div>\n        <div>\n          <div class=\"tool-grid\">\n            <!-- 只看我的 -->\n            <div v-if=\"props.menuName === 'USER'\">\n              <a-switch :value=\"switchStatus\" @change=\"handleSwitch\">\n                <template #checked>ON</template>\n                <template #unchecked>OFF</template>\n              </a-switch>\n              <span>只看我的</span>\n            </div>\n            <!-- 导出excel -->\n            <a-button type=\"primary\" v-if=\"props.menuName === 'USER'\">\n              <template #icon>\n                <icon-download />\n              </template>\n              <template #default>导出excel</template>\n            </a-button>\n            <!-- 配置列 -->\n            <a-button class=\"config\" type=\"primary\" @click=\"handleSetColumns\" v-if=\"props.menuName === 'USER'\">\n              <template #icon>\n                <icon-home />\n              </template>\n              <template #default>配置列</template>\n            </a-button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 表格内容 -->\n    <div>\n      <a-table\n        :columns=\"(props.tableColumns.length && props.tableColumns) || tableInfo.tableColumns\"\n        :data=\"(props.tableData.length && props.tableData) || tableInfo.tableData\"\n        column-resizable\n        :bordered=\"false\"\n        :scroll=\"{ x: '100%', y: props.scrollY }\"\n        :scrollbar=\"false\"\n        :loading=\"props.loading\"\n        :pagination=\"{\n          total: paginationTotal,\n          current: paginationCurrent,\n          pageSize: paginationPageSize,\n          showTotal: true,\n          showPageSize: true,\n          showJumper: true,\n          onChange: paginationChange,\n          onPageSizeChange: paginationPageSizeChange,\n        }\"\n      >\n        <template #type_view=\"{ record }\">\n          <div>{{ record.type === 0 ? \"目录\" : record.type === 1 ? \"菜单\" : \"按钮\" }}</div>\n        </template>\n        <template #role_view=\"{ record }\">\n          <div v-for=\"(item, i) in record.roles\" :key=\"i\">{{ item.name }}</div>\n        </template>\n        <template #flag_view=\"{ record }\">\n          <span class=\"red\" v-if=\"record.flag === 0\">禁用</span>\n          <span class=\"green\" v-if=\"record.flag === 1\">启用</span>\n        </template>\n        <template #action=\"{ record }\">\n          <a-popconfirm content=\"你确定要启用这个用户吗?\" type=\"error\" @ok=\"handleUpdateFlag(record)\">\n            <a-button type=\"text\" v-if=\"props.menuName == 'user' && record.flag === 0\">启用</a-button>\n          </a-popconfirm>\n          <a-divider v-if=\"props.menuName == 'user' && record.flag === 0\" direction=\"vertical\" />\n          <a-button type=\"text\" v-if=\"props.menuName == 'user' && record.flag === 0\" style=\"color: #999999\">禁用</a-button>\n          <a-button type=\"text\" v-if=\"props.menuName == 'user' && record.flag === 1\" style=\"color: #999999\">启用</a-button>\n          <a-divider v-if=\"props.menuName == 'user' && record.flag === 1\" direction=\"vertical\" />\n          <a-popconfirm content=\"你确定要禁用这个用户吗?\" type=\"error\" @ok=\"handleUpdateFlag(record)\">\n            <a-button type=\"text\" v-if=\"props.menuName == 'user' && record.flag === 1\">禁用</a-button>\n          </a-popconfirm>\n          <!-- 查看 -->\n          <a-button type=\"text\" v-if=\"props.menuName == 'USER'\" @click=\"handleDetail(record, 'view')\">查看</a-button>\n          <a-divider v-if=\"props.menuName == 'user'\" direction=\"vertical\" />\n          <!-- 编辑 -->\n          <a-button\n            v-if=\"permissions.includes('menu:edit') && record.code !== 'admin'\"\n            type=\"text\"\n            @click=\"handleEdit(record, 'edit')\"\n          >\n            编辑\n          </a-button>\n          <a-divider\n            v-if=\"props.menuName == 'menu' || (props.menuName == 'role' && record.code !== 'admin')\"\n            direction=\"vertical\"\n          />\n          <!-- 删除 -->\n          <a-popconfirm content=\"确定要删除吗?\" type=\"error\" @ok=\"handleDeleteMenu(record)\">\n            <a-button\n              type=\"text\"\n              v-if=\"\n                permissions.includes('menu:delete') &&\n                (props.menuName == 'menu' || (props.menuName == 'role' && record.code !== 'admin'))\n              \"\n            >\n              删除\n            </a-button>\n          </a-popconfirm>\n        </template>\n      </a-table>\n    </div>\n    <!-- 表单数据 -->\n    <a-modal v-model:visible=\"modalVisible\" title=\"选择表格项\">\n      <a-checkbox-group @change=\"columnSelected\" v-model=\"defaultCheckList\">\n        <a-checkbox v-for=\"item of setColumns\" :key=\"item.dataIndex\" :value=\"item.dataIndex\">\n          {{ item.title }}\n        </a-checkbox>\n      </a-checkbox-group>\n      <template #footer>\n        <a-button type=\"primary\" @click=\"columnOK\">确定</a-button>\n      </template>\n    </a-modal>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport { userListColumns } from \"../views/system/constColumns\";\nimport { Message } from \"@arco-design/web-vue\";\nimport { useMenuStore } from \"../store/index\";\nconst permissions = useMenuStore().getPermission;\nconst props = defineProps({\n  tabs: {\n    type: Array,\n    default: () => [],\n  },\n  chekedValue: {\n    type: String,\n    default: \"\",\n  },\n  // 表头\n  tableColumns: {\n    type: Array,\n    default: () => [],\n  },\n  // 表单数据\n  tableData: {\n    type: Array,\n    default: () => [],\n  },\n  // 菜单名称(根据菜单名称判断显示指定按钮)\n  menuName: {\n    type: String,\n    default: \"\",\n  },\n  loading : {\n    type : Boolean,\n    default : false\n  },\n  scrollY : {\n    type : String,\n    default : '600px'\n  },\n  setColumns: {\n    type: Array,\n    default: () => [],\n  },\n  switchStatus: {\n    type: Boolean,\n    default: false,\n  },\n  exportExcel: {\n    type: String,\n    default: \"\",\n  },\n  paginationTotal: {\n    type: Number,\n    default: 10,\n  },\n  paginationCurrent: {\n    type: Number,\n    default: 1,\n  },\n  paginationPageSize: {\n    type: Number,\n    default: 10,\n  },\n});\n// 表头信息\nconst tableInfo = reactive({\n  tableColumns: [\n    {\n      title: \"自定义列1\",\n      dataIndex: \"customColumn1\",\n      width: 200,\n    },\n    {\n      title: \"自定义列2\",\n      dataIndex: \"customColumn2\",\n      width: 200,\n    },\n    {\n      title: \"自定义列3\",\n      dataIndex: \"customColumn3\",\n      width: 200,\n    },\n    {\n      title: \"自定义列4\",\n      dataIndex: \"customColumn4\",\n      width: 200,\n    },\n    {\n      title: \"自定义列5\",\n      dataIndex: \"customColumn5\",\n      width: 200,\n    },\n    {\n      title: \"自定义列6\",\n      dataIndex: \"customColumn6\",\n      width: 200,\n    },\n  ],\n  tableData: [],\n});\nconst emit = defineEmits([\n  \"switchClick\",\n  \"paginationCurrentChange\",\n  \"paginationPageSizeChange\",\n  \"handleEdit\",\n  \"handleDeleteMenu\",\n  \"handleUpdateFlag\",\n  \"columnOK\",\n  \"radioChange\",\n]);\nconst modalVisible = ref(false);\nconst defaultCheckList = ref([]);\nconst checkedValues = ref([]);\nconst userTableColumns = ref(userListColumns);\nlet actionColumn = userListColumns.filter(item => item.dataIndex !== \"action\") || [];\n// 打开配置列\nconst handleSetColumns = () => {\n  modalVisible.value = true;\n};\n// 配置列多选框更改\nconst columnSelected = values => {\n  checkedValues.value = values;\n};\n// 打开配置列勾选表格中已有的表头\nconst setTableColumns = () => {\n  let cachColumns = JSON.parse(localStorage.getItem(\"userListColumns\"));\n  if (cachColumns) {\n    userTableColumns.value = cachColumns;\n    defaultCheckList.value = cachColumns.map(item => item.dataIndex);\n  } else {\n    var selectedColumsArr = [];\n    actionColumn.forEach(item => {\n      selectedColumsArr.push(item.dataIndex);\n      defaultCheckList.value = selectedColumsArr;\n    });\n  }\n};\nsetTableColumns();\n// 配置列确认\nconst columnOK = () => {\n  if (defaultCheckList.value.length === 1 && defaultCheckList.value[0] === \"action\") {\n    return Message.error(\"至少选择一项\");\n  } else {\n    emit(\"columnOK\", defaultCheckList.value);\n    modalVisible.value = false;\n  }\n};\n// 只看我的\nconst handleSwitch = bool => {\n  emit(\"switchClick\", !bool);\n};\n// 更改当前页\nconst paginationChange = current => {\n  emit(\"paginationCurrentChange\", current);\n};\n// 更改页容量\nconst paginationPageSizeChange = pageSize => {\n  emit(\"paginationPageSizeChange\", pageSize);\n};\n// 编辑\nconst handleEdit = (record, type) => {\n  emit(\"handleEdit\", record, type);\n};\n// 删除\nconst handleDeleteMenu = record => {\n  emit(\"handleDeleteMenu\", record);\n};\n// 查看\nconst handleDetail = record => {\n  emit(\"handleDetail\", record);\n};\n// 更改状态\nconst handleUpdateFlag = record => {\n  emit(\"handleUpdateFlag\", record);\n};\n//tab切换\nconst radioChange = val => {\n  emit(\"radioChange\", val);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.header-grid {\n  display: grid;\n  grid-template-columns: 10fr 6fr;\n  gap: 20px;\n}\n.tool-grid {\n  display: grid;\n  grid-template-columns: repeat(3, auto);\n  column-gap: 15px;\n  row-gap: 20px;\n  grid-auto-flow: row;\n}\n.m-b-20 {\n  margin-bottom: 20px;\n}\n.config {\n  position: absolute;\n  width: 100px;\n  top: 210px;\n  height: 36px;\n  right: 70px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}