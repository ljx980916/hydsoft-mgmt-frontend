{"ast":null,"code":"import { defineComponent, toRefs, ref, computed, provide, reactive, watch, createVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { checkboxGroupKey } from \"./context.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nimport _Checkbox from \"./checkbox.js\";\nimport { isString, isNumber, isFunction } from \"../_utils/is.js\";\nvar CheckboxGroup = defineComponent({\n  name: \"CheckboxGroup\",\n  props: {\n    modelValue: {\n      type: Array,\n      default: void 0\n    },\n    defaultValue: {\n      type: Array,\n      default: () => []\n    },\n    max: {\n      type: Number\n    },\n    options: {\n      type: Array\n    },\n    direction: {\n      type: String,\n      default: \"horizontal\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:modelValue\": value => true,\n    \"change\": (value, ev) => true\n  },\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      disabled\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"checkbox-group\");\n    const {\n      mergedDisabled,\n      eventHandlers\n    } = useFormItem({\n      disabled\n    });\n    const _value = ref(props.defaultValue);\n    const computedValue = computed(() => {\n      var _a;\n      return (_a = props.modelValue) != null ? _a : _value.value;\n    });\n    const isMaxed = computed(() => props.max === void 0 ? false : computedValue.value.length >= props.max);\n    const options = computed(() => {\n      var _a;\n      return ((_a = props.options) != null ? _a : []).map(option => {\n        if (isString(option) || isNumber(option)) {\n          return {\n            label: option,\n            value: option\n          };\n        }\n        return option;\n      });\n    });\n    const handleChange = (value, e) => {\n      var _a, _b;\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value, e);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a, e);\n    };\n    provide(checkboxGroupKey, reactive({\n      name: \"ArcoCheckboxGroup\",\n      computedValue,\n      disabled: mergedDisabled,\n      isMaxed,\n      slots,\n      handleChange\n    }));\n    const cls = computed(() => [prefixCls, `${prefixCls}-direction-${props.direction}`]);\n    watch(() => props.modelValue, curValue => {\n      if (curValue) {\n        _value.value = [...curValue];\n      }\n    });\n    const renderOptions = () => {\n      return options.value.map(option => {\n        const checked = computedValue.value.includes(option.value);\n        return createVNode(_Checkbox, {\n          \"key\": option.value,\n          \"value\": option.value,\n          \"disabled\": option.disabled || !checked && isMaxed.value,\n          \"indeterminate\": option.indeterminate,\n          \"modelValue\": checked\n        }, {\n          default: () => [slots.label ? slots.label({\n            data: option\n          }) : isFunction(option.label) ? option.label() : option.label]\n        });\n      });\n    };\n    return () => {\n      var _a;\n      return createVNode(\"span\", {\n        \"class\": cls.value\n      }, [options.value.length > 0 ? renderOptions() : (_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport { CheckboxGroup as default };","map":{"version":3,"names":["defineComponent","toRefs","ref","computed","provide","reactive","watch","createVNode","getPrefixCls","checkboxGroupKey","useFormItem","_Checkbox","isString","isNumber","isFunction","CheckboxGroup","name","props","modelValue","type","Array","default","defaultValue","max","Number","options","direction","String","disabled","Boolean","emits","value","ev","setup","emit","slots","prefixCls","mergedDisabled","eventHandlers","_value","computedValue","_a","isMaxed","length","map","option","label","handleChange","e","_b","onChange","call","cls","curValue","renderOptions","checked","includes","indeterminate","data"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-mgmt-frontend/node_modules/@arco-design/web-vue/es/checkbox/checkbox-group.js"],"sourcesContent":["import { defineComponent, toRefs, ref, computed, provide, reactive, watch, createVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { checkboxGroupKey } from \"./context.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nimport _Checkbox from \"./checkbox.js\";\nimport { isString, isNumber, isFunction } from \"../_utils/is.js\";\nvar CheckboxGroup = defineComponent({\n  name: \"CheckboxGroup\",\n  props: {\n    modelValue: {\n      type: Array,\n      default: void 0\n    },\n    defaultValue: {\n      type: Array,\n      default: () => []\n    },\n    max: {\n      type: Number\n    },\n    options: {\n      type: Array\n    },\n    direction: {\n      type: String,\n      default: \"horizontal\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:modelValue\": (value) => true,\n    \"change\": (value, ev) => true\n  },\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      disabled\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"checkbox-group\");\n    const {\n      mergedDisabled,\n      eventHandlers\n    } = useFormItem({\n      disabled\n    });\n    const _value = ref(props.defaultValue);\n    const computedValue = computed(() => {\n      var _a;\n      return (_a = props.modelValue) != null ? _a : _value.value;\n    });\n    const isMaxed = computed(() => props.max === void 0 ? false : computedValue.value.length >= props.max);\n    const options = computed(() => {\n      var _a;\n      return ((_a = props.options) != null ? _a : []).map((option) => {\n        if (isString(option) || isNumber(option)) {\n          return {\n            label: option,\n            value: option\n          };\n        }\n        return option;\n      });\n    });\n    const handleChange = (value, e) => {\n      var _a, _b;\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value, e);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a, e);\n    };\n    provide(checkboxGroupKey, reactive({\n      name: \"ArcoCheckboxGroup\",\n      computedValue,\n      disabled: mergedDisabled,\n      isMaxed,\n      slots,\n      handleChange\n    }));\n    const cls = computed(() => [prefixCls, `${prefixCls}-direction-${props.direction}`]);\n    watch(() => props.modelValue, (curValue) => {\n      if (curValue) {\n        _value.value = [...curValue];\n      }\n    });\n    const renderOptions = () => {\n      return options.value.map((option) => {\n        const checked = computedValue.value.includes(option.value);\n        return createVNode(_Checkbox, {\n          \"key\": option.value,\n          \"value\": option.value,\n          \"disabled\": option.disabled || !checked && isMaxed.value,\n          \"indeterminate\": option.indeterminate,\n          \"modelValue\": checked\n        }, {\n          default: () => [slots.label ? slots.label({\n            data: option\n          }) : isFunction(option.label) ? option.label() : option.label]\n        });\n      });\n    };\n    return () => {\n      var _a;\n      return createVNode(\"span\", {\n        \"class\": cls.value\n      }, [options.value.length > 0 ? renderOptions() : (_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport { CheckboxGroup as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}