{"ast":null,"code":"import { ref, reactive } from \"vue\";\n//导入draggable组件\nimport draggable from \"vuedraggable\";\nexport default {\n  __name: 'dragDemo',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const state = reactive({\n      /*工作台的数据结构\n        disabledMove:禁止移动\n        disabledPark:禁止停靠\n      */\n      modules: {\n        group1: [{\n          name: \"消息\",\n          id: 1,\n          disabledMove: false,\n          disabledPark: false\n        }, {\n          name: \"库存\",\n          id: 2,\n          disabledMove: false,\n          disabledPark: false\n        }, {\n          name: \"销量\",\n          id: 3,\n          disabledMove: false,\n          disabledPark: false\n        }, {\n          name: \"日志\",\n          id: 4,\n          disabledMove: false,\n          disabledPark: false\n        }],\n        group2: [{\n          name: \"\",\n          id: 5,\n          disabledMove: false,\n          disabledPark: false\n        }]\n      }\n    });\n\n    //拖拽开始的事件\n    const onStart = () => {};\n\n    //拖拽结束的事件\n    const onEnd = () => {};\n    const onMove = (e, originalEvent) => {\n      //不允许停靠\n      if (e.relatedContext.element.disabledPark == true) return false;\n      return true;\n    };\n    const __returned__ = {\n      state,\n      onStart,\n      onEnd,\n      onMove,\n      ref,\n      reactive,\n      get draggable() {\n        return draggable;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"AAwDE,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC;AACA,OAAOC,SAAS,MAAM,cAAc;;;;;;;IAEpC,MAAMC,KAAK,GAAGF,QAAQ,CAAC;MACrB;AACJ;AACA;AACA;MACIG,OAAO,EAAE;QACPC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,IAAI;UAAEC,EAAE,EAAE,CAAC;UAAEC,YAAY,EAAE,KAAK;UAAEC,YAAY,EAAE;QAAM,CAAC,EAC/D;UAAEH,IAAI,EAAE,IAAI;UAAEC,EAAE,EAAE,CAAC;UAAEC,YAAY,EAAE,KAAK;UAAEC,YAAY,EAAE;QAAM,CAAC,EAC/D;UAAEH,IAAI,EAAE,IAAI;UAAEC,EAAE,EAAE,CAAC;UAAEC,YAAY,EAAE,KAAK;UAAEC,YAAY,EAAE;QAAM,CAAC,EAC/D;UAAEH,IAAI,EAAE,IAAI;UAAEC,EAAE,EAAE,CAAC;UAAEC,YAAY,EAAE,KAAK;UAAEC,YAAY,EAAE;QAAM,CAAC,CAChE;QACDC,MAAM,EAAE,CACN;UAAEJ,IAAI,EAAE,EAAE;UAAEC,EAAE,EAAE,CAAC;UAAEC,YAAY,EAAE,KAAK;UAAEC,YAAY,EAAE;QAAM,CAAC;MAEjE;IACF,CAAC,CAAC;;IAEF;IACA,MAAME,OAAO,GAAG,MAAM,CACtB,CAAC;;IAED;IACA,MAAMC,KAAK,GAAG,MAAM,CACpB,CAAC;IAED,MAAMC,MAAM,GAAG,CAACC,CAAC,EAAEC,aAAa,KAAK;MACnC;MACA,IAAID,CAAC,CAACE,cAAc,CAACC,OAAO,CAACR,YAAY,IAAI,IAAI,EAAE,OAAO,KAAK;MAE/D,OAAO,IAAI;IACb,CAAC","names":["ref","reactive","draggable","state","modules","group1","name","id","disabledMove","disabledPark","group2","onStart","onEnd","onMove","e","originalEvent","relatedContext","element"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/views/demo/dragDemo.vue"],"sourcesContent":["<template>\n    <div class=\"itxst\">\n      <div class=\"group\">\n        <draggable\n          :list=\"state.modules.group1\"\n          itemKey=\"id\"\n          ghost-class=\"ghost\"\n          filter=\".forbid\"\n          :force-fallback=\"true\"\n          chosen-class=\"chosenClass\"\n          animation=\"300\"\n          @start=\"onStart\"\n          @end=\"onEnd\"\n          group=\"group1\"\n          :fallback-class=\"true\"\n          :fallback-on-body=\"true\"\n          :touch-start-threshold=\"50\"\n          :fallback-tolerance=\"50\"\n          :move=\"onMove\"\n        >\n          <template #item=\"{ element }\">\n            <div :class=\"element.disabledMove ? 'forbid item' : 'item'\">\n              <label class=\"move\">{{ element.name }}</label>\n              <p v-html=\"element.name\"></p>\n            </div>\n          </template>\n        </draggable>\n      </div>\n      <div class=\"group\">\n        <draggable\n          :list=\"state.modules.group2\"\n          itemKey=\"id\"\n          ghost-class=\"ghost\"\n          filter=\".forbid\"\n          :force-fallback=\"true\"\n          chosen-class=\"chosenClass\"\n          animation=\"300\"\n          @start=\"onStart\"\n          @end=\"onEnd\"\n          group=\"group1\"\n          :fallback-class=\"true\"\n          :fallback-on-body=\"true\"\n          :touch-start-threshold=\"50\"\n          :fallback-tolerance=\"50\"\n          :move=\"onMove\"\n        >\n          <template #item=\"{ element }\">\n            <div class=\"item\">\n              {{ element.name }}\n            </div>\n          </template>\n        </draggable>\n      </div>\n    </div>\n  </template>\n  <script setup>\n  import { ref, reactive } from \"vue\";\n  //导入draggable组件\n  import draggable from \"vuedraggable\";\n  \n  const state = reactive({\n    /*工作台的数据结构\n      disabledMove:禁止移动\n      disabledPark:禁止停靠\n    */\n    modules: {\n      group1: [\n        { name: \"消息\", id: 1, disabledMove: false, disabledPark: false },\n        { name: \"库存\", id: 2, disabledMove: false, disabledPark: false },\n        { name: \"销量\", id: 3, disabledMove: false, disabledPark: false },\n        { name: \"日志\", id: 4, disabledMove: false, disabledPark: false },\n      ],\n      group2: [\n        { name: \"\", id: 5, disabledMove: false, disabledPark: false },\n      ]\n    },\n  });\n  \n  //拖拽开始的事件\n  const onStart = () => {\n  };\n  \n  //拖拽结束的事件\n  const onEnd = () => {\n  };\n  \n  const onMove = (e, originalEvent) => {\n    //不允许停靠\n    if (e.relatedContext.element.disabledPark == true) return false;\n  \n    return true;\n  };\n  </script>\n  <style lang=\"scss\" scoped>\n  .itxst {\n    background-color: #ccc;\n    display: flex;\n    justify-content: space-between;\n    align-content: space-around;\n    padding: 20px;\n  }\n  \n  .group {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-content: center;\n    width: 32%;\n  }\n  .item {\n    border: solid 1px #ddd;\n    padding: 0px;\n    text-align: left;\n    background-color: #fff;\n    margin-bottom: 10px;\n    display: flex;\n    flex-direction: column;\n    min-height: 260px;\n    user-select: none;\n  }\n  \n  .item > label {\n    border-bottom: solid 1px #ddd;\n    padding: 6px 10px;\n    color: #333;\n  }\n  .item > label:hover {\n    cursor: move;\n  }\n  .item > p {\n    padding: 6px 10px;\n    color: #666;\n  }\n  .ghost {\n    border: solid 1px rgb(19, 41, 239) !important;\n  }\n  .chosenClass {\n    opacity: 1;\n    border: solid 2px red;\n  }\n  .fallbackClass {\n    background-color: aquamarine;\n  }\n  </style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}