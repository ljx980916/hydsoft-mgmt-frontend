{"ast":null,"code":"import { ref, onMounted, watch } from \"vue\";\nexport default {\n  __name: 'canvasContainer',\n  props: {\n    // 折线路径数据\n    route: {\n      type: Array,\n      default: () => []\n    },\n    height: {\n      type: Number,\n      default: 20\n    },\n    width: {\n      type: Number,\n      default: 50\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    watch(() => props.route, (old, newProps) => {\n      if (old !== newProps) {\n        animate();\n      }\n    });\n    const canvasEl = ref(null);\n    const animate = () => {\n      let ctx = canvasEl.value && canvasEl.value.getContext(\"2d\");\n      ctx.clearRect(0, 0, props.width, props.height);\n      ctx.translate(0, props.height);\n      ctx.scale(1, -1);\n      ctx.moveTo(...props.route[0]);\n      ctx.clearRect(0, 0, 50, 20);\n      props.route.forEach(item => {\n        ctx.lineTo(...item);\n        ctx.strokeStyle = \"blue\";\n        ctx.stroke();\n      });\n    };\n    onMounted(() => {\n      animate();\n    });\n    const __returned__ = {\n      props,\n      canvasEl,\n      animate,\n      ref,\n      onMounted,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","props","__props","route","old","newProps","animate","canvasEl","ctx","value","getContext","clearRect","width","height","translate","scale","moveTo","forEach","item","lineTo","strokeStyle","stroke"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/components/canvasContainer.vue"],"sourcesContent":["<template>\n  <canvas\n    :width=\"props.width\"\n    :height=\"props.height\"\n    ref=\"canvasEl\"\n    :style=\"{\n      padding: '10px',\n      backgroundColor: 'rgb(var(--arcoblue-1))',\n    }\"\n  ></canvas>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from \"vue\";\nconst props = defineProps({\n  // 折线路径数据\n  route: {\n    type: Array,\n    default: () => [],\n  },\n  height: {\n    type: Number,\n    default: 20,\n  },\n  width: {\n    type: Number,\n    default: 50,\n  },\n});\nwatch(\n  () => props.route,\n  (old, newProps) => {\n    if (old !== newProps) {\n      animate();\n    }\n  },\n);\nconst canvasEl = ref(null);\nconst animate = () => {\n  let ctx = canvasEl.value && canvasEl.value.getContext(\"2d\");\n  ctx.clearRect(0, 0, props.width, props.height);\n  ctx.translate(0, props.height);\n  ctx.scale(1, -1);\n  ctx.moveTo(...props.route[0]);\n  ctx.clearRect(0, 0, 50, 20);\n  props.route.forEach(item => {\n    ctx.lineTo(...item);\n    ctx.strokeStyle = \"blue\";\n    ctx.stroke();\n  });\n};\nonMounted(() => {\n  animate();\n});\n</script>\n"],"mappings":"AAaA,SAASA,GAAG,EAAEC,SAAS,EAAEC,KAAK,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;;;;IAC3C,MAAMC,KAAK,GAAGC,OAcZ;IACFF,KAAK,CACH,MAAMC,KAAK,CAACE,KAAK,EACjB,CAACC,GAAG,EAAEC,QAAQ,KAAK;MACjB,IAAID,GAAG,KAAKC,QAAQ,EAAE;QACpBC,OAAO,CAAC,CAAC;MACX;IACF,CACF,CAAC;IACD,MAAMC,QAAQ,GAAGT,GAAG,CAAC,IAAI,CAAC;IAC1B,MAAMQ,OAAO,GAAGA,CAAA,KAAM;MACpB,IAAIE,GAAG,GAAGD,QAAQ,CAACE,KAAK,IAAIF,QAAQ,CAACE,KAAK,CAACC,UAAU,CAAC,IAAI,CAAC;MAC3DF,GAAG,CAACG,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEV,KAAK,CAACW,KAAK,EAAEX,KAAK,CAACY,MAAM,CAAC;MAC9CL,GAAG,CAACM,SAAS,CAAC,CAAC,EAAEb,KAAK,CAACY,MAAM,CAAC;MAC9BL,GAAG,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAChBP,GAAG,CAACQ,MAAM,CAAC,GAAGf,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;MAC7BK,GAAG,CAACG,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;MAC3BV,KAAK,CAACE,KAAK,CAACc,OAAO,CAACC,IAAI,IAAI;QAC1BV,GAAG,CAACW,MAAM,CAAC,GAAGD,IAAI,CAAC;QACnBV,GAAG,CAACY,WAAW,GAAG,MAAM;QACxBZ,GAAG,CAACa,MAAM,CAAC,CAAC;MACd,CAAC,CAAC;IACJ,CAAC;IACDtB,SAAS,CAAC,MAAM;MACdO,OAAO,CAAC,CAAC;IACX,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}