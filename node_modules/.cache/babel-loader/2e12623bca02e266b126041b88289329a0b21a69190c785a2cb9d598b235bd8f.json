{"ast":null,"code":"/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { isArray, isFunction } from '@antv/util';\nimport ShapeBase from '../base';\nimport symbolsFactory from './symbols';\nvar Marker = /** @class */function (_super) {\n  __extends(Marker, _super);\n  function Marker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'marker';\n    _this.canFill = true;\n    _this.canStroke = true;\n    return _this;\n  }\n  Marker.prototype.createPath = function (context) {\n    var el = this.get('el');\n    el.setAttribute('d', this._assembleMarker());\n  };\n  Marker.prototype._assembleMarker = function () {\n    var d = this._getPath();\n    if (isArray(d)) {\n      return d.map(function (path) {\n        return path.join(' ');\n      }).join('');\n    }\n    return d;\n  };\n  Marker.prototype._getPath = function () {\n    var attrs = this.attr();\n    var x = attrs.x,\n      y = attrs.y;\n    // 兼容 r 和 radius 两种写法，推荐使用 r\n    var r = attrs.r || attrs.radius;\n    var symbol = attrs.symbol || 'circle';\n    var method;\n    if (isFunction(symbol)) {\n      method = symbol;\n    } else {\n      method = symbolsFactory.get(symbol);\n    }\n    if (!method) {\n      console.warn(method + \" symbol is not exist.\");\n      return null;\n    }\n    return method(x, y, r);\n  };\n  // 作为其静态属性\n  Marker.symbolsFactory = symbolsFactory;\n  return Marker;\n}(ShapeBase);\nexport default Marker;","map":{"version":3,"mappings":"AAAA;;;;;AAKA,SAASA,OAAO,EAAEC,UAAU,QAAQ,YAAY;AAChD,OAAOC,SAAS,MAAM,SAAS;AAC/B,OAAOC,cAAc,MAAM,WAAW;AAEtC;EAAqBC;EAArB;IAAA;IACEC,UAAI,GAAW,QAAQ;IACvBA,aAAO,GAAY,IAAI;IACvBA,eAAS,GAAY,IAAI;;EAyC3B;EApCEC,2BAAU,GAAV,UAAWC,OAAO;IAChB,IAAMC,EAAE,GAAG,IAAI,CAACC,GAAG,CAAC,IAAI,CAAC;IACzBD,EAAE,CAACE,YAAY,CAAC,GAAG,EAAE,IAAI,CAACC,eAAe,EAAE,CAAC;EAC9C,CAAC;EAEDL,gCAAe,GAAf;IACE,IAAMM,CAAC,GAAG,IAAI,CAACC,QAAQ,EAAE;IACzB,IAAIb,OAAO,CAACY,CAAC,CAAC,EAAE;MACd,OAAOA,CAAC,CACLE,GAAG,CAAC,UAACC,IAAI;QACR,OAAOA,IAAI,CAACC,IAAI,CAAC,GAAG,CAAC;MACvB,CAAC,CAAC,CACDA,IAAI,CAAC,EAAE,CAAC;;IAEb,OAAOJ,CAAC;EACV,CAAC;EAEDN,yBAAQ,GAAR;IACE,IAAMW,KAAK,GAAG,IAAI,CAACC,IAAI,EAAE;IACjB,KAAC,GAAQD,KAAK,EAAb;MAAEE,CAAC,GAAKF,KAAK,EAAV;IACZ;IACA,IAAMG,CAAC,GAAGH,KAAK,CAACG,CAAC,IAAIH,KAAK,CAACI,MAAM;IACjC,IAAMC,MAAM,GAAGL,KAAK,CAACK,MAAM,IAAI,QAAQ;IACvC,IAAIC,MAAM;IACV,IAAItB,UAAU,CAACqB,MAAM,CAAC,EAAE;MACtBC,MAAM,GAAGD,MAAM;KAChB,MAAM;MACLC,MAAM,GAAGpB,cAAc,CAACM,GAAG,CAACa,MAAM,CAAC;;IAGrC,IAAI,CAACC,MAAM,EAAE;MACXC,OAAO,CAACC,IAAI,CAAIF,MAAM,0BAAuB,CAAC;MAC9C,OAAO,IAAI;;IAEb,OAAOA,MAAM,CAACG,CAAC,EAAEP,CAAC,EAAEC,CAAC,CAAC;EACxB,CAAC;EAtCD;EACcd,qBAAc,GAAGH,cAAc;EAsC/C,aAAC;CAAA,CA5CoBD,SAAS;AA8C9B,eAAeI,MAAM","names":["isArray","isFunction","ShapeBase","symbolsFactory","__extends","_this","Marker","context","el","get","setAttribute","_assembleMarker","d","_getPath","map","path","join","attrs","attr","y","r","radius","symbol","method","console","warn","x"],"sourceRoot":"","sources":["../../../src/shape/marker/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}