{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-458ed6f1\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"defaultPadding\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"tag\"\n}, \"部门\", -1));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"dept\"\n}, \"BG1\", -1));\nconst _hoisted_4 = {\n  class: \"m-t-40 flex-between-noCenter\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"营业收入-折叠\", -1));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"m-l-14\"\n}, \"单位换算 /（万）\", -1));\nconst _hoisted_7 = {\n  class: \"m-t-40\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"营业收入-不折叠\", -1));\nimport { ref, reactive } from 'vue';\nimport { revenueColumns } from './constColumns.js';\nimport { revenueList } from '@/api/revenue.js';\nimport { dealData, ConversionUnit } from '@/utils/util.js';\nexport default {\n  __name: 'revenue',\n  setup(__props) {\n    const expandedRowKeys = ref([]);\n    // 折叠表格配置信息\n    const dataContent = reactive({\n      columns: revenueColumns,\n      dataSource: [],\n      loading: false\n    });\n    // 表格配置信息\n    const tableContent = reactive({\n      columns: revenueColumns,\n      dataSource: [],\n      loading: false\n    });\n    const dataArr = ref([]);\n    const isUnit = ref(false);\n\n    // 已展开的数据行发生改变时触发\n    const expandedChange = rowkeys => {\n      expandedRowKeys.value = rowkeys;\n    };\n    // 获取列表数据\n    const getList = () => {\n      revenueList().then(res => {\n        if (res.code == '000000000000') {\n          dataContent.dataSource = dealData(res.data.list).arr;\n          dataArr.value = JSON.parse(JSON.stringify(dataContent.dataSource));\n          const arr = dealData(res.data.list).dataArr;\n          tableContent.dataSource = arr.filter((obj, index) => arr.findIndex(item => item.key === obj.key) === index);\n          ;\n          expandedRowKeys.value = dealData(res.data.list).keyArr;\n        }\n      });\n    };\n    getList();\n    // 单位换算\n    const handleUnit = val => {\n      isUnit.value = val;\n      if (isUnit.value) {\n        dataContent.dataSource = JSON.parse(JSON.stringify(dataArr.value));\n        ConversionUnit(dataContent.dataSource);\n      } else {\n        dataContent.dataSource = dataArr.value;\n      }\n    };\n    return (_ctx, _cache) => {\n      const _component_a_space = _resolveComponent(\"a-space\");\n      const _component_icon_layers = _resolveComponent(\"icon-layers\");\n      const _component_a_button = _resolveComponent(\"a-button\");\n      const _component_a_switch = _resolveComponent(\"a-switch\");\n      const _component_a_table = _resolveComponent(\"a-table\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"header\", null, [_createVNode(_component_a_space, {\n        style: {\n          \"position\": \"relative\",\n          \"z-index\": \"2147483647\"\n        }\n      }, {\n        default: _withCtx(() => [_hoisted_2, _hoisted_3]),\n        _: 1\n      })]), _createElementVNode(\"main\", null, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_a_button, {\n        type: \"text\",\n        style: {\n          \"color\": \"#333\"\n        }\n      }, {\n        icon: _withCtx(() => [_createVNode(_component_icon_layers)]),\n        default: _withCtx(() => [_hoisted_5]),\n        _: 1\n      }), _createElementVNode(\"div\", null, [_createVNode(_component_a_switch, {\n        value: isUnit.value,\n        onChange: handleUnit\n      }, {\n        checked: _withCtx(() => [_createTextVNode(\"ON\")]),\n        unchecked: _withCtx(() => [_createTextVNode(\"OFF\")]),\n        _: 1\n      }, 8, [\"value\"]), _hoisted_6])]), _createVNode(_component_a_table, {\n        class: \"m-t-20 arcoTable_columnsWidthAuto arcoTable_tr_color\",\n        columns: dataContent.columns,\n        data: dataContent.dataSource,\n        loading: dataContent.loading,\n        \"expanded-keys\": expandedRowKeys.value,\n        pagination: false,\n        \"show-empty-tree\": \"\",\n        bordered: {\n          wrapper: true,\n          cell: true\n        },\n        onExpandedChange: expandedChange\n      }, null, 8, [\"columns\", \"data\", \"loading\", \"expanded-keys\"])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_a_button, {\n        type: \"text\",\n        style: {\n          \"color\": \"#333\"\n        }\n      }, {\n        icon: _withCtx(() => [_createVNode(_component_icon_layers)]),\n        default: _withCtx(() => [_hoisted_8]),\n        _: 1\n      })]), _createVNode(_component_a_table, {\n        class: \"m-t-20 arcoTable_columnsWidthAuto\",\n        columns: tableContent.columns,\n        data: tableContent.dataSource,\n        loading: tableContent.loading,\n        pagination: false,\n        bordered: {\n          wrapper: true,\n          cell: true\n        }\n      }, null, 8, [\"columns\", \"data\", \"loading\"])])])]);\n    };\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AA8DA,SAASA,GAAG,EAACC,QAAQ,QAAQ,KAAK;AAClC,SAAQC,cAAc,QAAO,mBAAmB;AAChD,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,SAAQC,QAAQ,EAACC,cAAc,QAAO,iBAAiB;;;;IACvD,MAAMC,eAAe,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC/B;IACA,MAAMO,WAAW,GAAGN,QAAQ,CAAC;MAC3BO,OAAO,EAAEN,cAAc;MACvBO,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE;IACX,CAAC,CAAC;IACF;IACA,MAAMC,YAAY,GAAGV,QAAQ,CAAC;MAC5BO,OAAO,EAAEN,cAAc;MACvBO,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE;IACX,CAAC,CAAC;IACF,MAAME,OAAO,GAAGZ,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMa,MAAM,GAAGb,GAAG,CAAC,KAAK,CAAC;;IAEzB;IACA,MAAMc,cAAc,GAAIC,OAAO,IAAG;MAC9BT,eAAe,CAACU,KAAK,GAAGD,OAAO;IACnC,CAAC;IACD;IACA,MAAME,OAAO,GAAG,MAAI;MAChBd,WAAW,EAAE,CAACe,IAAI,CAACC,GAAG,IAAE;QACpB,IAAGA,GAAG,CAACC,IAAI,IAAG,cAAc,EAAC;UACzBb,WAAW,CAACE,UAAU,GAAIL,QAAQ,CAACe,GAAG,CAACE,IAAI,CAACC,IAAI,CAAC,CAACC,GAAG;UACrDX,OAAO,CAACI,KAAK,GAAGQ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACnB,WAAW,CAACE,UAAU,CAAC,CAAC;UAClE,MAAMc,GAAG,GAAGnB,QAAQ,CAACe,GAAG,CAACE,IAAI,CAACC,IAAI,CAAC,CAACV,OAAO;UAC3CD,YAAY,CAACF,UAAU,GAAGc,GAAG,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAIN,GAAG,CAACO,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKJ,GAAG,CAACI,GAAG,CAAC,KAAKH,KAAK,CAAC;UAAC;UAC7GvB,eAAe,CAACU,KAAK,GAAGZ,QAAQ,CAACe,GAAG,CAACE,IAAI,CAACC,IAAI,CAAC,CAACW,MAAM;QAC1D;MACJ,CAAC,CAAC;IACN,CAAC;IACDhB,OAAO,EAAE;IACT;IACA,MAAMiB,UAAU,GAAIC,GAAG,IAAG;MACtBtB,MAAM,CAACG,KAAK,GAAGmB,GAAG;MAClB,IAAGtB,MAAM,CAACG,KAAK,EAAC;QACZT,WAAW,CAACE,UAAU,GAAGe,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACd,OAAO,CAACI,KAAK,CAAC,CAAC;QAClEX,cAAc,CAACE,WAAW,CAACE,UAAU,CAAC;MAC1C,CAAC,MAAI;QACDF,WAAW,CAACE,UAAU,GAAGG,OAAO,CAACI,KAAK;MAC1C;IACJ,CAAC","names":["ref","reactive","revenueColumns","revenueList","dealData","ConversionUnit","expandedRowKeys","dataContent","columns","dataSource","loading","tableContent","dataArr","isUnit","expandedChange","rowkeys","value","getList","then","res","code","data","list","arr","JSON","parse","stringify","filter","obj","index","findIndex","item","key","keyArr","handleUnit","val"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/views/demo/revenue.vue"],"sourcesContent":["<template>\n  <div class=\"defaultPadding\">\n    <header>\n       <a-space style=\"position: relative;z-index:2147483647\">\n        <div class=\"tag\">部门</div>\n        <span  class=\"dept\">BG1</span>\n        </a-space>\n    </header>\n    <main>\n        <!-- 营业收入-折叠 -->\n        <div>\n            <div class=\"m-t-40 flex-between-noCenter\">\n                <a-button type=\"text\" style=\"color:#333\">\n                    <template #icon>\n                        <icon-layers />\n                    </template>\n                    <h3>营业收入-折叠</h3>\n                </a-button>\n                <div>\n                    <a-switch :value=\"isUnit\" @change=\"handleUnit\">\n                        <template #checked>ON</template>\n                        <template #unchecked>OFF</template>\n                    </a-switch>\n                    <span class=\"m-l-14\">单位换算 /（万）</span>\n                </div>\n            </div>\n            <a-table \n            class=\"m-t-20 arcoTable_columnsWidthAuto arcoTable_tr_color\" \n            :columns=\"dataContent.columns\"  \n            :data=\"dataContent.dataSource\"  \n            :loading=\"dataContent.loading\"\n            :expanded-keys=\"expandedRowKeys\"\n            :pagination=\"false\" \n            show-empty-tree \n            :bordered=\"{wrapper: true, cell: true}\" \n            @expanded-change=\"expandedChange\"/>\n        </div>\n         <!-- 营业收入-不折叠 -->\n        <div>\n            <div class=\"m-t-40\">\n                <a-button type=\"text\" style=\"color:#333\">\n                    <template #icon>\n                        <icon-layers />\n                    </template>\n                    <h3>营业收入-不折叠</h3>\n                </a-button>\n            </div>\n            <a-table \n            class=\"m-t-20 arcoTable_columnsWidthAuto\" \n            :columns=\"tableContent.columns\"  \n            :data=\"tableContent.dataSource\"  \n            :loading=\"tableContent.loading\"\n            :pagination=\"false\" \n            :bordered=\"{wrapper: true, cell: true}\" \n            />\n        </div>\n    </main>\n  </div>\n</template>\n\n\n<script setup>\nimport { ref,reactive } from 'vue';\nimport {revenueColumns} from './constColumns.js';\nimport {revenueList} from '@/api/revenue.js';\nimport {dealData,ConversionUnit} from '@/utils/util.js';\nconst expandedRowKeys = ref([])\n// 折叠表格配置信息\nconst dataContent = reactive({\n  columns: revenueColumns,\n  dataSource: [],\n  loading: false\n});\n// 表格配置信息\nconst tableContent = reactive({\n  columns: revenueColumns,\n  dataSource: [],\n  loading: false\n});\nconst dataArr = ref([]);\nconst isUnit = ref(false);\n\n// 已展开的数据行发生改变时触发\nconst expandedChange = (rowkeys)=>{\n    expandedRowKeys.value = rowkeys\n};\n// 获取列表数据\nconst getList = ()=>{\n    revenueList().then(res=>{\n        if(res.code =='000000000000'){\n            dataContent.dataSource =  dealData(res.data.list).arr;\n            dataArr.value = JSON.parse(JSON.stringify(dataContent.dataSource));\n            const arr = dealData(res.data.list).dataArr\n            tableContent.dataSource = arr.filter((obj, index) =>arr.findIndex((item) => item.key === obj.key) === index);;\n            expandedRowKeys.value = dealData(res.data.list).keyArr;\n        }\n    })\n}\ngetList()\n// 单位换算\nconst handleUnit = (val)=>{\n    isUnit.value = val;\n    if(isUnit.value){\n        dataContent.dataSource = JSON.parse(JSON.stringify(dataArr.value));\n        ConversionUnit(dataContent.dataSource);\n    }else{\n        dataContent.dataSource = dataArr.value;\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tag{\n    border-width: 0px;\n    position:relative;\n    left:-40px;\n    top:6px;\n    width: 66px;\n    height: 29px;\n    background: linear-gradient(210deg, rgba(168, 113, 227, 1) 0%, rgba(168, 113, 227, 1) 0%, rgba(141, 78, 218, 1) 100%, rgba(141, 78, 218, 1) 100%);\n    border: none;\n    border-radius: 2px;\n    box-shadow: none;\n    color:#fff;\n    font-weight: 600;\n    text-align: center;\n    line-height: 29px;\n    transform-style:preserve-3d;\n}\n.tag::after{\n    content: '';\n    position:absolute;\n    left:-8px;\n    top:20px;\n    width: 0;\n    height: 0;\n    border: 9px solid;\n    border-color: transparent transparent rgb(113, 52, 178);\n    transform:translateZ(-1px) rotate(270deg);\n}\n.dept{\n    font-family: 'PingFangSC-Medium', 'PingFang SC Medium', 'PingFang SC';\n    font-weight: bold;\n    font-style: normal;\n    color: #4C5767;\n    margin: 12px 0px 0px 0px;\n}\n:deep(.arco-icon-plus){\n    background-image: url(@/assets/images/Triangle-right.png);\n    background-size: 110% 100%;\n    width: 14px!important;\n    height: 14px!important;\n    color: #FFFFFF00;\n    background-position:center;\n    background-repeat: no-repeat;\n}\n:deep(.arco-icon-minus){\n\tbackground-image: url(@/assets/images/Triangle-bottom.png);\n    background-size: 110% 100%;\n    background-repeat: no-repeat;\n    width: 14px!important;\n    height: 14px!important;\n    color: #FFFFFF00;\n    background-position:center;\n}\n:deep(.arco-table .arco-table-expand-btn){\n    background-color: #fff !important;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}