{"ast":null,"code":"/**\n * Normalizes a single segment of a `PathArray` object.\n * eg. H/V -> L, T -> Q\n */\nexport function normalizeSegment(segment, params) {\n  var pathCommand = segment[0];\n  var px1 = params.x1,\n    py1 = params.y1,\n    px2 = params.x2,\n    py2 = params.y2;\n  var values = segment.slice(1).map(Number);\n  var result = segment;\n  if (!'TQ'.includes(pathCommand)) {\n    // optional but good to be cautious\n    params.qx = null;\n    params.qy = null;\n  }\n  if (pathCommand === 'H') {\n    result = ['L', segment[1], py1];\n  } else if (pathCommand === 'V') {\n    result = ['L', px1, segment[1]];\n  } else if (pathCommand === 'S') {\n    var x1 = px1 * 2 - px2;\n    var y1 = py1 * 2 - py2;\n    params.x1 = x1;\n    params.y1 = y1;\n    result = ['C', x1, y1].concat(values);\n  } else if (pathCommand === 'T') {\n    var qx = px1 * 2 - params.qx;\n    var qy = py1 * 2 - params.qy;\n    params.qx = qx;\n    params.qy = qy;\n    result = ['Q', qx, qy].concat(values);\n  } else if (pathCommand === 'Q') {\n    var nqx = values[0],\n      nqy = values[1];\n    params.qx = nqx;\n    params.qy = nqy;\n  }\n  return result;\n}","map":{"version":3,"mappings":"AAEA;;;;AAIA,OAAM,SAAUA,gBAAgB,CAACC,OAAoB,EAAEC,MAAW;EACzD,eAAW,GAAID,OAAO,GAAX;EACV,IAAIE,GAAG,GAAgCD,MAAM,GAAtC;IAAME,GAAG,GAAuBF,MAAM,GAA7B;IAAMG,GAAG,GAAcH,MAAM,GAApB;IAAMI,GAAG,GAAKJ,MAAM,GAAX;EAC1C,IAAMK,MAAM,GAAGN,OAAO,CAACO,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAACC,MAAM,CAAC;EAC3C,IAAIC,MAAM,GAAGV,OAAO;EAEpB,IAAI,CAAC,IAAI,CAACW,QAAQ,CAACC,WAAW,CAAC,EAAE;IAC/B;IACAX,MAAM,CAACY,EAAE,GAAG,IAAI;IAChBZ,MAAM,CAACa,EAAE,GAAG,IAAI;;EAGlB,IAAIF,WAAW,KAAK,GAAG,EAAE;IACvBF,MAAM,GAAG,CAAC,GAAG,EAAEV,OAAO,CAAC,CAAC,CAAC,EAAEG,GAAG,CAAC;GAChC,MAAM,IAAIS,WAAW,KAAK,GAAG,EAAE;IAC9BF,MAAM,GAAG,CAAC,GAAG,EAAER,GAAG,EAAEF,OAAO,CAAC,CAAC,CAAC,CAAC;GAChC,MAAM,IAAIY,WAAW,KAAK,GAAG,EAAE;IAC9B,IAAMG,EAAE,GAAGb,GAAG,GAAG,CAAC,GAAGE,GAAG;IACxB,IAAMY,EAAE,GAAGb,GAAG,GAAG,CAAC,GAAGE,GAAG;IACxBJ,MAAM,CAACc,EAAE,GAAGA,EAAE;IACdd,MAAM,CAACe,EAAE,GAAGA,EAAE;IACdN,MAAM,GAAG,CAAC,GAAG,EAAEK,EAAE,EAAEC,EAAE,CAAC,CAACC,MAAM,CAACX,MAAM,CAAa;GAClD,MAAM,IAAIM,WAAW,KAAK,GAAG,EAAE;IAC9B,IAAMC,EAAE,GAAGX,GAAG,GAAG,CAAC,GAAGD,MAAM,CAACY,EAAE;IAC9B,IAAMC,EAAE,GAAGX,GAAG,GAAG,CAAC,GAAGF,MAAM,CAACa,EAAE;IAC9Bb,MAAM,CAACY,EAAE,GAAGA,EAAE;IACdZ,MAAM,CAACa,EAAE,GAAGA,EAAE;IACdJ,MAAM,GAAG,CAAC,GAAG,EAAEG,EAAE,EAAEC,EAAE,CAAC,CAACG,MAAM,CAACX,MAAM,CAAa;GAClD,MAAM,IAAIM,WAAW,KAAK,GAAG,EAAE;IACvB,OAAG,GAASN,MAAM,GAAf;MAAEY,GAAG,GAAIZ,MAAM,GAAV;IACfL,MAAM,CAACY,EAAE,GAAGM,GAAG;IACflB,MAAM,CAACa,EAAE,GAAGI,GAAG;;EAGjB,OAAOR,MAAuB;AAChC","names":["normalizeSegment","segment","params","px1","py1","px2","py2","values","slice","map","Number","result","includes","pathCommand","qx","qy","x1","y1","concat","nqy","nqx"],"sourceRoot":"src/","sources":["path/process/normalize-segment.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}