{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport Gradient from './gradient';\nimport Shadow from './shadow';\nimport Arrow from './arrow';\nimport Clip from './clip';\nimport Pattern from './pattern';\nimport { createSVGElement } from '../util/dom';\nvar Defs = /** @class */function () {\n  function Defs(canvas) {\n    var el = createSVGElement('defs');\n    var id = uniqueId('defs_');\n    el.id = id;\n    canvas.appendChild(el);\n    this.children = [];\n    this.defaultArrow = {};\n    this.el = el;\n    this.canvas = canvas;\n  }\n  Defs.prototype.find = function (type, attr) {\n    var children = this.children;\n    var result = null;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].match(type, attr)) {\n        result = children[i].id;\n        break;\n      }\n    }\n    return result;\n  };\n  Defs.prototype.findById = function (id) {\n    var children = this.children;\n    var flag = null;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].id === id) {\n        flag = children[i];\n        break;\n      }\n    }\n    return flag;\n  };\n  Defs.prototype.add = function (item) {\n    this.children.push(item);\n    item.canvas = this.canvas;\n    item.parent = this;\n  };\n  Defs.prototype.getDefaultArrow = function (attrs, name) {\n    var stroke = attrs.stroke || attrs.strokeStyle;\n    if (this.defaultArrow[stroke]) {\n      return this.defaultArrow[stroke].id;\n    }\n    var arrow = new Arrow(attrs, name);\n    this.defaultArrow[stroke] = arrow;\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n  Defs.prototype.addGradient = function (cfg) {\n    var gradient = new Gradient(cfg);\n    this.el.appendChild(gradient.el);\n    this.add(gradient);\n    return gradient.id;\n  };\n  Defs.prototype.addArrow = function (attrs, name) {\n    var arrow = new Arrow(attrs, name);\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n  Defs.prototype.addShadow = function (cfg) {\n    var shadow = new Shadow(cfg);\n    this.el.appendChild(shadow.el);\n    this.add(shadow);\n    return shadow.id;\n  };\n  Defs.prototype.addPattern = function (cfg) {\n    var pattern = new Pattern(cfg);\n    this.el.appendChild(pattern.el);\n    this.add(pattern);\n    return pattern.id;\n  };\n  Defs.prototype.addClip = function (cfg) {\n    var clip = new Clip(cfg);\n    this.el.appendChild(clip.el);\n    this.add(clip);\n    return clip.id;\n  };\n  return Defs;\n}();\nexport default Defs;","map":{"version":3,"mappings":"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","names":["uniqueId","Gradient","Shadow","Arrow","Clip","Pattern","createSVGElement","canvas","el","id","appendChild","children","defaultArrow","Defs","type","attr","result","i","length","match","flag","item","push","parent","attrs","name","stroke","strokeStyle","arrow","add","cfg","gradient","shadow","pattern","clip"],"sourceRoot":"","sources":["../../src/defs/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}