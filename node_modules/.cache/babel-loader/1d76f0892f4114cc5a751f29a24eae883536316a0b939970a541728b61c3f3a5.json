{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"defaultPadding\"\n};\nconst _hoisted_2 = {\n  class: \"m-b-26 flex-between\"\n};\nconst _hoisted_3 = {\n  class: \"flex m-r-24\"\n};\nconst _hoisted_4 = {\n  class: \"m-r-24\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 1,\n  class: \"pointer\"\n};\nconst _hoisted_7 = {\n  href: \"javaScript:void(0)\",\n  style: {\n    \"color\": \"#333\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"defaultPadding\"\n};\nconst _hoisted_9 = {\n  class: \"m-b-26 flex-between\"\n};\nconst _hoisted_10 = {\n  class: \"m-r-24\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  key: 1,\n  class: \"pointer\"\n};\nconst _hoisted_13 = {\n  class: \"level3Header\"\n};\nconst _hoisted_14 = {\n  class: \"w-perct-80\"\n};\nconst _hoisted_15 = {\n  class: \"item\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", null, \"项目营业收入：\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"item\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"span\", null, \"项目销售毛利：\", -1 /* HOISTED */);\nconst _hoisted_19 = {\n  class: \"item\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"span\", null, \"项目销售毛利率：\", -1 /* HOISTED */);\nconst _hoisted_21 = {\n  class: \"item\"\n};\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", null, \"项目C1总人数：\", -1 /* HOISTED */);\nconst _hoisted_23 = {\n  class: \"item\"\n};\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"span\", null, \"项目人员利用率：\", -1 /* HOISTED */);\nconst _hoisted_25 = {\n  key: 0,\n  class: \"defaultPadding\"\n};\nconst _hoisted_26 = {\n  class: \"m-b-20\"\n};\nconst _hoisted_27 = {\n  class: \"m-b-20 flex-between\"\n};\nconst _hoisted_28 = {\n  class: \"pointer\"\n};\nconst _hoisted_29 = {\n  key: 1\n};\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"span\", null, \"颜色维度：\", -1 /* HOISTED */);\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"div\", null, \"选项说明:\", -1 /* HOISTED */);\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"div\", null, \"1、出勤=月实际工时天数+法定节假日-实际发薪天数\", -1 /* HOISTED */);\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"modal-title\"\n}, \"设置项目行为角色\", -1 /* HOISTED */);\nconst _hoisted_34 = {\n  class: \"flex-center\"\n};\nconst _hoisted_35 = {\n  class: \"modal-label\"\n};\nconst _hoisted_36 = {\n  class: \"text-center\"\n};\nconst _hoisted_37 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"modal-title\"\n}, \"详情-集团客户\", -1 /* HOISTED */);\nconst _hoisted_38 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"blocInfoModal-content-title\"\n}, \"集团客户名称：集团客户-三星\", -1 /* HOISTED */);\nconst _hoisted_39 = {\n  class: \"text-center\"\n};\nconst _hoisted_40 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"modal-title\"\n}, \"详情-客户\", -1 /* HOISTED */);\nconst _hoisted_41 = {\n  class: \"m-b-30\"\n};\nconst _hoisted_42 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"customerModal-content-title\"\n}, \"基本信息\", -1 /* HOISTED */);\nconst _hoisted_43 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"customerModal-content-title\"\n}, \"人员信息\", -1 /* HOISTED */);\nconst _hoisted_44 = {\n  class: \"text-center\"\n};\nconst _hoisted_45 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"modal-title\"\n}, \"详情-项目\", -1 /* HOISTED */);\nconst _hoisted_46 = {\n  class: \"m-b-30\"\n};\nconst _hoisted_47 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"customerModal-content-title\"\n}, \"基本信息\", -1 /* HOISTED */);\nconst _hoisted_48 = {\n  class: \"m-b-30\"\n};\nconst _hoisted_49 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"customerModal-content-title\"\n}, \"人员信息\", -1 /* HOISTED */);\nconst _hoisted_50 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"customerModal-content-title\"\n}, \"经营信息\", -1 /* HOISTED */);\nconst _hoisted_51 = {\n  class: \"text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_month_picker = _resolveComponent(\"a-month-picker\");\n  const _component_a_radio = _resolveComponent(\"a-radio\");\n  const _component_a_radio_group = _resolveComponent(\"a-radio-group\");\n  const _component_icon_download = _resolveComponent(\"icon-download\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n  const _component_a_space = _resolveComponent(\"a-space\");\n  const _component_a_popover = _resolveComponent(\"a-popover\");\n  const _component_a_tooltip = _resolveComponent(\"a-tooltip\");\n  const _component_a_empty = _resolveComponent(\"a-empty\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  const _component_icon_user = _resolveComponent(\"icon-user\");\n  const _component_a_checkbox = _resolveComponent(\"a-checkbox\");\n  const _component_icon_export = _resolveComponent(\"icon-export\");\n  const _component_a_option = _resolveComponent(\"a-option\");\n  const _component_a_select = _resolveComponent(\"a-select\");\n  const _component_icon_info_circle_fill = _resolveComponent(\"icon-info-circle-fill\");\n  const _component_a_spin = _resolveComponent(\"a-spin\");\n  const _component_icon_down = _resolveComponent(\"icon-down\");\n  const _component_a_modal = _resolveComponent(\"a-modal\");\n  const _component_a_descriptions = _resolveComponent(\"a-descriptions\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_withDirectives(_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createTextVNode(\" 月份： \"), _createVNode(_component_a_month_picker, {\n    modelValue: $setup.dateNow,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.dateNow = $event),\n    style: {\n      \"width\": \"120px\",\n      \"border-radius\": \"4px\"\n    },\n    \"allow-clear\": false,\n    disabledDate: $setup.disabledDateFn,\n    onChange: $setup.monthPickChange\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createVNode(_component_a_radio_group, {\n    type: \"button\",\n    size: \"large\",\n    modelValue: $setup.level1CheckedValue,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.level1CheckedValue = $event),\n    onChange: $setup.radioCheckedChange,\n    disabled: $setup.level1RadioDisabled\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tableInfo.level1.tabs, item => {\n      return _openBlock(), _createBlock(_component_a_radio, {\n        value: item.key\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n    }), 256 /* UNKEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"disabled\"])]), _createVNode(_component_a_space, null, {\n    default: _withCtx(() => [_createVNode(_component_a_popconfirm, {\n      content: \"确定导出全部吗?\",\n      onOk: $setup.level1ExportAll\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_button, {\n        type: \"outline\",\n        loading: $setup.level1ExportAllLoading,\n        style: {\n          \"border-radius\": \"4px\"\n        }\n      }, {\n        icon: _withCtx(() => [_createVNode(_component_icon_download)]),\n        default: _withCtx(() => [_createTextVNode(\"导出全部\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_a_popconfirm, {\n      content: \"确定导出本页吗?\",\n      onOk: $setup.level1ExportCurrentPage\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_button, {\n        type: \"primary\",\n        loading: $setup.level1ExportLoading,\n        style: {\n          \"border-radius\": \"4px\"\n        }\n      }, {\n        icon: _withCtx(() => [_createVNode(_component_icon_download)]),\n        default: _withCtx(() => [_createTextVNode(\"导出本页\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]), _createVNode(_component_a_table, {\n    \"row-class\": $setup.rowClass,\n    columns: $setup.tableInfo.level1.columns[$setup.level1CheckedValue] || [],\n    data: $setup.tableInfo.level1.data,\n    bordered: false,\n    \"column-resizable\": \"\",\n    \"expanded-keys\": $setup.tableInfo.level1.defaultExpandedKeys,\n    scroll: {\n      maxHeight: $setup.tableInfo.level1.maxHeight\n    },\n    scrollbar: false,\n    pagination: false,\n    loading: $setup.tableInfo.loading,\n    ref: \"level1tableRef\",\n    onExpandedChange: $setup.expandedChange\n  }, {\n    lastDeptName: _withCtx(({\n      record\n    }) => [$setup.currentLevel === 'level1' ? (_openBlock(), _createBlock(_component_a_popover, {\n      key: 0,\n      \"content-style\": {\n        background: 'rgba(0,0,0,.8)',\n        color: '#fff'\n      },\n      \"arrow-style\": {\n        background: 'rgba(0,0,0,.8)'\n      }\n    }, {\n      content: _withCtx(() => [_createTextVNode(_toDisplayString(record.deptName), 1 /* TEXT */)]),\n\n      default: _withCtx(() => [record.leafNode === '1' ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 0,\n        href: \"javaScript:void(0)\",\n        style: {\n          \"color\": \"#165dff\"\n        },\n        onClick: $event => $setup.jump('level2', record)\n      }, _toDisplayString(record.lastDeptName), 9 /* TEXT, PROPS */, _hoisted_5)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(record.lastDeptName), 1 /* TEXT */))]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"content-style\", \"arrow-style\"])) : _createCommentVNode(\"v-if\", true)]),\n    columTitleSlot: _withCtx(({\n      column\n    }) => [_createVNode(_component_a_tooltip, {\n      style: {\n        \"width\": \"max-content\"\n      },\n      content: column.title\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"a\", _hoisted_7, _toDisplayString(column.title), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"content\"])]),\n    empty: _withCtx(() => [_createVNode(_component_a_empty)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"data\", \"expanded-keys\", \"scroll\", \"loading\"])], 512 /* NEED_PATCH */), [[_vShow, $setup.currentLevel === 'level1']]), _withDirectives(_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_a_radio_group, {\n    type: \"button\",\n    size: \"large\",\n    modelValue: $setup.level2CheckedValue,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.level2CheckedValue = $event),\n    onChange: $setup.level2RadioCheckedChange,\n    disabled: $setup.level2RadioDisabled\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tableInfo.level2.tabs, item => {\n      return _openBlock(), _createBlock(_component_a_radio, {\n        value: item.key\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n    }), 256 /* UNKEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"disabled\"])]), _createElementVNode(\"div\", null, [_createVNode(_component_a_button, {\n    type: \"outline\",\n    disabled: $setup.level2CheckedArr.length === 0,\n    style: {\n      \"border-radius\": \"4px\"\n    },\n    class: \"m-r-24\",\n    onClick: $setup.level2SetRole\n  }, {\n    icon: _withCtx(() => [_createVNode(_component_icon_user)]),\n    default: _withCtx(() => [_createTextVNode(\"设置角色\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"disabled\"]), _createVNode(_component_a_popconfirm, {\n    content: \"确定导出本页吗?\",\n    onOk: $setup.level2ExportAll\n  }, {\n    default: _withCtx(() => [_createVNode(_component_a_button, {\n      type: \"primary\",\n      loading: $setup.level2ExportLoading,\n      style: {\n        \"border-radius\": \"4px\"\n      }\n    }, {\n      icon: _withCtx(() => [_createVNode(_component_icon_download)]),\n      default: _withCtx(() => [_createTextVNode(\"导出本页\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\"])]),\n    _: 1 /* STABLE */\n  })])]), _createVNode(_component_a_table, {\n    \"row-class\": $setup.rowClass,\n    columns: $setup.tableInfo.level2.columns[$setup.level2CheckedValue] || [],\n    data: $setup.tableInfo.level2.data,\n    bordered: false,\n    \"column-resizable\": \"\",\n    \"expanded-keys\": $setup.tableInfo.level2.defaultExpandedKeys,\n    scroll: {\n      maxHeight: $setup.tableInfo.level2.maxHeight\n    },\n    scrollbar: false,\n    pagination: false,\n    loading: $setup.tableInfo.loading,\n    ref: \"level2tableRef\",\n    onExpandedChange: $setup.expandedChange\n  }, {\n    title: _withCtx(({\n      record\n    }) => [record.leafNode === '1' ? (_openBlock(), _createBlock(_component_a_checkbox, {\n      key: 0,\n      class: \"m-r-8\",\n      style: {\n        \"vertical-align\": \"middle\"\n      },\n      \"model-value\": $setup.level2CheckedArr.length > 0 && $setup.level2CheckedArr.findIndex(item => item.id === record.id) !== -1,\n      onChange: $event => $setup.level2CheckboxChange($event, record)\n    }, null, 8 /* PROPS */, [\"model-value\", \"onChange\"])) : _createCommentVNode(\"v-if\", true), $setup.currentLevel === 'level2' ? (_openBlock(), _createBlock(_component_a_popover, {\n      key: 1,\n      \"content-style\": {\n        background: 'rgba(0,0,0,.8)',\n        color: '#fff'\n      },\n      \"arrow-style\": {\n        background: 'rgba(0,0,0,.8)'\n      }\n    }, {\n      content: _withCtx(() => [_createTextVNode(_toDisplayString(record.title), 1 /* TEXT */)]),\n\n      default: _withCtx(() => [record.leafNode === '1' ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 0,\n        href: \"javaScript:void(0)\",\n        style: {\n          \"color\": \"#165dff\"\n        },\n        onClick: $event => $setup.jump('level3', record)\n      }, _toDisplayString(record.title), 9 /* TEXT, PROPS */, _hoisted_11)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, _toDisplayString(record.title), 1 /* TEXT */))]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"content-style\", \"arrow-style\"])) : _createCommentVNode(\"v-if\", true)]),\n    empty: _withCtx(() => [_createVNode(_component_a_empty)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"data\", \"expanded-keys\", \"scroll\", \"loading\"])], 512 /* NEED_PATCH */), [[_vShow, $setup.currentLevel === 'level2']]), _withDirectives(_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createVNode(_component_a_space, {\n    wrap: \"\",\n    size: [20, 0]\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createTextVNode(\" \" + _toDisplayString($setup.toInteger($setup.level3HeaderData.colNo5, 0)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createTextVNode(\" \" + _toDisplayString($setup.toInteger($setup.level3HeaderData.colNo8, 0)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createTextVNode(\" \" + _toDisplayString($setup.number2percentage($setup.level3HeaderData.colNo9, 2)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _createTextVNode(\" \" + _toDisplayString($setup.toInteger($setup.level3HeaderData.colNo1, 0)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _createTextVNode(\" \" + _toDisplayString($setup.number2percentage($setup.level3HeaderData.colNo3, 2)), 1 /* TEXT */)])]),\n\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", null, [_createVNode(_component_a_radio_group, {\n    type: \"button\",\n    size: \"large\",\n    \"model-value\": $setup.level3TabSelect,\n    \"onUpdate:model-value\": _cache[3] || (_cache[3] = $event => $setup.level3TabSelect = $event),\n    onChange: $setup.changeDataType\n  }, {\n    default: _withCtx(() => [_createVNode(_component_a_radio, {\n      value: \"list\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"列表\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_a_radio, {\n      value: \"chart\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"看图\")]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model-value\"])])]), $setup.dataType == 'list' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createTextVNode(\" 集团/客户/项目 : \" + _toDisplayString($setup.level3HeaderData.groupCustomerName + \" / \" + $setup.level3HeaderData.customerName + \" / \" + $setup.level3HeaderData.title) + \" \", 1 /* TEXT */), _createCommentVNode(\" <a href=\\\"javaScript:void(0)\\\" style=\\\"color: #165dff\\\">\\n          {{ level3HeaderData.groupCustomerName }}\\n        </a>\\n        /\\n        <a href=\\\"javaScript:void(0)\\\" style=\\\"color: #165dff\\\">\\n          {{ level3HeaderData.customerName }}\\n        </a>\\n        /\\n        <a href=\\\"javaScript:void(0)\\\" style=\\\"color: #165dff\\\">\\n          {{ level3HeaderData.title }}\\n        </a> \")]), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", null, [_createVNode(_component_a_radio_group, {\n    type: \"button\",\n    size: \"large\",\n    modelValue: $setup.level3CheckedValue,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.level3CheckedValue = $event),\n    disabled: $setup.level3RadioDisabled,\n    onChange: $setup.level3RadioCheckedChange\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tableInfo.level3.tabs, item => {\n      return _openBlock(), _createBlock(_component_a_radio, {\n        value: item.key\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1 /* TEXT */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n    }), 256 /* UNKEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"disabled\"])]), _createElementVNode(\"div\", null, [_createVNode(_component_a_space, null, {\n    default: _withCtx(() => [_createVNode(_component_a_popconfirm, {\n      content: \"确定导出本页吗?\",\n      onOk: $setup.level3Export\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_button, {\n        type: \"primary\",\n        class: \"m-l-14\",\n        loading: $setup.level3ExportLoading\n      }, {\n        icon: _withCtx(() => [_createVNode(_component_icon_export)]),\n        default: _withCtx(() => [_createTextVNode(\"导出本页\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })])]), _createVNode(_component_a_table, {\n    \"row-class\": $setup.rowClass,\n    columns: $setup.tableInfo.level3.columns[$setup.level3CheckedValue] || [],\n    data: $setup.tableInfo.level3.data,\n    bordered: false,\n    \"column-resizable\": \"\",\n    \"expanded-keys\": $setup.tableInfo.level3.defaultExpandedKeys,\n    scroll: {\n      maxHeight: $setup.tableInfo.level3.maxHeight\n    },\n    scrollbar: false,\n    pagination: false,\n    loading: $setup.tableInfo.loading,\n    ref: \"level3tableRef\",\n    onExpandedChange: $setup.expandedChange\n  }, {\n    position: _withCtx(({\n      record\n    }) => [$setup.currentLevel === 'level3' ? (_openBlock(), _createBlock(_component_a_popover, {\n      key: 0,\n      \"content-style\": {\n        background: 'rgba(0,0,0,.8)',\n        color: '#fff'\n      },\n      \"arrow-style\": {\n        background: 'rgba(0,0,0,.8)'\n      }\n    }, {\n      content: _withCtx(() => [_createTextVNode(_toDisplayString(record.position), 1 /* TEXT */)]),\n\n      default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_28, _toDisplayString(record.position), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"content-style\", \"arrow-style\"])) : _createCommentVNode(\"v-if\", true)]),\n    empty: _withCtx(() => [_createVNode(_component_a_empty)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"data\", \"expanded-keys\", \"scroll\", \"loading\"])])) : _createCommentVNode(\"v-if\", true), $setup.dataType == 'chart' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [_createVNode(_component_a_space, {\n    class: \"chartSelect\"\n  }, {\n    default: _withCtx(() => [_hoisted_30, _createVNode(_component_a_select, {\n      modelValue: $setup.type,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.type = $event),\n      placeholder: \"请选择\",\n      onChange: $setup.changeType,\n      style: {\n        \"width\": \"120px\"\n      }\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.typeList, item => {\n        return _openBlock(), _createBlock(_component_a_option, {\n          value: item.label,\n          key: item.label\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(item.value), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_a_tooltip, {\n      style: {\n        \"width\": \"max-content\"\n      }\n    }, {\n      content: _withCtx(() => [_hoisted_31, _hoisted_32]),\n      default: _withCtx(() => [_createVNode(_component_icon_info_circle_fill, {\n        size: \"20\",\n        style: {\n          \"color\": \"#a9aeb8\"\n        }\n      })]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }), _createVNode(_component_a_spin, {\n    loading: $setup.spinLoading,\n    tip: \"正在加载...\",\n    style: {\n      \"display\": \"block\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"scatterPlot\"], {\n      seriesData: $setup.data,\n      color: $setup.color\n    }, null, 8 /* PROPS */, [\"seriesData\", \"color\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"loading\"])])) : _createCommentVNode(\"v-if\", true)], 512 /* NEED_PATCH */), [[_vShow, $setup.currentLevel === 'level3']]), _createVNode(_component_a_modal, {\n    visible: $setup.setRoleModal.visible,\n    \"onUpdate:visible\": _cache[6] || (_cache[6] = $event => $setup.setRoleModal.visible = $event),\n    width: \"680px\",\n    \"title-align\": \"start\"\n  }, {\n    title: _withCtx(() => [_hoisted_33]),\n    footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_36, [_createVNode(_component_a_button, {\n      type: \"outline\",\n      class: \"m-r-24\",\n      disabled: $setup.setRoleModal.loading,\n      onClick: $setup.setRoleCancel\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"取消\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"]), _createVNode(_component_a_button, {\n      type: \"primary\",\n      disabled: $setup.setRoleModal.loading,\n      loading: $setup.setRoleModal.confirmBtnLoading,\n      onClick: $setup.setRoleOk\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" 确定 \")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\", \"loading\"])])]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_34, [_createVNode(_component_a_spin, {\n      loading: $setup.setRoleModal.loading,\n      tip: \"数据加载中。。。\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_space, {\n        direction: \"vertical\",\n        size: 24\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.setRoleModal.roles, (item, index) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: index\n          }, [_createElementVNode(\"span\", _hoisted_35, _toDisplayString(item.label) + \"：\", 1 /* TEXT */), _createVNode(_component_a_select, {\n            options: $setup.setRoleModal.selectOptions,\n            style: {\n              width: '378px'\n            },\n            placeholder: \"输入并选择项目经理角色\",\n            \"model-value\": item.value,\n            \"onUpdate:model-value\": $event => item.value = $event,\n            \"allow-search\": \"\",\n            \"virtual-list-props\": {\n              height: 200\n            }\n          }, {\n            \"arrow-icon\": _withCtx(() => [_createVNode(_component_icon_down)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"options\", \"model-value\", \"onUpdate:model-value\"])]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createVNode(_component_a_modal, {\n    visible: $setup.blocInfoModal.visible,\n    \"onUpdate:visible\": _cache[7] || (_cache[7] = $event => $setup.blocInfoModal.visible = $event),\n    width: \"760px\",\n    \"title-align\": \"start\"\n  }, {\n    title: _withCtx(() => [_hoisted_37]),\n    footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_39, [_createVNode(_component_a_button, {\n      type: \"primary\",\n      onClick: $setup.blocInfoModalOk\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"知道了\")]),\n      _: 1 /* STABLE */\n    })])]),\n\n    default: _withCtx(() => [_createElementVNode(\"div\", null, [_hoisted_38, _createVNode(_component_a_table, {\n      columns: $setup.blocInfoModal.tableColumns,\n      data: $setup.blocInfoModal.tableData,\n      bordered: {\n        cell: true\n      },\n      pagination: false\n    }, null, 8 /* PROPS */, [\"columns\", \"data\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createVNode(_component_a_modal, {\n    visible: $setup.customerModal.visible,\n    \"onUpdate:visible\": _cache[8] || (_cache[8] = $event => $setup.customerModal.visible = $event),\n    width: \"784px\",\n    \"title-align\": \"start\"\n  }, {\n    title: _withCtx(() => [_hoisted_40]),\n    footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_44, [_createVNode(_component_a_button, {\n      type: \"primary\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"知道了\")]),\n      _: 1 /* STABLE */\n    })])]),\n\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_41, [_hoisted_42, _createVNode(_component_a_descriptions, {\n      column: $setup.customerModal.basicColumn,\n      data: $setup.customerModal.basicData,\n      \"value-style\": {\n        color: '#7B7B7B',\n        fonSize: '14px'\n      },\n      bordered: \"\"\n    }, null, 8 /* PROPS */, [\"column\", \"data\"])]), _createElementVNode(\"div\", null, [_hoisted_43, _createVNode(_component_a_descriptions, {\n      column: $setup.customerModal.staffColumn,\n      data: $setup.customerModal.staffData,\n      \"value-style\": {\n        color: '#7B7B7B',\n        fonSize: '14px'\n      },\n      bordered: \"\"\n    }, null, 8 /* PROPS */, [\"column\", \"data\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"]), _createVNode(_component_a_modal, {\n    visible: $setup.projectModal.visible,\n    \"onUpdate:visible\": _cache[9] || (_cache[9] = $event => $setup.projectModal.visible = $event),\n    width: \"784px\",\n    \"title-align\": \"start\"\n  }, {\n    title: _withCtx(() => [_hoisted_45]),\n    footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_51, [_createVNode(_component_a_button, {\n      type: \"primary\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"知道了\")]),\n      _: 1 /* STABLE */\n    })])]),\n\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_46, [_hoisted_47, _createVNode(_component_a_descriptions, {\n      column: $setup.projectModal.basicColumn,\n      data: $setup.projectModal.basicData,\n      \"value-style\": {\n        color: '#7B7B7B',\n        fonSize: '14px'\n      },\n      bordered: \"\"\n    }, null, 8 /* PROPS */, [\"column\", \"data\"])]), _createElementVNode(\"div\", _hoisted_48, [_hoisted_49, _createVNode(_component_a_descriptions, {\n      column: $setup.projectModal.staffColumn,\n      data: $setup.projectModal.staffData,\n      \"value-style\": {\n        color: '#7B7B7B',\n        fonSize: '14px'\n      },\n      bordered: \"\"\n    }, null, 8 /* PROPS */, [\"column\", \"data\"])]), _createElementVNode(\"div\", null, [_hoisted_50, _createVNode(_component_a_descriptions, {\n      column: $setup.projectModal.manageColumn,\n      data: $setup.projectModal.manageData,\n      \"value-style\": {\n        color: '#7B7B7B',\n        fonSize: '14px'\n      },\n      bordered: \"\"\n    }, null, 8 /* PROPS */, [\"column\", \"data\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","href","style","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_a_month_picker","$setup","disabledDate","onChange","_createVNode","_component_a_radio_group","type","size","disabled","_createElementBlock","_Fragment","level1","tabs","item","_createBlock","_component_a_radio","value","key","name","_component_a_space","_component_a_popconfirm","content","onOk","_component_a_button","loading","icon","_component_icon_download","default","_component_a_table","columns","data","bordered","defaultExpandedKeys","scroll","maxHeight","scrollbar","pagination","ref","onExpandedChange","lastDeptName","record","_component_a_popover","background","color","deptName","leafNode","onClick","_hoisted_6","columTitleSlot","column","_component_a_tooltip","title","_hoisted_7","empty","_component_a_empty","_hoisted_8","_hoisted_9","_hoisted_10","level2","length","_component_icon_user","_component_a_checkbox","findIndex","id","$event","_hoisted_12","_hoisted_13","_hoisted_14","wrap","_hoisted_15","_hoisted_16","colNo5","_hoisted_17","_hoisted_18","colNo8","_hoisted_19","_hoisted_20","colNo9","_hoisted_21","_hoisted_22","colNo1","_hoisted_23","_hoisted_24","colNo3","_hoisted_25","_hoisted_26","groupCustomerName","customerName","_hoisted_27","level3","_component_icon_export","position","_hoisted_28","_hoisted_30","_component_a_select","placeholder","_component_a_option","label","_hoisted_31","_hoisted_32","_component_icon_info_circle_fill","_component_a_spin","tip","seriesData","_component_a_modal","visible","width","_hoisted_33","footer","_hoisted_36","confirmBtnLoading","_hoisted_34","direction","roles","index","_hoisted_35","options","selectOptions","height","_component_icon_down","_hoisted_37","_hoisted_39","_hoisted_38","tableColumns","tableData","cell","_hoisted_40","_hoisted_44","_hoisted_41","_hoisted_42","_component_a_descriptions","basicColumn","basicData","fonSize","_hoisted_43","staffColumn","staffData","_hoisted_45","_hoisted_51","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","manageColumn","manageData"],"sourceRoot":"","sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/views/LeanAnalyze/drillAnalyze.vue"],"sourcesContent":["<template>\n  <div v-show=\"currentLevel === 'level1'\" class=\"defaultPadding\">\n    <div class=\"m-b-26 flex-between\">\n      <div class=\"flex m-r-24\">\n        <div class=\"m-r-24\">\n          月份：\n          <a-month-picker\n            v-model=\"dateNow\"\n            style=\"width: 120px; border-radius: 4px\"\n            :allow-clear=\"false\"\n            :disabledDate=\"disabledDateFn\"\n            @change=\"monthPickChange\"\n          />\n        </div>\n        <a-radio-group\n          type=\"button\"\n          size=\"large\"\n          v-model=\"level1CheckedValue\"\n          @change=\"radioCheckedChange\"\n          :disabled=\"level1RadioDisabled\"\n        >\n          <a-radio v-for=\"item of tableInfo.level1.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n        </a-radio-group>\n      </div>\n      <a-space>\n        <a-popconfirm content=\"确定导出全部吗?\" @ok=\"level1ExportAll\">\n          <a-button type=\"outline\" :loading=\"level1ExportAllLoading\" style=\"border-radius: 4px\">\n            <template #icon>\n              <icon-download />\n            </template>\n            <template #default>导出全部</template>\n          </a-button>\n        </a-popconfirm>\n        <a-popconfirm content=\"确定导出本页吗?\" @ok=\"level1ExportCurrentPage\">\n          <a-button type=\"primary\" :loading=\"level1ExportLoading\" style=\"border-radius: 4px\">\n            <template #icon>\n              <icon-download />\n            </template>\n            <template #default>导出本页</template>\n          </a-button>\n        </a-popconfirm>\n      </a-space>\n    </div>\n    <a-table\n      :row-class=\"rowClass\"\n      :columns=\"tableInfo.level1.columns[level1CheckedValue] || []\"\n      :data=\"tableInfo.level1.data\"\n      :bordered=\"false\"\n      column-resizable\n      :expanded-keys=\"tableInfo.level1.defaultExpandedKeys\"\n      :scroll=\"{ maxHeight: tableInfo.level1.maxHeight }\"\n      :scrollbar=\"false\"\n      :pagination=\"false\"\n      :loading=\"tableInfo.loading\"\n      ref=\"level1tableRef\"\n      @expanded-change=\"expandedChange\"\n    >\n      <template #lastDeptName=\"{ record }\">\n        <a-popover\n          v-if=\"currentLevel === 'level1'\"\n          :content-style=\"{ background: 'rgba(0,0,0,.8)', color: '#fff' }\"\n          :arrow-style=\"{ background: 'rgba(0,0,0,.8)' }\"\n        >\n          <a href=\"javaScript:void(0)\" v-if=\"record.leafNode === '1'\" style=\"color: #165dff\" @click=\"jump('level2', record)\">\n            {{ record.lastDeptName }}\n          </a>\n          <span class=\"pointer\" v-else>{{ record.lastDeptName }}</span>\n          <template #content>\n            {{ record.deptName }}\n          </template>\n        </a-popover>\n      </template>\n      <template #columTitleSlot=\"{ column }\">\n        <a-tooltip style=\"width: max-content\" :content=\"column.title\">\n          <a href=\"javaScript:void(0)\" style=\"color: #333\">{{ column.title }}</a>\n        </a-tooltip>\n      </template>\n      <template #empty>\n        <a-empty />\n      </template>\n    </a-table>\n  </div>\n  <div v-show=\"currentLevel === 'level2'\" class=\"defaultPadding\">\n    <div class=\"m-b-26 flex-between\">\n      <div class=\"m-r-24\">\n        <a-radio-group\n          type=\"button\"\n          size=\"large\"\n          v-model=\"level2CheckedValue\"\n          @change=\"level2RadioCheckedChange\"\n          :disabled=\"level2RadioDisabled\"\n        >\n          <a-radio v-for=\"item of tableInfo.level2.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n        </a-radio-group>\n      </div>\n      <div>\n        <a-button\n          type=\"outline\"\n          :disabled=\"level2CheckedArr.length === 0\"\n          style=\"border-radius: 4px\"\n          class=\"m-r-24\"\n          @click=\"level2SetRole\"\n        >\n          <template #icon>\n            <icon-user />\n          </template>\n          <template #default>设置角色</template>\n        </a-button>\n        <a-popconfirm content=\"确定导出本页吗?\" @ok=\"level2ExportAll\">\n          <a-button type=\"primary\" :loading=\"level2ExportLoading\" style=\"border-radius: 4px\">\n            <template #icon>\n              <icon-download />\n            </template>\n            <template #default>导出本页</template>\n          </a-button>\n        </a-popconfirm>\n      </div>\n    </div>\n    <a-table\n      :row-class=\"rowClass\"\n      :columns=\"tableInfo.level2.columns[level2CheckedValue] || []\"\n      :data=\"tableInfo.level2.data\"\n      :bordered=\"false\"\n      column-resizable\n      :expanded-keys=\"tableInfo.level2.defaultExpandedKeys\"\n      :scroll=\"{ maxHeight: tableInfo.level2.maxHeight }\"\n      :scrollbar=\"false\"\n      :pagination=\"false\"\n      :loading=\"tableInfo.loading\"\n      ref=\"level2tableRef\"\n      @expanded-change=\"expandedChange\"\n    >\n      <template #title=\"{ record }\">\n        <a-checkbox\n          class=\"m-r-8\"\n          style=\"vertical-align: middle\"\n          v-if=\"record.leafNode === '1'\"\n          :model-value=\"level2CheckedArr.length > 0 && level2CheckedArr.findIndex(item => item.id === record.id) !== -1\"\n          @change=\"level2CheckboxChange($event, record)\"\n        />\n        <a-popover\n          v-if=\"currentLevel === 'level2'\"\n          :content-style=\"{ background: 'rgba(0,0,0,.8)', color: '#fff' }\"\n          :arrow-style=\"{ background: 'rgba(0,0,0,.8)' }\"\n        >\n          <a href=\"javaScript:void(0)\" v-if=\"record.leafNode === '1'\" style=\"color: #165dff\" @click=\"jump('level3', record)\">\n            {{ record.title }}\n          </a>\n          <span class=\"pointer\" v-else>{{ record.title }}</span>\n          <template #content>\n            {{ record.title }}\n          </template>\n        </a-popover>\n      </template>\n      <template #empty>\n        <a-empty />\n      </template>\n    </a-table>\n  </div>\n  <div v-show=\"currentLevel === 'level3'\">\n    <div class=\"level3Header\">\n      <div class=\"w-perct-80\">\n        <a-space wrap :size=\"[20, 0]\">\n          <div class=\"item\">\n            <span>项目营业收入：</span>\n            {{ toInteger(level3HeaderData.colNo5, 0) }}\n          </div>\n          <div class=\"item\">\n            <span>项目销售毛利：</span>\n            {{ toInteger(level3HeaderData.colNo8, 0) }}\n          </div>\n          <div class=\"item\">\n            <span>项目销售毛利率：</span>\n            {{ number2percentage(level3HeaderData.colNo9, 2) }}\n          </div>\n          <div class=\"item\">\n            <span>项目C1总人数：</span>\n            {{ toInteger(level3HeaderData.colNo1, 0) }}\n          </div>\n          <div class=\"item\">\n            <span>项目人员利用率：</span>\n            {{ number2percentage(level3HeaderData.colNo3, 2) }}\n          </div>\n        </a-space>\n      </div>\n      <div>\n        <a-radio-group type=\"button\" size=\"large\" v-model:model-value=\"level3TabSelect\" @change=\"changeDataType\">\n          <a-radio value=\"list\">列表</a-radio>\n          <a-radio value=\"chart\">看图</a-radio>\n        </a-radio-group>\n      </div>\n    </div>\n    <div class=\"defaultPadding\" v-if=\"dataType == 'list'\">\n      <div class=\"m-b-20\">\n        集团/客户/项目 :\n        {{ level3HeaderData.groupCustomerName + \" / \" + level3HeaderData.customerName + \" / \" + level3HeaderData.title }}\n        <!-- <a href=\"javaScript:void(0)\" style=\"color: #165dff\">\n          {{ level3HeaderData.groupCustomerName }}\n        </a>\n        /\n        <a href=\"javaScript:void(0)\" style=\"color: #165dff\">\n          {{ level3HeaderData.customerName }}\n        </a>\n        /\n        <a href=\"javaScript:void(0)\" style=\"color: #165dff\">\n          {{ level3HeaderData.title }}\n        </a> -->\n      </div>\n      <div class=\"m-b-20 flex-between\">\n        <div>\n          <a-radio-group\n            type=\"button\"\n            size=\"large\"\n            v-model=\"level3CheckedValue\"\n            :disabled=\"level3RadioDisabled\"\n            @change=\"level3RadioCheckedChange\"\n          >\n            <a-radio v-for=\"item of tableInfo.level3.tabs\" :value=\"item.key\">{{ item.name }}</a-radio>\n          </a-radio-group>\n        </div>\n        <div>\n          <a-space>\n            <a-popconfirm content=\"确定导出本页吗?\" @ok=\"level3Export\">\n              <a-button type=\"primary\" class=\"m-l-14\" :loading=\"level3ExportLoading\">\n                <template #icon>\n                  <icon-export />\n                </template>\n                <template #default>导出本页</template>\n              </a-button>\n            </a-popconfirm>\n          </a-space>\n        </div>\n      </div>\n      <a-table\n        :row-class=\"rowClass\"\n        :columns=\"tableInfo.level3.columns[level3CheckedValue] || []\"\n        :data=\"tableInfo.level3.data\"\n        :bordered=\"false\"\n        column-resizable\n        :expanded-keys=\"tableInfo.level3.defaultExpandedKeys\"\n        :scroll=\"{ maxHeight: tableInfo.level3.maxHeight }\"\n        :scrollbar=\"false\"\n        :pagination=\"false\"\n        :loading=\"tableInfo.loading\"\n        ref=\"level3tableRef\"\n        @expanded-change=\"expandedChange\"\n      >\n        <template #position=\"{ record }\">\n          <a-popover\n            v-if=\"currentLevel === 'level3'\"\n            :content-style=\"{ background: 'rgba(0,0,0,.8)', color: '#fff' }\"\n            :arrow-style=\"{ background: 'rgba(0,0,0,.8)' }\"\n          >\n            <span class=\"pointer\">{{ record.position }}</span>\n            <template #content>\n              {{ record.position }}\n            </template>\n          </a-popover>\n        </template>\n        <template #empty>\n          <a-empty />\n        </template>\n      </a-table>\n    </div>\n    <div v-if=\"dataType == 'chart'\">\n      <a-space class=\"chartSelect\">\n        <span>颜色维度：</span>\n        <a-select v-model=\"type\" placeholder=\"请选择\" @change=\"changeType\" style=\"width: 120px\">\n          <a-option v-for=\"item in typeList\" :value=\"item.label\" :key=\"item.label\">{{ item.value }}</a-option>\n        </a-select>\n        <a-tooltip style=\"width: max-content\">\n          <template #content>\n            <div>选项说明:</div>\n            <div>1、出勤=月实际工时天数+法定节假日-实际发薪天数</div>\n          </template>\n          <icon-info-circle-fill size=\"20\" style=\"color: #a9aeb8\" />\n        </a-tooltip>\n      </a-space>\n      <a-spin :loading=\"spinLoading\" tip=\"正在加载...\" style=\"display: block\">\n        <scatterPlot :seriesData=\"data\" :color=\"color\" />\n      </a-spin>\n    </div>\n  </div>\n  <a-modal v-model:visible=\"setRoleModal.visible\" width=\"680px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">设置项目行为角色</span>\n    </template>\n    <div class=\"flex-center\">\n      <a-spin :loading=\"setRoleModal.loading\" tip=\"数据加载中。。。\">\n        <a-space direction=\"vertical\" :size=\"24\">\n          <div v-for=\"(item, index) of setRoleModal.roles\" :key=\"index\">\n            <span class=\"modal-label\">{{ item.label }}：</span>\n            <a-select\n              :options=\"setRoleModal.selectOptions\"\n              :style=\"{ width: '378px' }\"\n              placeholder=\"输入并选择项目经理角色\"\n              v-model:model-value=\"item.value\"\n              allow-search\n              :virtual-list-props=\"{ height: 200 }\"\n            >\n              <template #arrow-icon>\n                <icon-down />\n              </template>\n            </a-select>\n          </div>\n        </a-space>\n      </a-spin>\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"outline\" class=\"m-r-24\" :disabled=\"setRoleModal.loading\" @click=\"setRoleCancel\">取消</a-button>\n        <a-button type=\"primary\" :disabled=\"setRoleModal.loading\" :loading=\"setRoleModal.confirmBtnLoading\" @click=\"setRoleOk\">\n          确定\n        </a-button>\n      </div>\n    </template>\n  </a-modal>\n  <a-modal v-model:visible=\"blocInfoModal.visible\" width=\"760px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">详情-集团客户</span>\n    </template>\n    <div>\n      <div class=\"blocInfoModal-content-title\">集团客户名称：集团客户-三星</div>\n      <a-table\n        :columns=\"blocInfoModal.tableColumns\"\n        :data=\"blocInfoModal.tableData\"\n        :bordered=\"{ cell: true }\"\n        :pagination=\"false\"\n      ></a-table>\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"primary\" @click=\"blocInfoModalOk\">知道了</a-button>\n      </div>\n    </template>\n  </a-modal>\n  <a-modal v-model:visible=\"customerModal.visible\" width=\"784px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">详情-客户</span>\n    </template>\n    <div class=\"m-b-30\">\n      <div class=\"customerModal-content-title\">基本信息</div>\n      <a-descriptions\n        :column=\"customerModal.basicColumn\"\n        :data=\"customerModal.basicData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <div>\n      <div class=\"customerModal-content-title\">人员信息</div>\n      <a-descriptions\n        :column=\"customerModal.staffColumn\"\n        :data=\"customerModal.staffData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"primary\">知道了</a-button>\n      </div>\n    </template>\n  </a-modal>\n  <a-modal v-model:visible=\"projectModal.visible\" width=\"784px\" title-align=\"start\">\n    <template #title>\n      <span class=\"modal-title\">详情-项目</span>\n    </template>\n    <div class=\"m-b-30\">\n      <div class=\"customerModal-content-title\">基本信息</div>\n      <a-descriptions\n        :column=\"projectModal.basicColumn\"\n        :data=\"projectModal.basicData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <div class=\"m-b-30\">\n      <div class=\"customerModal-content-title\">人员信息</div>\n      <a-descriptions\n        :column=\"projectModal.staffColumn\"\n        :data=\"projectModal.staffData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <div>\n      <div class=\"customerModal-content-title\">经营信息</div>\n      <a-descriptions\n        :column=\"projectModal.manageColumn\"\n        :data=\"projectModal.manageData\"\n        :value-style=\"{ color: '#7B7B7B', fonSize: '14px' }\"\n        bordered\n      />\n    </div>\n    <template #footer>\n      <div class=\"text-center\">\n        <a-button type=\"primary\">知道了</a-button>\n      </div>\n    </template>\n  </a-modal>\n</template>\n\n<script setup>\nimport { onBeforeMount, reactive, ref, watchEffect, nextTick, toRaw, onUnmounted, markRaw } from \"vue\";\nimport { Message } from \"@arco-design/web-vue\";\nimport scatterPlot from \"@/components/scatterPlot.vue\";\nimport { useTagColumnListStore } from \"../../store/index\";\nimport {\n  queryCoreData,\n  queryDownDrillSecond,\n  queryDownDrillThird,\n  countWorkdaysByMonth,\n  queryScatterDiagram,\n  listByProjectNo,\n  queryLikeDept,\n  save,\n  empExportExcel,\n  bgExportExcel,\n  cuPoExportExcel,\n  downAllExcel,\n} from \"../../api/drillAnalyze\";\nimport { number2percentage, toInteger, dataAddKey, getCurrentDate, encrypt } from \"../../utils/util\";\nimport { getCurrentInstance } from \"@vue/runtime-core\";\nimport moment from \"moment\";\n\nlet $bus = getCurrentInstance().appContext.config.globalProperties.$bus;\n\n// 第三层tab\nconst level3TabSelect = ref(\"list\");\nlet level3HeaderContent = [];\n/************* 下钻分析列信息************** */\nlet tagColumnList = useTagColumnListStore();\nlet level3ProjectCode = \"\"; //下钻三层的项目编码\n\nlet level2Record = {}; //点击下钻时的数据\nlet level3Record = {};\nlet columConfig = {};\n// 颜色维度列表\nconst typeList = ref([\n  {\n    label: 1,\n    value: \"出勤\",\n  },\n  {\n    label: 2,\n    value: \"入职日期\",\n  },\n]);\n// 颜色维度\nconst type = ref(1);\n// 数据\nconst data = ref([]);\n// 颜色种类\nconst color = ref([]);\n// 看图 & 列表\nconst dataType = ref(\"list\");\n\n//禁止选择2022(含)年之前的月份\nconst disabledDateFn = current => {\n  return current.valueOf() < moment(\"2023-01-01 00:00:00\").valueOf();\n};\nconst level3HeaderData = ref({});\nconst columns = () => {\n  let tagColumns = toRaw(tagColumnList.getTagColumnList) || [];\n  let currentPageColumn = tagColumns.filter(item => item.report === \"下钻分析\") || [];\n  if (currentPageColumn.length) {\n    currentPageColumn[0].tier.forEach((item, index) => {\n      let tabs = [];\n      let currentPageColumn = {};\n      item.tags.forEach(jtem => {\n        tabs.push(jtem.tag);\n        let columnItem = [];\n        jtem.columns.forEach(ktem => {\n          let { col, conf, title } = ktem;\n          conf = conf || {};\n          let columnItemConfig = {\n            title,\n            dataIndex: col,\n            align: conf.align,\n            cellStyle: { \"text-align\": conf.cellAlign },\n            width: conf.width,\n            ellipsis: true,\n            headerCellClass: \"noEllipsis\",\n            slotName: col,\n            titleSlotName: \"columTitleSlot\",\n          };\n          if (conf.fixed !== undefined) {\n            columnItemConfig.fixed = conf.fixed;\n          }\n          if (conf.toFixed !== undefined) {\n            if (conf.showPercent) {\n              columnItemConfig.render = ({ record }) => {\n                return <span innerHTML={number2percentage(record[col], conf.toFixed, conf.isRed)}></span>;\n              };\n            } else {\n              columnItemConfig.render = ({ record }) => {\n                return <span innerHTML={toInteger(record[col], conf.toFixed, conf.isRed)}></span>;\n              };\n            }\n          }\n          columnItem.push(columnItemConfig);\n        });\n        currentPageColumn[jtem.tag.key] = columnItem;\n      });\n      columConfig[\"level\" + (index + 1)] = {\n        tabs,\n        params: item.params || [],\n        columns: currentPageColumn,\n      };\n    });\n  }\n  let { level1, level2, level3 } = columConfig;\n  level1CheckedValue.value = level1.tabs[0].key;\n  level2CheckedValue.value = level2.tabs[1].key;\n  level3CheckedValue.value = level3.tabs[1].key;\n  tableInfo.level1.tabs = level1.tabs;\n  tableInfo.level1.columns = level1.columns;\n  tableInfo.level2.tabs = level2.tabs;\n  tableInfo.level2.columns = level2.columns;\n  tableInfo.level3.tabs = level3.tabs;\n  tableInfo.level3.columns = level3.columns;\n};\n/************* 下钻分析列信息************** */\n\n/***************获取当前月份********************* */\nconst currentLevel = ref(\"level1\"); //level2,level3\nlet { year, month } = getCurrentDate();\nlet currentDate = `${year}-${month}`;\nconst dateNow = ref(currentDate);\n\n/***************获取当前月份********************* */\n\n/****************** 获取当月工作日天数************************** */\nconst currentMonthDay = ref(0);\nconst getCurrentMonthWorkday = () => {\n  const params = {\n    month: dateNow.value,\n  };\n  countWorkdaysByMonth(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        currentMonthDay.value = res.data;\n      }\n    })\n    .catch(() => {\n      Message.error(\"请求失败\");\n    });\n};\n\n/****************** 标签表格配置信息************************** */\nconst level1CheckedValue = ref(\"coreData\");\nconst level1RadioDisabled = ref(true);\nconst level2CheckedValue = ref(\"coreData2\");\nconst level2RadioDisabled = ref(true);\nconst level3CheckedValue = ref(\"empInfo\");\nconst level3RadioDisabled = ref(true);\n\nconst tableInfo = reactive({\n  loading: false,\n  level1: {\n    tabs: [],\n    columns: {},\n    data: [],\n    defaultExpandedKeys: [],\n    maxHeight: \"200px\",\n  },\n  level2: {\n    tabs: [],\n    columns: {},\n    data: [],\n    defaultExpandedKeys: [],\n    maxHeight: \"200px\",\n  },\n  level3: {\n    tabs: [],\n    columns: {},\n    data: [],\n    defaultExpandedKeys: [],\n    maxHeight: \"200px\",\n  },\n});\n/****************** 标签表格配置信息************************** */\n\n/***************** 计算表格自适应高度************************ */\nconst level1tableRef = ref(null);\nconst level2tableRef = ref(null);\nconst level3tableRef = ref(null);\n\n/***************** 计算表格自适应高度************************ */\n\n/******************* 月份改变重新请求数据**************************** */\nconst monthPickChange = value => {\n  dateNow.value = value;\n  getCurrentMonthWorkday();\n  level1Data(level1CheckedValue.value);\n};\n/******************* 月份改变重新请求数据**************************** */\nonBeforeMount(() => {\n  columns();\n  level1Data(level1CheckedValue.value);\n  getCurrentMonthWorkday();\n});\n\n/**************** 表格偶数层级指定背景色************************** */\nconst rowClass = record => {\n  if (record.raw.deptLevel % 2 === 0) {\n    return \"row-gray\";\n  }\n};\nconst level3RadioCheckedChange = val => {\n  level3Data(val);\n};\n/******************** 根据所选标签请求表格数据*************************** */\nconst level1Data = tagKey => {\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    month,\n    tagKey,\n  };\n  tableInfo.loading = true;\n  level1RadioDisabled.value = true;\n  console.log(dateNow.value,'dateNow.value');\n  console.log(params,'params');\n  queryCoreData(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        let data = dataAddKey(res.data, \"key\", \"id\");\n        let keys = [];\n        res.data.forEach(item => keys.push(item.id));\n        tableInfo.level1.defaultExpandedKeys = keys;\n        tableInfo.level1.data = data;\n        if (level1tableRef.value) {\n          let head = level1tableRef.value.$el;\n          let elHeight = head.getBoundingClientRect().top;\n          let innerHeight = window.innerHeight;\n          tableInfo.level1.maxHeight = innerHeight - elHeight + \"px\";\n          nextTick(() => {\n            let layoutContent = document.getElementById('a-layout-main')\n            if(layoutContent){\n              let diff = layoutContent.scrollHeight - layoutContent.offsetHeight\n              tableInfo.level1.maxHeight = parseInt(tableInfo.level1.maxHeight)-diff+'px'\n            }\n          });\n        }\n      } else {\n        tableInfo.level1.data = [];\n        Message.error(res.desc || \"请求数据失败\");\n      }\n    })\n    .catch(err => {\n      Message.error(err.message || \"请求数据失败\");\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n      level1RadioDisabled.value = false;\n    });\n};\nlet level2keys = [];\nfunction expandAllRows(arr) {\n  arr.forEach(item => {\n    level2keys.push(item.title);\n    if (item.children && item.children.length) {\n      expandAllRows(item.children);\n    }\n  });\n}\nconst level2Data = tagKey => {\n  tableInfo.loading = true;\n  level2RadioDisabled.value = true;\n  $bus.emit(\"goBackDisabled\", true);\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    deptId: level2Record.id,\n    month,\n    tagKey,\n  };\n  Array.isArray(columConfig.level1.params) &&\n    columConfig.level1.params.forEach(item => {\n      params[item] = encrypt(level2Record[item]);\n      if (level2Record[item] === undefined || level2Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  queryDownDrillSecond(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        let data = dataAddKey(res.data, \"key\", \"title\");\n        expandAllRows(res.data);\n        tableInfo.level2.defaultExpandedKeys = level2keys;\n        tableInfo.level2.data = data;\n        if (level2CheckedValue.value !== \"financeManage2\") {\n          level3HeaderContent = data;\n        }\n        if (level2tableRef.value) {\n          let head = level2tableRef.value.$el;\n          let innerHeight = window.innerHeight;\n          let elHeight = head.getBoundingClientRect().top;\n          tableInfo.level2.maxHeight = innerHeight - elHeight + \"px\";\n        }\n        nextTick(() => {\n          let layoutContent = document.getElementById('a-layout-main')\n          if(layoutContent){\n            let diff = layoutContent.scrollHeight - layoutContent.offsetHeight\n            tableInfo.level2.maxHeight = parseInt(tableInfo.level2.maxHeight)-diff+'px'\n          }\n        });\n      } else {\n        tableInfo.level2.data = [];\n        Message.error(res.desc || \"操作失败\");\n      }\n    })\n    .catch(err => {\n      Message.error(err.message || \"请求数据失败\");\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n      level2RadioDisabled.value = false;\n      $bus.emit(\"goBackDisabled\", false);\n    });\n};\nconst level3Data = tagKey => {\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    projectCode: level3ProjectCode,\n    deptId: level2Record.id,\n    month,\n    tagKey,\n  };\n  Array.isArray(columConfig.level2.params) &&\n    columConfig.level2.params.forEach(item => {\n      params[item] = encrypt(level3Record[item]);\n      if (level3Record[item] === undefined || level3Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  tableInfo.loading = true;\n  level3RadioDisabled.value = true;\n  $bus.emit(\"goBackDisabled\", true);\n  queryDownDrillThird(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        let data = dataAddKey(res.data, \"key\", \"id\");\n        let keys = [];\n        res.data.forEach(item => keys.push(item.id));\n        tableInfo.level3.defaultExpandedKeys = keys;\n        tableInfo.level3.data = data;\n        if (level3tableRef.value) {\n          let head = level3tableRef.value.$el;\n          let innerHeight = window.innerHeight;\n          let elHeight = head.getBoundingClientRect().top;\n          tableInfo.level3.maxHeight = innerHeight - elHeight + \"px\";\n        }\n        nextTick(() => {\n          let layoutContent = document.getElementById('a-layout-main')\n          if(layoutContent){\n            let diff = layoutContent.scrollHeight - layoutContent.offsetHeight\n            tableInfo.level3.maxHeight = parseInt(tableInfo.level3.maxHeight)-diff+'px'\n          }\n        });\n      } else {\n        tableInfo.level3.data = [];\n        Message.error(res.desc || \"请求数据失败\");\n      }\n    })\n    .catch(err => {\n      Message.error(err.message || \"请求数据失败\");\n    })\n    .finally(() => {\n      tableInfo.loading = false;\n      level3RadioDisabled.value = false;\n      $bus.emit(\"goBackDisabled\", false);\n    });\n  getList(type.value);\n};\n/******************** 根据所选标签请求表格数据*************************** */\n\n/***************** 标签点击切换请求数据************************** */\nconst radioCheckedChange = val => {\n  level1Data(val);\n};\n\nconst level2RadioCheckedChange = val => {\n  level2Data(val);\n};\n/***************** 标签点击切换请求数据************************** */\nwatchEffect(() => {\n  $bus.emit(\"updateStructure\", [\n    { type: \"text\", color: \"#333\", msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)` },\n  ]);\n});\n\n/**************** 监听点击返回上一层***************************** */\n$bus.on(\"goBack\", val => {\n  currentLevel.value = val;\n  switch (val) {\n    case \"level1\":\n      let breadList1 = [\n        { type: \"text\", color: \"#333\", msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)` },\n      ];\n      $bus.emit(\"updateStructure\", breadList1);\n      //level1Data(level1CheckedValue.value)\n      break;\n    case \"level2\":\n      let breadList2 = [\n        {\n          type: \"button\",\n          color: \"#5370FD\",\n          msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)`,\n          params: \"level1\",\n        },\n        {\n          type: \"text\",\n          color: \"#333\",\n          msg: level2Record.deptName,\n        },\n      ];\n      $bus.emit(\"updateStructure\", breadList2);\n      break;\n    default:\n      break;\n  }\n});\nonUnmounted(() => {\n  $bus.off(\"goBack\");\n});\n/**************** 监听点击返回上一层***************************** */\n\n/***********************点击跳转下钻层级********************************** */\nconst jump = (val, record) => {\n  currentLevel.value = val;\n  if (val === \"level2\") {\n    level2Record = record;\n    level2Data(level2CheckedValue.value);\n    let breadList = [\n      {\n        type: \"button\",\n        color: \"#5370FD\",\n        msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)`,\n        params: \"level1\",\n      },\n      {\n        type: \"text\",\n        color: \"#333\",\n        msg: level2Record.deptName,\n      },\n    ];\n    $bus.emit(\"updateStructure\", breadList);\n    level2CheckedArr.value = [];\n  }\n  if (val === \"level3\") {\n    level3ProjectCode = record.projectNo;\n    level3Record = record;\n    let { groupCustomerName, customerName, title } = record;\n    let level3HeaderDataArr1 = level3HeaderContent.filter(item => item.title === groupCustomerName);\n    let level3HeaderDataArr2 =\n      level3HeaderDataArr1 && level3HeaderDataArr1[0]?.children.filter(item => item.title === customerName);\n    let level3HeaderDataArr3 = level3HeaderDataArr2 && level3HeaderDataArr2[0]?.children.filter(item => item.title === title);\n    level3HeaderData.value = (level3HeaderDataArr3 && level3HeaderDataArr3[0]) || {};\n    level3Data(level3CheckedValue.value);\n    let breadList = [\n      {\n        type: \"button\",\n        color: \"#5370FD\",\n        msg: `${moment(dateNow.value).format(\"YYYY年MM月\")} (${currentMonthDay.value}天)`,\n        params: \"level1\",\n      },\n      {\n        type: \"button\",\n        color: \"#5370FD\",\n        msg: level2Record.deptName,\n        params: \"level2\",\n      },\n      {\n        type: \"text\",\n        color: \"#333\",\n        msg: `项目： ${record.title}`,\n      },\n    ];\n    $bus.emit(\"updateStructure\", breadList);\n  }\n};\n/***********************点击跳转下钻层级********************************** */\n\n/*************************表格树结构展开切换******************************************** */\nconst expandedChange = rowKeys => {\n  tableInfo[currentLevel.value].defaultExpandedKeys = rowKeys;\n};\n/*************************表格树结构展开切换******************************************** */\nconst spinLoading = ref(false);\n// 获取散点图数据\nconst getList = value => {\n  spinLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    projectCode: level3ProjectCode,\n    deptId: level2Record.id,\n    month,\n    tagKey: level3CheckedValue.value,\n    type: value,\n  };\n  Array.isArray(columConfig.level2.params) &&\n    columConfig.level2.params.forEach(item => {\n      params[item] = encrypt(level3Record[item]);\n      if (level3Record[item] === undefined || level3Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  // 接口数据\n  queryScatterDiagram(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        data.value = res.data;\n        // 每个点的样式\n        var itemStyle = {\n          //设置圆形的样式\n          shadowBlur: 10,\n          shadowColor: \"rgba(120, 36, 50, 0.5)\",\n          shadowOffsetY: 5,\n        };\n        data.value.forEach(item => {\n          item.type = \"scatter\";\n          item.itemStyle = itemStyle;\n          item.symbolSize = 15;\n        });\n      }\n      if (value === 1) {\n        color.value = [\"#503e6a\", \"#fec42c\", \"#f96f0d\", \"#dd4444\"];\n      } else {\n        color.value = [\"#f6d91d\", \"#fec42c\", \"#fb954d\", \"#f6682c\", \"#f81313\", \"#7d1d07\"];\n      }\n    })\n    .catch(e => {\n      Message.error(e.message || \"数据请求失败\");\n    })\n    .finally(() => {\n      spinLoading.value = false;\n    });\n};\n// 更改颜色维度\nconst changeType = value => {\n  type.value = value;\n  getList(value);\n};\n//更改看图 列表\nconst changeDataType = value => {\n  dataType.value = value;\n};\n\n/**************** 设置角色******************** */\nconst level2CheckedArr = ref([]);\nconst level2CheckboxChange = (bool, record) => {\n  let index = level2CheckedArr.value.findIndex(item => item.id === record.id);\n  if (bool) {\n    if (level2CheckedArr.value.length > 0) {\n      if (index === -1) {\n        level2CheckedArr.value.push(toRaw(record));\n      }\n    } else {\n      level2CheckedArr.value.push(toRaw(record));\n    }\n  } else {\n    if (level2CheckedArr.value.length > 0) {\n      if (index !== -1) {\n        level2CheckedArr.value.splice(index, 1);\n      }\n    }\n  }\n};\nconst setRoleModal = reactive({\n  visible: false,\n  selectOptions: [],\n  loading: false,\n  roles: [\n    {\n      label: \"项目经理角色\",\n      value: undefined,\n    },\n    {\n      label: \"收入上报角色\",\n      value: undefined,\n    },\n    {\n      label: \"薪资异动上报角色\",\n      value: undefined,\n    },\n    {\n      label: \"考勤上报角色\",\n      value: undefined,\n    },\n  ],\n  confirmBtnLoading: false,\n});\nconst level2SetRole = async () => {\n  setRoleModal.visible = true;\n  let roleStaffInfoList = [];\n  let echoList = [];\n  setRoleModal.roles.forEach(item => {\n    item.value = undefined;\n  });\n  try {\n    let params1 = {\n      projectNo: level2CheckedArr.value.map(item => item.projectNo).toString(),\n    };\n    let roleStaffInfoResult = await listByProjectNo(params1);\n    if (roleStaffInfoResult.code === \"200\") {\n      roleStaffInfoList = roleStaffInfoResult.data;\n    }\n  } catch (error) {\n    Message.error(\"请求数据失败\");\n  }\n  try {\n    setRoleModal.loading = true;\n    let params = {\n      deptName: level2Record.deptName,\n    };\n    let res2 = await queryLikeDept(params);\n    if (res2.code === \"200\") {\n      setRoleModal.selectOptions =\n        (Array.isArray(res2.data) &&\n          markRaw(\n            res2.data.map(item => {\n              roleStaffInfoList.forEach(jtem => {\n                if (item.id === jtem.empId) {\n                  echoList.push({\n                    ...item,\n                    roleId: jtem.roleId,\n                  });\n                }\n              });\n              return {\n                value: JSON.stringify(item),\n                label: `${item.empName} ( ${item.empCode},  ${item.deptName} )`,\n              };\n            }),\n          )) ||\n        [];\n    }\n  } catch (error) {\n    Message.error(\"请求数据失败\");\n  }\n  if (level2CheckedArr.value.length > 1) {\n    setRoleModal.loading = false;\n    return;\n  }\n  if (echoList.length) {\n    setRoleModal.roles.forEach(item => {\n      let index = echoList.findIndex(jtem => jtem.roleId === item.label);\n      if (index !== -1) {\n        delete echoList[index].roleId;\n        item.value = JSON.stringify(echoList[index]);\n      }\n    });\n  } else {\n    setRoleModal.roles.forEach(item => {\n      item.value = undefined;\n    });\n  }\n  setRoleModal.loading = false;\n};\nconst setRoleCancel = () => {\n  setRoleModal.roles.forEach(item => {\n    item.value = undefined;\n  });\n  setRoleModal.visible = false;\n};\nconst setRoleOk = () => {\n  let emptyArr = [];\n  setRoleModal.roles.forEach(item => {\n    if (item.value === undefined || item.value === \"\") {\n      emptyArr.push(\" \");\n    }\n  });\n  if (emptyArr.length === setRoleModal.roles.length) return Message.error(\"至少选择一条\");\n  setRoleModal.confirmBtnLoading = true;\n  let selsected = [];\n  setRoleModal.roles.forEach(item => {\n    if (item.value !== undefined) {\n      try {\n        let value = JSON.parse(item.value);\n        selsected.push({\n          dept: value.deptName || \"\",\n          empId: value.id || \"\",\n          empNo: value.empCode || \"\",\n          empName: value.empName || \"\",\n          roleId: item.label,\n        });\n      } catch (error) {\n        throw Error(error);\n      }\n    }\n  });\n  let params = {\n    projectNos: level2CheckedArr.value.map(item => item.projectNo),\n    info: selsected,\n  };\n  save(params)\n    .then(res => {\n      if (res.code === \"200\") {\n        Message.success(res.desc || \"新建角色成功\");\n        level2CheckedArr.value = [];\n      } else {\n        Message.error(res.message || \"请求失败\");\n      }\n    })\n    .catch(() => {\n      Message.error(\"请求失败\");\n    })\n    .finally(() => {\n      setRoleModal.confirmBtnLoading = false;\n      setRoleModal.visible = false;\n    });\n};\n/**************** 设置角色******************** */\n/************************ level1导出********************************** */\nconst level1ExportLoading = ref(false);\nconst level1ExportCurrentPage = () => {\n  level1ExportLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    month,\n  };\n  bgExportExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileReader = new FileReader();\n      fileReader.readAsText(res, \"utf-8\");\n      fileReader.onerror = function () {\n        Message.error(\"导出文件失败\");\n        return;\n      };\n      const fileName = `下钻分析_部门级别_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level1ExportLoading.value = false;\n    });\n};\n/************************ level1导出********************************** */\n\n/************************ level1导出全部********************************** */\nconst level1ExportAllLoading = ref(false);\nconst level1ExportAll = () => {\n  level1ExportAllLoading.value = true;\n  Message.loading(\"下载时间较长，请耐心等待\");\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    month,\n  };\n  downAllExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileName = `下钻分析_全部_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level1ExportAllLoading.value = false;\n    });\n};\n\n/************************ level1导出全部********************************** */\n\n/************************ level2导出********************************** */\nconst level2ExportLoading = ref(false);\nconst level2ExportAll = () => {\n  level2ExportLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    deptId: level2Record.id,\n    month,\n    deptName: level2Record.deptName,\n    tagKey: level2CheckedValue.value,\n  };\n  Array.isArray(columConfig.level1.params) &&\n    columConfig.level1.params.forEach(item => {\n      params[item] = encrypt(level2Record[item]);\n      if (level2Record[item] === undefined || level2Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  cuPoExportExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileName = `下钻分析_客户项目级别_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level2ExportLoading.value = false;\n    });\n};\n\n/************************ level2导出********************************** */\n\n/**************** levle3导出本页****************** */\nconst level3ExportLoading = ref(false);\nconst level3Export = () => {\n  level3ExportLoading.value = true;\n  let mon = dateNow.value + \"\";\n  let month = mon.replaceAll(\"-\", \"\");\n  let params = {\n    projectCode: level3ProjectCode,\n    deptId: level2Record.id,\n    month,\n    tagKey: level3CheckedValue.value,\n    deptName: level2Record.deptName,\n    groupCustomer: level3HeaderData.value.groupCustomerName + \"\",\n    customer: level3HeaderData.value.customerName + \"\",\n    projectName: level3HeaderData.value.title + \"\",\n  };\n  Array.isArray(columConfig.level2.params) &&\n    columConfig.level2.params.forEach(item => {\n      params[item] = encrypt(level3Record[item]);\n      if (level3Record[item] === undefined || level3Record[item] === null) {\n        params[item] = encrypt(0);\n      }\n    });\n  empExportExcel(params)\n    .then(res => {\n      const blob = new Blob([res]);\n      const fileName = `下钻分析_人员级别_${month}.xlsx`;\n      const link = document.createElement(\"a\");\n      link.download = fileName;\n      link.style.display = \"none\";\n      link.href = URL.createObjectURL(blob);\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href);\n      document.body.removeChild(link);\n    })\n    .catch(() => {\n      Message.error(\"导出失败\");\n    })\n    .finally(() => {\n      level3ExportLoading.value = false;\n    });\n};\n/**************** levle3导出本页****************** */\n\n/****************** 集团/客户/项目详情***************************** */\nconst blocInfoModal = reactive({\n  visible: false,\n  tableColumns: [\n    {\n      title: \"客户名称\",\n      dataIndex: \"customerName\",\n      width: 294,\n      headerCellStyle: { background: \"#F7F8FF\", color: \"#78797B\" },\n      cellStyle: { color: \"#7B7B7B\" },\n    },\n    {\n      title: \"行业\",\n      dataIndex: \"industry\",\n      width: 82,\n      headerCellStyle: { background: \"#F7F8FF\", color: \"#78797B\" },\n      cellStyle: { color: \"#7B7B7B\" },\n    },\n    {\n      title: \"地址\",\n      dataIndex: \"adress\",\n      width: 330,\n      headerCellStyle: { background: \"#F7F8FF\", color: \"#78797B\" },\n      cellStyle: { color: \"#7B7B7B\" },\n    },\n  ],\n  tableData: [\n    {\n      customerName: \"三星半导体(中国)研究开发有限公司北京分公司\",\n      industry: \"通信\",\n      adress: \"北京市朝阳区北京市朝阳区太阳宫中路冠捷大厦8层\",\n      key: 1,\n    },\n  ],\n});\nconst blocInfoModalOk = () => {\n  blocInfoModal.visible = false;\n};\nconst customerModal = reactive({\n  visible: false,\n  basicColumn: 2,\n  basicData: [\n    {\n      label: \"客户名称\",\n      value: \"广州三星通信技术研究有限公司\",\n    },\n    {\n      label: \"集团客户名称\",\n      value: \"集团客户-三星\",\n    },\n    {\n      label: \"行业\",\n      value: \"信息技术\",\n    },\n    {\n      label: \"开始合作时间\",\n      value: \"2022-22-01\",\n    },\n    {\n      label: \"区域\",\n      value: \"大中华区\",\n    },\n    {\n      label: \"地址\",\n      value: \"广东省广州市黄埔区黄埔区科学城科学大道185号\",\n    },\n  ],\n  staffColumn: 2,\n  staffData: [\n    {\n      label: \"销售人员\",\n      value: \"鲍雪欣\",\n    },\n    {\n      label: \"销售人员部门\",\n      value: \"BG2-STA-ERIREG_S\",\n    },\n  ],\n});\n\nconst projectModal = reactive({\n  visible: false,\n  basicColumn: 2,\n  basicData: [\n    {\n      label: \"客户名称\",\n      value: \"广州三星通信技术研究有限公司\",\n    },\n    {\n      label: \"集团客户名称\",\n      value: \"集团客户-三星\",\n    },\n    {\n      label: \"行业\",\n      value: \"信息技术\",\n    },\n    {\n      label: \"开始合作时间\",\n      value: \"2022-22-01\",\n    },\n    {\n      label: \"区域\",\n      value: \"大中华区\",\n    },\n    {\n      label: \"地址\",\n      value: \"广东省广州市黄埔区黄埔区科学城科学大道185号\",\n    },\n  ],\n  staffColumn: 2,\n  staffData: [\n    {\n      label: \"所属部门\",\n      value: \"BG1-MSD\",\n    },\n    {\n      label: \"部门负责人\",\n      value: \"金迪\",\n    },\n  ],\n  manageColumn: 2,\n  manageData: [\n    {\n      label: \"税率\",\n      value: \" 6%\",\n    },\n    {\n      label: \"预估毛利率\",\n      value: \"50\",\n    },\n    {\n      label: \"结算周期(天)\",\n      value: \" 90\",\n    },\n    {\n      label: \"回款周期(天)\",\n      value: \"90\",\n    },\n  ],\n});\n/****************** 集团/客户/项目详情***************************** */\n</script>\n\n<style lang=\"scss\">\n.m-t-10 {\n  margin-top: 10px;\n}\n.m-b-10 {\n  margin-bottom: 10px;\n}\n.row-gray .arco-table-td {\n  background-color: #f8f8f8;\n}\n.level3Header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 30px;\n  border-bottom: 10px solid #f0f2f5;\n  .w-perct-80 {\n    width: 80%;\n    .item {\n      color: #1e1e1e;\n      span {\n        color: #87909d;\n      }\n    }\n  }\n}\n.arco-table-hover:not(.arco-table-dragging)\n  .arco-table-tr:not(.arco-table-tr-empty):not(.arco-table-tr-summary):hover\n  .arco-table-td.arco-table-col-fixed-left::before,\n.arco-table-hover .arco-table-tr-drag .arco-table-td.arco-table-col-fixed-left::before,\n.arco-table-hover:not(.arco-table-dragging)\n  .arco-table-tr:not(.arco-table-tr-empty):not(.arco-table-tr-summary):hover\n  .arco-table-td.arco-table-col-fixed-right::before,\n.arco-table-hover .arco-table-tr-drag .arco-table-td.arco-table-col-fixed-right::before {\n  background-color: #f1faff;\n}\n.arco-table-hover:not(.arco-table-dragging)\n  .arco-table-tr:not(.arco-table-tr-empty):not(.arco-table-tr-summary):hover\n  .arco-table-td:not(.arco-table-col-fixed-left):not(.arco-table-col-fixed-right),\n.arco-table-hover .arco-table-tr-drag .arco-table-td:not(.arco-table-col-fixed-left):not(.arco-table-col-fixed-right) {\n  background-color: #f1faff;\n}\n.modal-label {\n  display: inline-block;\n  width: 142px;\n  text-align: right;\n  padding-right: 15px;\n  box-sizing: border-box;\n}\n.text-center {\n  text-align: center;\n}\n.modal-title {\n  color: #5a5a5a;\n  font-size: 14px;\n  font-weight: bold;\n}\n.blocInfoModal-content-title {\n  color: #7b7b7b;\n  font-size: 14px;\n  margin-bottom: 22px;\n}\n.customerModal-content-title {\n  color: \"#333333\";\n  font-size: 14px;\n  margin-bottom: 14px;\n}\n.chartSelect {\n  float: right;\n  margin: 60px 30px 0 0;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}