{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar opt = Object.prototype.toString;\nfunction isArray(obj) {\n  return opt.call(obj) === '[object Array]';\n}\nfunction isObject(obj) {\n  return opt.call(obj) === '[object Object]';\n}\nfunction isString(obj) {\n  return opt.call(obj) === '[object String]';\n}\nfunction isNumber(obj) {\n  return opt.call(obj) === '[object Number]' && obj === obj; // eslint-disable-line\n}\n\nfunction isBoolean(obj) {\n  return opt.call(obj) === '[object Boolean]';\n}\nfunction isFunction(obj) {\n  return opt.call(obj) === '[object Function]';\n}\nfunction isEmptyObject(obj) {\n  return isObject(obj) && Object.keys(obj).length === 0;\n}\nfunction isEmptyValue(obj) {\n  return obj === undefined || obj === null || obj === '';\n}\nfunction isEmptyArray(obj) {\n  return isArray(obj) && !obj.length;\n}\nvar isEqual = function (obj, other) {\n  if (typeof obj !== 'object' || typeof other !== 'object') {\n    return obj === other;\n  }\n  if (isFunction(obj) && isFunction(other)) {\n    return obj === other || obj.toString() === other.toString();\n  }\n  if (Object.keys(obj).length !== Object.keys(other).length) {\n    return false;\n  }\n  for (var key in obj) {\n    var result = isEqual(obj[key], other[key]);\n    if (!result) {\n      return false;\n    }\n  }\n  return true;\n};\nvar mergeTemplate = function (defaultValidateMessages, validateMessages) {\n  var result = {};\n  Object.keys(defaultValidateMessages).forEach(function (key) {\n    var defaultValue = defaultValidateMessages[key];\n    var propsValue = validateMessages && validateMessages[key];\n    result[key] = isObject(defaultValue) ? Object.assign(Object.assign({}, defaultValue), propsValue) : propsValue || defaultValue;\n  });\n  return result;\n};\nvar getTemplate = function (validateMessages, keyPath) {\n  var keys = keyPath.split('.');\n  var result = validateMessages;\n  for (var i = 0; i < keys.length; i++) {\n    result = result && result[keys[i]];\n    if (result === undefined) {\n      return result;\n    }\n  }\n  return result;\n};\nvar defaultTypeTemplate = '#{field} is not a #{type} type';\nvar validateMessages = {\n  required: '#{field} is required',\n  type: {\n    ip: defaultTypeTemplate,\n    email: defaultTypeTemplate,\n    url: defaultTypeTemplate,\n    string: defaultTypeTemplate,\n    number: defaultTypeTemplate,\n    array: defaultTypeTemplate,\n    object: defaultTypeTemplate,\n    boolean: defaultTypeTemplate\n  },\n  number: {\n    min: '`#{value}` is not greater than `#{min}`',\n    max: '`#{value}` is not less than `#{max}`',\n    equal: '`#{value}` is not equal to `#{equal}`',\n    range: '`#{value}` is not in range `#{min} ~ #{max}`',\n    positive: '`#{value}` is not a positive number',\n    negative: '`#{value}` is not a negative number'\n  },\n  string: {\n    maxLength: '#{field} cannot be longer than #{maxLength} characters',\n    minLength: '#{field} must be at least #{minLength} characters',\n    length: '#{field} must be exactly #{length} characters',\n    match: '`#{value}` does not match pattern #{pattern}',\n    uppercase: '`#{value}` must be all uppercase',\n    lowercase: '`#{value}` must be all lowercased'\n  },\n  array: {\n    length: '#{field} must be exactly #{length} in length',\n    minLength: '#{field} cannot be less than #{minLength} in length',\n    maxLength: '#{field} cannot be greater than #{maxLength} in length',\n    includes: '#{field} is not includes #{includes}',\n    deepEqual: '#{field} is not deep equal with #{deepEqual}',\n    empty: '#{field} is not an empty array'\n  },\n  object: {\n    deepEqual: '#{field} is not deep equal to expected value',\n    hasKeys: '#{field} does not contain required fields',\n    empty: '`#{field} is not an empty object'\n  },\n  boolean: {\n    true: 'Expect true but got `#{value}`',\n    false: 'Expect false but got `#{value}`'\n  }\n};\n\n/**\n * @param options.trim trim string value\n * @param options.ignoreEmptyString used form type\n * @param options.message\n * @param options.type\n */\nvar Base = function Base(obj, options) {\n  var this$1 = this;\n  this.getValidateMsg = function (keyPath, info) {\n    if (info === void 0) info = {};\n    var data = Object.assign(Object.assign({}, info), {\n      value: this$1.obj,\n      field: this$1.field,\n      type: this$1.type\n    });\n    var template = getTemplate(this$1.validateMessages, keyPath);\n    if (isFunction(template)) {\n      return template(data);\n    }\n    if (isString(template)) {\n      return template.replace(/\\#\\{.+?\\}/g, function (variable) {\n        var key = variable.slice(2, -1);\n        if (key in data) {\n          if (isObject(data[key]) || isArray(data[key])) {\n            try {\n              return JSON.stringify(data[key]);\n            } catch (_) {\n              return data[key];\n            }\n          }\n          return String(data[key]);\n        }\n        return variable;\n      });\n    }\n    return template;\n  };\n  if (isObject(options) && isString(obj) && options.trim) {\n    this.obj = obj.trim();\n  } else if (isObject(options) && options.ignoreEmptyString && obj === '') {\n    this.obj = undefined;\n  } else {\n    this.obj = obj;\n  }\n  this.message = options.message;\n  this.type = options.type;\n  this.error = null;\n  this.field = options.field || options.type;\n  this.validateMessages = mergeTemplate(validateMessages, options.validateMessages);\n};\nvar prototypeAccessors = {\n  not: {\n    configurable: true\n  },\n  isRequired: {\n    configurable: true\n  },\n  end: {\n    configurable: true\n  }\n};\nprototypeAccessors.not.get = function () {\n  this._not = !this._not;\n  return this;\n};\nprototypeAccessors.isRequired.get = function () {\n  if (isEmptyValue(this.obj) || isEmptyArray(this.obj)) {\n    this.error = {\n      value: this.obj,\n      type: this.type,\n      requiredError: true,\n      message: this.message || \"\" + (this._not ? '[NOT MODE]:' : '') + this.getValidateMsg('required')\n    };\n  }\n  return this;\n};\nprototypeAccessors.end.get = function () {\n  return this.error;\n};\nBase.prototype.addError = function addError(message) {\n  if (!this.error && message) {\n    this.error = {\n      value: this.obj,\n      type: this.type,\n      message: this.message || (isObject(message) ? message : \"\" + (this._not ? '[NOT MODE]:' : '') + message)\n    };\n  }\n};\nBase.prototype.validate = function validate(expression, errorMessage) {\n  var _expression = this._not ? expression : !expression;\n  if (_expression) {\n    this.addError(errorMessage);\n  }\n  return this;\n};\nBase.prototype.collect = function collect(callback) {\n  callback && callback(this.error);\n};\nObject.defineProperties(Base.prototype, prototypeAccessors);\nvar StringValidator = /*@__PURE__*/function (Base) {\n  function StringValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'string'\n    }));\n    this.validate(options && options.strict ? isString(this.obj) : true, this.getValidateMsg('type.string'));\n  }\n  if (Base) StringValidator.__proto__ = Base;\n  StringValidator.prototype = Object.create(Base && Base.prototype);\n  StringValidator.prototype.constructor = StringValidator;\n  var prototypeAccessors = {\n    uppercase: {\n      configurable: true\n    },\n    lowercase: {\n      configurable: true\n    }\n  };\n  StringValidator.prototype.maxLength = function maxLength(length) {\n    return this.obj ? this.validate(this.obj.length <= length, this.getValidateMsg('string.maxLength', {\n      maxLength: length\n    })) : this;\n  };\n  StringValidator.prototype.minLength = function minLength(length) {\n    return this.obj ? this.validate(this.obj.length >= length, this.getValidateMsg('string.minLength', {\n      minLength: length\n    })) : this;\n  };\n  StringValidator.prototype.length = function length(length$1) {\n    return this.obj ? this.validate(this.obj.length === length$1, this.getValidateMsg('string.length', {\n      length: length$1\n    })) : this;\n  };\n  StringValidator.prototype.match = function match(pattern) {\n    var isRegex = pattern instanceof RegExp;\n    if (isRegex) {\n      pattern.lastIndex = 0;\n    }\n    return this.validate(this.obj === undefined || isRegex && pattern.test(this.obj), this.getValidateMsg('string.match', {\n      pattern: pattern\n    }));\n  };\n  prototypeAccessors.uppercase.get = function () {\n    return this.obj ? this.validate(this.obj.toUpperCase() === this.obj, this.getValidateMsg('string.uppercase')) : this;\n  };\n  prototypeAccessors.lowercase.get = function () {\n    return this.obj ? this.validate(this.obj.toLowerCase() === this.obj, this.getValidateMsg('string.lowercase')) : this;\n  };\n  Object.defineProperties(StringValidator.prototype, prototypeAccessors);\n  return StringValidator;\n}(Base);\nvar NumberValidator = /*@__PURE__*/function (Base) {\n  function NumberValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'number'\n    }));\n    this.validate(options && options.strict ? isNumber(this.obj) : true, this.getValidateMsg('type.number'));\n  }\n  if (Base) NumberValidator.__proto__ = Base;\n  NumberValidator.prototype = Object.create(Base && Base.prototype);\n  NumberValidator.prototype.constructor = NumberValidator;\n  var prototypeAccessors = {\n    positive: {\n      configurable: true\n    },\n    negative: {\n      configurable: true\n    }\n  };\n  NumberValidator.prototype.min = function min(num) {\n    return !isEmptyValue(this.obj) ? this.validate(this.obj >= num, this.getValidateMsg('number.min', {\n      min: num\n    })) : this;\n  };\n  NumberValidator.prototype.max = function max(num) {\n    return !isEmptyValue(this.obj) ? this.validate(this.obj <= num, this.getValidateMsg('number.max', {\n      max: num\n    })) : this;\n  };\n  NumberValidator.prototype.equal = function equal(num) {\n    return !isEmptyValue(this.obj) ? this.validate(this.obj === num, this.getValidateMsg('number.equal', {\n      equal: num\n    })) : this;\n  };\n  NumberValidator.prototype.range = function range(min, max) {\n    return !isEmptyValue(this.obj) ? this.validate(this.obj >= min && this.obj <= max, this.getValidateMsg('number.range', {\n      min: min,\n      max: max\n    })) : this;\n  };\n  prototypeAccessors.positive.get = function () {\n    return !isEmptyValue(this.obj) ? this.validate(this.obj > 0, this.getValidateMsg('number.positive')) : this;\n  };\n  prototypeAccessors.negative.get = function () {\n    return !isEmptyValue(this.obj) ? this.validate(this.obj < 0, this.getValidateMsg('number.negative')) : this;\n  };\n  Object.defineProperties(NumberValidator.prototype, prototypeAccessors);\n  return NumberValidator;\n}(Base);\nvar ArrayValidator = /*@__PURE__*/function (Base) {\n  function ArrayValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'array'\n    }));\n    this.validate(options && options.strict ? isArray(this.obj) : true, this.getValidateMsg('type.array', {\n      value: this.obj,\n      type: this.type\n    }));\n  }\n  if (Base) ArrayValidator.__proto__ = Base;\n  ArrayValidator.prototype = Object.create(Base && Base.prototype);\n  ArrayValidator.prototype.constructor = ArrayValidator;\n  var prototypeAccessors = {\n    empty: {\n      configurable: true\n    }\n  };\n  ArrayValidator.prototype.length = function length(num) {\n    return this.obj ? this.validate(this.obj.length === num, this.getValidateMsg('array.length', {\n      value: this.obj,\n      length: num\n    })) : this;\n  };\n  ArrayValidator.prototype.minLength = function minLength(num) {\n    return this.obj ? this.validate(this.obj.length >= num, this.getValidateMsg('array.minLength', {\n      value: this.obj,\n      minLength: num\n    })) : this;\n  };\n  ArrayValidator.prototype.maxLength = function maxLength(num) {\n    return this.obj ? this.validate(this.obj.length <= num, this.getValidateMsg('array.maxLength', {\n      value: this.obj,\n      maxLength: num\n    })) : this;\n  };\n  ArrayValidator.prototype.includes = function includes(arrays) {\n    var this$1 = this;\n    return this.obj ? this.validate(arrays.every(function (el) {\n      return this$1.obj.indexOf(el) !== -1;\n    }), this.getValidateMsg('array.includes', {\n      value: this.obj,\n      includes: arrays\n    })) : this;\n  };\n  ArrayValidator.prototype.deepEqual = function deepEqual(other) {\n    return this.obj ? this.validate(isEqual(this.obj, other), this.getValidateMsg('array.deepEqual', {\n      value: this.obj,\n      deepEqual: other\n    })) : this;\n  };\n  prototypeAccessors.empty.get = function () {\n    return this.validate(isEmptyArray(this.obj), this.getValidateMsg('array.empty', {\n      value: this.obj\n    }));\n  };\n  Object.defineProperties(ArrayValidator.prototype, prototypeAccessors);\n  return ArrayValidator;\n}(Base);\nvar ObjectValidator = /*@__PURE__*/function (Base) {\n  function ObjectValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'object'\n    }));\n    this.validate(options && options.strict ? isObject(this.obj) : true, this.getValidateMsg('type.object'));\n  }\n  if (Base) ObjectValidator.__proto__ = Base;\n  ObjectValidator.prototype = Object.create(Base && Base.prototype);\n  ObjectValidator.prototype.constructor = ObjectValidator;\n  var prototypeAccessors = {\n    empty: {\n      configurable: true\n    }\n  };\n  ObjectValidator.prototype.deepEqual = function deepEqual(other) {\n    return this.obj ? this.validate(isEqual(this.obj, other), this.getValidateMsg('object.deepEqual', {\n      deepEqual: other\n    })) : this;\n  };\n  ObjectValidator.prototype.hasKeys = function hasKeys(keys) {\n    var this$1 = this;\n    return this.obj ? this.validate(keys.every(function (el) {\n      return this$1.obj[el];\n    }), this.getValidateMsg('object.hasKeys', {\n      keys: keys\n    })) : this;\n  };\n  prototypeAccessors.empty.get = function () {\n    return this.validate(isEmptyObject(this.obj), this.getValidateMsg('object.empty'));\n  };\n  Object.defineProperties(ObjectValidator.prototype, prototypeAccessors);\n  return ObjectValidator;\n}(Base);\nvar BooleanValidator = /*@__PURE__*/function (Base) {\n  function BooleanValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'boolean'\n    }));\n    this.validate(options && options.strict ? isBoolean(this.obj) : true, this.getValidateMsg('type.boolean'));\n  }\n  if (Base) BooleanValidator.__proto__ = Base;\n  BooleanValidator.prototype = Object.create(Base && Base.prototype);\n  BooleanValidator.prototype.constructor = BooleanValidator;\n  var prototypeAccessors = {\n    true: {\n      configurable: true\n    },\n    false: {\n      configurable: true\n    }\n  };\n  prototypeAccessors.true.get = function () {\n    return this.validate(this.obj === true, this.getValidateMsg('boolean.true'));\n  };\n  prototypeAccessors.false.get = function () {\n    return this.validate(this.obj === false, this.getValidateMsg('boolean.false'));\n  };\n  Object.defineProperties(BooleanValidator.prototype, prototypeAccessors);\n  return BooleanValidator;\n}(Base);\nvar regexEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nvar regexUrl = new RegExp('^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$', 'i');\nvar regexIp = /^(2(5[0-5]{1}|[0-4]\\d{1})|[0-1]?\\d{1,2})(\\.(2(5[0-5]{1}|[0-4]\\d{1})|[0-1]?\\d{1,2})){3}$/;\nvar TypeValidator = /*@__PURE__*/function (Base) {\n  function TypeValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'type'\n    }));\n  }\n  if (Base) TypeValidator.__proto__ = Base;\n  TypeValidator.prototype = Object.create(Base && Base.prototype);\n  TypeValidator.prototype.constructor = TypeValidator;\n  var prototypeAccessors = {\n    email: {\n      configurable: true\n    },\n    url: {\n      configurable: true\n    },\n    ip: {\n      configurable: true\n    }\n  };\n  prototypeAccessors.email.get = function () {\n    this.type = 'email';\n    return this.validate(this.obj === undefined || regexEmail.test(this.obj), this.getValidateMsg('type.email'));\n  };\n  prototypeAccessors.url.get = function () {\n    this.type = 'url';\n    return this.validate(this.obj === undefined || regexUrl.test(this.obj), this.getValidateMsg('type.url'));\n  };\n  prototypeAccessors.ip.get = function () {\n    this.type = 'ip';\n    return this.validate(this.obj === undefined || regexIp.test(this.obj), this.getValidateMsg('type.ip'));\n  };\n  Object.defineProperties(TypeValidator.prototype, prototypeAccessors);\n  return TypeValidator;\n}(Base);\nvar CustomValidator = /*@__PURE__*/function (Base) {\n  function CustomValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'custom'\n    }));\n  }\n  if (Base) CustomValidator.__proto__ = Base;\n  CustomValidator.prototype = Object.create(Base && Base.prototype);\n  CustomValidator.prototype.constructor = CustomValidator;\n  var prototypeAccessors = {\n    validate: {\n      configurable: true\n    }\n  };\n  // @ts-ignore\n  prototypeAccessors.validate.get = function () {\n    var _this = this;\n    return function (validator, callback) {\n      var ret;\n      if (validator) {\n        ret = validator(_this.obj, _this.addError.bind(_this));\n        if (ret && ret.then) {\n          if (callback) {\n            ret.then(function () {\n              callback && callback(_this.error);\n            }, function (e) {\n              console.error(e);\n            });\n          }\n          return [ret, _this];\n        } else {\n          callback && callback(_this.error);\n          return _this.error;\n        }\n      }\n    };\n  };\n  Object.defineProperties(CustomValidator.prototype, prototypeAccessors);\n  return CustomValidator;\n}(Base);\nvar Validate = function Validate(obj, options) {\n  this.string = new StringValidator(obj, options);\n  this.number = new NumberValidator(obj, options);\n  this.array = new ArrayValidator(obj, options);\n  this.object = new ObjectValidator(obj, options);\n  this.boolean = new BooleanValidator(obj, options);\n  this.type = new TypeValidator(obj, options);\n  this.custom = new CustomValidator(obj, options);\n};\nfunction index(obj, options) {\n  return new Validate(obj, options);\n}\nvar Schema = function Schema(schema, options) {\n  if (options === void 0) options = {};\n  this.schema = schema;\n  this.options = options;\n};\nSchema.prototype.validate = function validate(values, callback) {\n  var this$1 = this;\n  if (!isObject(values)) {\n    return;\n  }\n  var promises = [];\n  var errors = null;\n  function setError(key, error) {\n    if (!errors) {\n      errors = {};\n    }\n    if (!errors[key] || error.requiredError) {\n      errors[key] = error;\n    }\n  }\n  if (this.schema) {\n    Object.keys(this.schema).forEach(function (key) {\n      if (isArray(this$1.schema[key])) {\n        var loop = function (i) {\n          var rule = this$1.schema[key][i];\n          var type = rule.type;\n          var message = rule.message;\n          if (!type && !rule.validator) {\n            throw \"You must specify a type to field \" + key + \"!\";\n          }\n          var validator = new Validate(values[key], Object.assign(Object.assign({}, this$1.options), {\n            message: message,\n            field: key\n          }));\n          var bv = validator.type[type] || null;\n          if (!bv) {\n            if (rule.validator) {\n              bv = validator.custom.validate(rule.validator);\n              if (Object.prototype.toString.call(bv) === '[object Array]' && bv[0].then) {\n                promises.push({\n                  function: bv[0],\n                  _this: bv[1],\n                  key: key\n                });\n              } else if (bv) {\n                setError(key, bv);\n              }\n              return;\n            } else {\n              bv = validator[type];\n            }\n          }\n          Object.keys(rule).forEach(function (r) {\n            if (rule.required) {\n              bv = bv.isRequired;\n            }\n            if (r !== 'message' && bv[r] && rule[r] && typeof bv[r] === 'object') {\n              bv = bv[r];\n            }\n            if (bv[r] && rule[r] !== undefined && typeof bv[r] === 'function') {\n              bv = bv[r](rule[r]);\n            }\n          });\n          bv.collect(function (error) {\n            if (error) {\n              setError(key, error);\n            }\n          });\n          if (errors) {\n            return 'break';\n          }\n        };\n        for (var i = 0; i < this$1.schema[key].length; i++) {\n          var returned = loop(i);\n          if (returned === 'break') break;\n        }\n      }\n    });\n  }\n  if (promises.length > 0) {\n    Promise.all(promises.map(function (a) {\n      return a.function;\n    })).then(function () {\n      promises.forEach(function (promise) {\n        if (promise._this.error) {\n          setError(promise.key, promise._this.error);\n        }\n      });\n      callback && callback(errors);\n    });\n  } else {\n    callback && callback(errors);\n  }\n};\nexport default index;\nexport { validateMessages as DefaultValidateMessage, Schema };","map":{"version":3,"names":["opt","Object","prototype","toString","isArray","obj","call","isObject","isString","isNumber","isBoolean","isFunction","isEmptyObject","keys","length","isEmptyValue","undefined","isEmptyArray","isEqual","other","key","result","mergeTemplate","defaultValidateMessages","validateMessages","forEach","defaultValue","propsValue","assign","getTemplate","keyPath","split","i","defaultTypeTemplate","required","type","ip","email","url","string","number","array","object","boolean","min","max","equal","range","positive","negative","maxLength","minLength","match","uppercase","lowercase","includes","deepEqual","empty","hasKeys","true","false","Base","options","this$1","getValidateMsg","info","data","value","field","template","replace","variable","slice","JSON","stringify","_","String","trim","ignoreEmptyString","message","error","prototypeAccessors","not","configurable","isRequired","end","get","_not","requiredError","addError","validate","expression","errorMessage","_expression","collect","callback","defineProperties","StringValidator","strict","__proto__","create","constructor","length$1","pattern","isRegex","RegExp","lastIndex","test","toUpperCase","toLowerCase","NumberValidator","num","ArrayValidator","arrays","every","el","indexOf","ObjectValidator","BooleanValidator","regexEmail","regexUrl","regexIp","TypeValidator","CustomValidator","_this","validator","ret","bind","then","e","console","Validate","custom","index","Schema","schema","values","promises","errors","setError","loop","rule","bv","push","function","r","returned","Promise","all","map","a","promise","DefaultValidateMessage"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-mgmt-frontend/node_modules/b-validate/es/index.js"],"sourcesContent":["var opt = Object.prototype.toString;\nfunction isArray(obj) {\n    return opt.call(obj) === '[object Array]';\n}\nfunction isObject(obj) {\n    return opt.call(obj) === '[object Object]';\n}\nfunction isString(obj) {\n    return opt.call(obj) === '[object String]';\n}\nfunction isNumber(obj) {\n    return opt.call(obj) === '[object Number]' && obj === obj; // eslint-disable-line\n}\nfunction isBoolean(obj) {\n    return opt.call(obj) === '[object Boolean]';\n}\nfunction isFunction(obj) {\n    return opt.call(obj) === '[object Function]';\n}\nfunction isEmptyObject(obj) {\n    return isObject(obj) && Object.keys(obj).length === 0;\n}\nfunction isEmptyValue(obj) {\n    return obj === undefined || obj === null || obj === '';\n}\nfunction isEmptyArray(obj) {\n    return isArray(obj) && !obj.length;\n}\nvar isEqual = function (obj, other) {\n    if (typeof obj !== 'object' || typeof other !== 'object') {\n        return obj === other;\n    }\n    if (isFunction(obj) && isFunction(other)) {\n        return obj === other || obj.toString() === other.toString();\n    }\n    if (Object.keys(obj).length !== Object.keys(other).length) {\n        return false;\n    }\n    for (var key in obj) {\n        var result = isEqual(obj[key], other[key]);\n        if (!result)\n            { return false; }\n    }\n    return true;\n};\n\nvar mergeTemplate = function (defaultValidateMessages, validateMessages) {\n    var result = {};\n    Object.keys(defaultValidateMessages).forEach(function (key) {\n        var defaultValue = defaultValidateMessages[key];\n        var propsValue = validateMessages && validateMessages[key];\n        result[key] = isObject(defaultValue)\n            ? Object.assign(Object.assign({}, defaultValue), propsValue) : propsValue || defaultValue;\n    });\n    return result;\n};\nvar getTemplate = function (validateMessages, keyPath) {\n    var keys = keyPath.split('.');\n    var result = validateMessages;\n    for (var i = 0; i < keys.length; i++) {\n        result = result && result[keys[i]];\n        if (result === undefined) {\n            return result;\n        }\n    }\n    return result;\n};\n\nvar defaultTypeTemplate = '#{field} is not a #{type} type';\nvar validateMessages = {\n    required: '#{field} is required',\n    type: {\n        ip: defaultTypeTemplate,\n        email: defaultTypeTemplate,\n        url: defaultTypeTemplate,\n        string: defaultTypeTemplate,\n        number: defaultTypeTemplate,\n        array: defaultTypeTemplate,\n        object: defaultTypeTemplate,\n        boolean: defaultTypeTemplate,\n    },\n    number: {\n        min: '`#{value}` is not greater than `#{min}`',\n        max: '`#{value}` is not less than `#{max}`',\n        equal: '`#{value}` is not equal to `#{equal}`',\n        range: '`#{value}` is not in range `#{min} ~ #{max}`',\n        positive: '`#{value}` is not a positive number',\n        negative: '`#{value}` is not a negative number',\n    },\n    string: {\n        maxLength: '#{field} cannot be longer than #{maxLength} characters',\n        minLength: '#{field} must be at least #{minLength} characters',\n        length: '#{field} must be exactly #{length} characters',\n        match: '`#{value}` does not match pattern #{pattern}',\n        uppercase: '`#{value}` must be all uppercase',\n        lowercase: '`#{value}` must be all lowercased',\n    },\n    array: {\n        length: '#{field} must be exactly #{length} in length',\n        minLength: '#{field} cannot be less than #{minLength} in length',\n        maxLength: '#{field} cannot be greater than #{maxLength} in length',\n        includes: '#{field} is not includes #{includes}',\n        deepEqual: '#{field} is not deep equal with #{deepEqual}',\n        empty: '#{field} is not an empty array',\n    },\n    object: {\n        deepEqual: '#{field} is not deep equal to expected value',\n        hasKeys: '#{field} does not contain required fields',\n        empty: '`#{field} is not an empty object',\n    },\n    boolean: {\n        true: 'Expect true but got `#{value}`',\n        false: 'Expect false but got `#{value}`',\n    },\n};\n\n/**\n * @param options.trim trim string value\n * @param options.ignoreEmptyString used form type\n * @param options.message\n * @param options.type\n */\nvar Base = function Base(obj, options) {\n    var this$1 = this;\n\n    this.getValidateMsg = function (keyPath, info) {\n        if ( info === void 0 ) info = {};\n\n        var data = Object.assign(Object.assign({}, info), { value: this$1.obj, field: this$1.field, type: this$1.type });\n        var template = getTemplate(this$1.validateMessages, keyPath);\n        if (isFunction(template)) {\n            return template(data);\n        }\n        if (isString(template)) {\n            return template.replace(/\\#\\{.+?\\}/g, function (variable) {\n                var key = variable.slice(2, -1);\n                if (key in data) {\n                    if (isObject(data[key]) || isArray(data[key])) {\n                        try {\n                            return JSON.stringify(data[key]);\n                        }\n                        catch (_) {\n                            return data[key];\n                        }\n                    }\n                    return String(data[key]);\n                }\n                return variable;\n            });\n        }\n        return template;\n    };\n    if (isObject(options) && isString(obj) && options.trim) {\n        this.obj = obj.trim();\n    }\n    else if (isObject(options) && options.ignoreEmptyString && obj === '') {\n        this.obj = undefined;\n    }\n    else {\n        this.obj = obj;\n    }\n    this.message = options.message;\n    this.type = options.type;\n    this.error = null;\n    this.field = options.field || options.type;\n    this.validateMessages = mergeTemplate(validateMessages, options.validateMessages);\n};\n\nvar prototypeAccessors = { not: { configurable: true },isRequired: { configurable: true },end: { configurable: true } };\nprototypeAccessors.not.get = function () {\n    this._not = !this._not;\n    return this;\n};\nprototypeAccessors.isRequired.get = function () {\n    if (isEmptyValue(this.obj) || isEmptyArray(this.obj)) {\n        this.error = {\n            value: this.obj,\n            type: this.type,\n            requiredError: true,\n            message: this.message || (\"\" + (this._not ? '[NOT MODE]:' : '') + (this.getValidateMsg('required'))),\n        };\n    }\n    return this;\n};\nprototypeAccessors.end.get = function () {\n    return this.error;\n};\nBase.prototype.addError = function addError (message) {\n    if (!this.error && message) {\n        this.error = {\n            value: this.obj,\n            type: this.type,\n            message: this.message || (isObject(message) ? message : (\"\" + (this._not ? '[NOT MODE]:' : '') + message)),\n        };\n    }\n};\nBase.prototype.validate = function validate (expression, errorMessage) {\n    var _expression = this._not ? expression : !expression;\n    if (_expression) {\n        this.addError(errorMessage);\n    }\n    return this;\n};\nBase.prototype.collect = function collect (callback) {\n    callback && callback(this.error);\n};\n\nObject.defineProperties( Base.prototype, prototypeAccessors );\n\nvar StringValidator = /*@__PURE__*/(function (Base) {\n    function StringValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'string' }));\n        this.validate(options && options.strict ? isString(this.obj) : true, this.getValidateMsg('type.string'));\n    }\n\n    if ( Base ) StringValidator.__proto__ = Base;\n    StringValidator.prototype = Object.create( Base && Base.prototype );\n    StringValidator.prototype.constructor = StringValidator;\n\n    var prototypeAccessors = { uppercase: { configurable: true },lowercase: { configurable: true } };\n    StringValidator.prototype.maxLength = function maxLength (length) {\n        return this.obj\n            ? this.validate(this.obj.length <= length, this.getValidateMsg('string.maxLength', { maxLength: length }))\n            : this;\n    };\n    StringValidator.prototype.minLength = function minLength (length) {\n        return this.obj\n            ? this.validate(this.obj.length >= length, this.getValidateMsg('string.minLength', { minLength: length }))\n            : this;\n    };\n    StringValidator.prototype.length = function length (length$1) {\n        return this.obj\n            ? this.validate(this.obj.length === length$1, this.getValidateMsg('string.length', { length: length$1 }))\n            : this;\n    };\n    StringValidator.prototype.match = function match (pattern) {\n        var isRegex = pattern instanceof RegExp;\n        if (isRegex) {\n            pattern.lastIndex = 0;\n        }\n        return this.validate(this.obj === undefined || (isRegex && pattern.test(this.obj)), this.getValidateMsg('string.match', { pattern: pattern }));\n    };\n    prototypeAccessors.uppercase.get = function () {\n        return this.obj\n            ? this.validate(this.obj.toUpperCase() === this.obj, this.getValidateMsg('string.uppercase'))\n            : this;\n    };\n    prototypeAccessors.lowercase.get = function () {\n        return this.obj\n            ? this.validate(this.obj.toLowerCase() === this.obj, this.getValidateMsg('string.lowercase'))\n            : this;\n    };\n\n    Object.defineProperties( StringValidator.prototype, prototypeAccessors );\n\n    return StringValidator;\n}(Base));\n\nvar NumberValidator = /*@__PURE__*/(function (Base) {\n    function NumberValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'number' }));\n        this.validate(options && options.strict ? isNumber(this.obj) : true, this.getValidateMsg('type.number'));\n    }\n\n    if ( Base ) NumberValidator.__proto__ = Base;\n    NumberValidator.prototype = Object.create( Base && Base.prototype );\n    NumberValidator.prototype.constructor = NumberValidator;\n\n    var prototypeAccessors = { positive: { configurable: true },negative: { configurable: true } };\n    NumberValidator.prototype.min = function min (num) {\n        return !isEmptyValue(this.obj)\n            ? this.validate(this.obj >= num, this.getValidateMsg('number.min', { min: num }))\n            : this;\n    };\n    NumberValidator.prototype.max = function max (num) {\n        return !isEmptyValue(this.obj)\n            ? this.validate(this.obj <= num, this.getValidateMsg('number.max', { max: num }))\n            : this;\n    };\n    NumberValidator.prototype.equal = function equal (num) {\n        return !isEmptyValue(this.obj)\n            ? this.validate(this.obj === num, this.getValidateMsg('number.equal', { equal: num }))\n            : this;\n    };\n    NumberValidator.prototype.range = function range (min, max) {\n        return !isEmptyValue(this.obj)\n            ? this.validate(this.obj >= min && this.obj <= max, this.getValidateMsg('number.range', { min: min, max: max }))\n            : this;\n    };\n    prototypeAccessors.positive.get = function () {\n        return !isEmptyValue(this.obj) ? this.validate(this.obj > 0, this.getValidateMsg('number.positive')) : this;\n    };\n    prototypeAccessors.negative.get = function () {\n        return !isEmptyValue(this.obj) ? this.validate(this.obj < 0, this.getValidateMsg('number.negative')) : this;\n    };\n\n    Object.defineProperties( NumberValidator.prototype, prototypeAccessors );\n\n    return NumberValidator;\n}(Base));\n\nvar ArrayValidator = /*@__PURE__*/(function (Base) {\n    function ArrayValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'array' }));\n        this.validate(options && options.strict ? isArray(this.obj) : true, this.getValidateMsg('type.array', { value: this.obj, type: this.type }));\n    }\n\n    if ( Base ) ArrayValidator.__proto__ = Base;\n    ArrayValidator.prototype = Object.create( Base && Base.prototype );\n    ArrayValidator.prototype.constructor = ArrayValidator;\n\n    var prototypeAccessors = { empty: { configurable: true } };\n    ArrayValidator.prototype.length = function length (num) {\n        return this.obj ? this.validate(this.obj.length === num, this.getValidateMsg('array.length', { value: this.obj, length: num })) : this;\n    };\n    ArrayValidator.prototype.minLength = function minLength (num) {\n        return this.obj ? this.validate(this.obj.length >= num, this.getValidateMsg('array.minLength', { value: this.obj, minLength: num })) : this;\n    };\n    ArrayValidator.prototype.maxLength = function maxLength (num) {\n        return this.obj ? this.validate(this.obj.length <= num, this.getValidateMsg('array.maxLength', { value: this.obj, maxLength: num })) : this;\n    };\n    ArrayValidator.prototype.includes = function includes (arrays) {\n        var this$1 = this;\n\n        return this.obj\n            ? this.validate(arrays.every(function (el) { return this$1.obj.indexOf(el) !== -1; }), this.getValidateMsg('array.includes', {\n                value: this.obj,\n                includes: arrays,\n            }))\n            : this;\n    };\n    ArrayValidator.prototype.deepEqual = function deepEqual (other) {\n        return this.obj\n            ? this.validate(isEqual(this.obj, other), this.getValidateMsg('array.deepEqual', { value: this.obj, deepEqual: other }))\n            : this;\n    };\n    prototypeAccessors.empty.get = function () {\n        return this.validate(isEmptyArray(this.obj), this.getValidateMsg('array.empty', { value: this.obj }));\n    };\n\n    Object.defineProperties( ArrayValidator.prototype, prototypeAccessors );\n\n    return ArrayValidator;\n}(Base));\n\nvar ObjectValidator = /*@__PURE__*/(function (Base) {\n    function ObjectValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'object' }));\n        this.validate(options && options.strict ? isObject(this.obj) : true, this.getValidateMsg('type.object'));\n    }\n\n    if ( Base ) ObjectValidator.__proto__ = Base;\n    ObjectValidator.prototype = Object.create( Base && Base.prototype );\n    ObjectValidator.prototype.constructor = ObjectValidator;\n\n    var prototypeAccessors = { empty: { configurable: true } };\n    ObjectValidator.prototype.deepEqual = function deepEqual (other) {\n        return this.obj ? this.validate(isEqual(this.obj, other), this.getValidateMsg('object.deepEqual', { deepEqual: other })) : this;\n    };\n    ObjectValidator.prototype.hasKeys = function hasKeys (keys) {\n        var this$1 = this;\n\n        return this.obj\n            ? this.validate(keys.every(function (el) { return this$1.obj[el]; }), this.getValidateMsg('object.hasKeys', { keys: keys }))\n            : this;\n    };\n    prototypeAccessors.empty.get = function () {\n        return this.validate(isEmptyObject(this.obj), this.getValidateMsg('object.empty'));\n    };\n\n    Object.defineProperties( ObjectValidator.prototype, prototypeAccessors );\n\n    return ObjectValidator;\n}(Base));\n\nvar BooleanValidator = /*@__PURE__*/(function (Base) {\n    function BooleanValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'boolean' }));\n        this.validate(options && options.strict ? isBoolean(this.obj) : true, this.getValidateMsg('type.boolean'));\n    }\n\n    if ( Base ) BooleanValidator.__proto__ = Base;\n    BooleanValidator.prototype = Object.create( Base && Base.prototype );\n    BooleanValidator.prototype.constructor = BooleanValidator;\n\n    var prototypeAccessors = { true: { configurable: true },false: { configurable: true } };\n    prototypeAccessors.true.get = function () {\n        return this.validate(this.obj === true, this.getValidateMsg('boolean.true'));\n    };\n    prototypeAccessors.false.get = function () {\n        return this.validate(this.obj === false, this.getValidateMsg('boolean.false'));\n    };\n\n    Object.defineProperties( BooleanValidator.prototype, prototypeAccessors );\n\n    return BooleanValidator;\n}(Base));\n\nvar regexEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nvar regexUrl = new RegExp('^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$', 'i');\nvar regexIp = /^(2(5[0-5]{1}|[0-4]\\d{1})|[0-1]?\\d{1,2})(\\.(2(5[0-5]{1}|[0-4]\\d{1})|[0-1]?\\d{1,2})){3}$/;\nvar TypeValidator = /*@__PURE__*/(function (Base) {\n    function TypeValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'type' }));\n    }\n\n    if ( Base ) TypeValidator.__proto__ = Base;\n    TypeValidator.prototype = Object.create( Base && Base.prototype );\n    TypeValidator.prototype.constructor = TypeValidator;\n\n    var prototypeAccessors = { email: { configurable: true },url: { configurable: true },ip: { configurable: true } };\n    prototypeAccessors.email.get = function () {\n        this.type = 'email';\n        return this.validate(this.obj === undefined || regexEmail.test(this.obj), this.getValidateMsg('type.email'));\n    };\n    prototypeAccessors.url.get = function () {\n        this.type = 'url';\n        return this.validate(this.obj === undefined || regexUrl.test(this.obj), this.getValidateMsg('type.url'));\n    };\n    prototypeAccessors.ip.get = function () {\n        this.type = 'ip';\n        return this.validate(this.obj === undefined || regexIp.test(this.obj), this.getValidateMsg('type.ip'));\n    };\n\n    Object.defineProperties( TypeValidator.prototype, prototypeAccessors );\n\n    return TypeValidator;\n}(Base));\n\nvar CustomValidator = /*@__PURE__*/(function (Base) {\n    function CustomValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'custom' }));\n    }\n\n    if ( Base ) CustomValidator.__proto__ = Base;\n    CustomValidator.prototype = Object.create( Base && Base.prototype );\n    CustomValidator.prototype.constructor = CustomValidator;\n\n    var prototypeAccessors = { validate: { configurable: true } };\n    // @ts-ignore\n    prototypeAccessors.validate.get = function () {\n        var _this = this;\n        return function (validator, callback) {\n            var ret;\n            if (validator) {\n                ret = validator(_this.obj, _this.addError.bind(_this));\n                if (ret && ret.then) {\n                    if (callback) {\n                        ret.then(function () {\n                            callback && callback(_this.error);\n                        }, function (e) {\n                            console.error(e);\n                        });\n                    }\n                    return [ret, _this];\n                }\n                else {\n                    callback && callback(_this.error);\n                    return _this.error;\n                }\n            }\n        };\n    };\n\n    Object.defineProperties( CustomValidator.prototype, prototypeAccessors );\n\n    return CustomValidator;\n}(Base));\n\nvar Validate = function Validate(obj, options) {\n    this.string = new StringValidator(obj, options);\n    this.number = new NumberValidator(obj, options);\n    this.array = new ArrayValidator(obj, options);\n    this.object = new ObjectValidator(obj, options);\n    this.boolean = new BooleanValidator(obj, options);\n    this.type = new TypeValidator(obj, options);\n    this.custom = new CustomValidator(obj, options);\n};\nfunction index (obj, options) {\n    return new Validate(obj, options);\n}var Schema = function Schema(schema, options) {\n    if ( options === void 0 ) options = {};\n\n    this.schema = schema;\n    this.options = options;\n};\nSchema.prototype.validate = function validate (values, callback) {\n        var this$1 = this;\n\n    if (!isObject(values)) {\n        return;\n    }\n    var promises = [];\n    var errors = null;\n    function setError(key, error) {\n        if (!errors) {\n            errors = {};\n        }\n        if (!errors[key] || error.requiredError) {\n            errors[key] = error;\n        }\n    }\n    if (this.schema) {\n        Object.keys(this.schema).forEach(function (key) {\n            if (isArray(this$1.schema[key])) {\n                var loop = function ( i ) {\n                    var rule = this$1.schema[key][i];\n                    var type = rule.type;\n                    var message = rule.message;\n                    if (!type && !rule.validator) {\n                        throw (\"You must specify a type to field \" + key + \"!\");\n                    }\n                    var validator = new Validate(values[key], Object.assign(Object.assign({}, this$1.options), { message: message, field: key }));\n                    var bv = validator.type[type] || null;\n                    if (!bv) {\n                        if (rule.validator) {\n                            bv = validator.custom.validate(rule.validator);\n                            if (Object.prototype.toString.call(bv) === '[object Array]' && bv[0].then) {\n                                promises.push({\n                                    function: bv[0],\n                                    _this: bv[1],\n                                    key: key,\n                                });\n                            }\n                            else if (bv) {\n                                setError(key, bv);\n                            }\n                            return;\n                        }\n                        else {\n                            bv = validator[type];\n                        }\n                    }\n                    Object.keys(rule).forEach(function (r) {\n                        if (rule.required) {\n                            bv = bv.isRequired;\n                        }\n                        if (r !== 'message' && bv[r] && rule[r] && typeof bv[r] === 'object') {\n                            bv = bv[r];\n                        }\n                        if (bv[r] && rule[r] !== undefined && typeof bv[r] === 'function') {\n                            bv = bv[r](rule[r]);\n                        }\n                    });\n                    bv.collect(function (error) {\n                        if (error) {\n                            setError(key, error);\n                        }\n                    });\n                    if (errors) {\n                        return 'break';\n                    }\n                };\n\n                    for (var i = 0; i < this$1.schema[key].length; i++) {\n                        var returned = loop( i );\n\n                        if ( returned === 'break' ) break;\n                    }\n            }\n        });\n    }\n    if (promises.length > 0) {\n        Promise.all(promises.map(function (a) { return a.function; })).then(function () {\n            promises.forEach(function (promise) {\n                if (promise._this.error) {\n                    setError(promise.key, promise._this.error);\n                }\n            });\n            callback && callback(errors);\n        });\n    }\n    else {\n        callback && callback(errors);\n    }\n};\n\nexport default index;\nexport { validateMessages as DefaultValidateMessage, Schema };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}