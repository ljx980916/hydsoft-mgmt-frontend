{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { filter, isNil, isNumber, last } from '@antv/util';\n/**\n * 计算分类 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateCatTicks(cfg) {\n  var values = cfg.values,\n    tickInterval = cfg.tickInterval,\n    tickCount = cfg.tickCount,\n    showLast = cfg.showLast;\n  if (isNumber(tickInterval)) {\n    var ticks_1 = filter(values, function (__, i) {\n      return i % tickInterval === 0;\n    });\n    var lastValue = last(values);\n    if (showLast && last(ticks_1) !== lastValue) {\n      ticks_1.push(lastValue);\n    }\n    return ticks_1;\n  }\n  var len = values.length;\n  var min = cfg.min,\n    max = cfg.max;\n  if (isNil(min)) {\n    min = 0;\n  }\n  if (isNil(max)) {\n    max = values.length - 1;\n  }\n  if (!isNumber(tickCount) || tickCount >= len) return values.slice(min, max + 1);\n  if (tickCount <= 0 || max <= 0) return [];\n  var interval = tickCount === 1 ? len : Math.floor(len / (tickCount - 1));\n  var ticks = [];\n  var idx = min;\n  for (var i = 0; i < tickCount; i++) {\n    if (idx >= max) break;\n    idx = Math.min(min + i * interval, max);\n    if (i === tickCount - 1 && showLast) ticks.push(values[max]);else ticks.push(values[idx]);\n  }\n  return ticks;\n}","map":{"version":3,"mappings":";AAAA,SAASA,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,QAAQ,YAAY;AAG1D;;;;;AAKA,eAAc,SAAUC,iBAAiB,CAACC,GAAgB;EAChD,UAAM,GAAwCA,GAAG,OAA3C;IAAEC,YAAY,GAA0BD,GAAG,aAA7B;IAAEE,SAAS,GAAeF,GAAG,UAAlB;IAAEG,QAAQ,GAAKH,GAAG,SAAR;EAEjD,IAAIH,QAAQ,CAACI,YAAY,CAAC,EAAE;IAC1B,IAAMG,OAAK,GAAGT,MAAM,CAACU,MAAM,EAAE,UAACC,EAAO,EAAEC,CAAS;MAAK,QAAC,GAAGN,YAAY,KAAK,CAAC;IAAtB,CAAsB,CAAC;IAC5E,IAAMO,SAAS,GAAGV,IAAI,CAACO,MAAM,CAAC;IAC9B,IAAIF,QAAQ,IAAIL,IAAI,CAACM,OAAK,CAAC,KAAKI,SAAS,EAAE;MACzCJ,OAAK,CAACK,IAAI,CAACD,SAAS,CAAC;;IAEvB,OAAOJ,OAAK;;EAGd,IAAMM,GAAG,GAAGL,MAAM,CAACM,MAAM;EACnB,OAAG,GAAUX,GAAG,IAAb;IAAEY,GAAG,GAAKZ,GAAG,IAAR;EACd,IAAIJ,KAAK,CAACiB,GAAG,CAAC,EAAE;IACdA,GAAG,GAAG,CAAC;;EAET,IAAIjB,KAAK,CAACgB,GAAG,CAAC,EAAE;IACdA,GAAG,GAAGP,MAAM,CAACM,MAAM,GAAG,CAAC;;EAGzB,IAAI,CAACd,QAAQ,CAACK,SAAS,CAAC,IAAIA,SAAS,IAAIQ,GAAG,EAAE,OAAOL,MAAM,CAACS,KAAK,CAACD,GAAG,EAAED,GAAG,GAAG,CAAC,CAAC;EAC/E,IAAIV,SAAS,IAAI,CAAC,IAAIU,GAAG,IAAI,CAAC,EAAE,OAAO,EAAE;EAEzC,IAAMG,QAAQ,GAAGb,SAAS,KAAK,CAAC,GAAGQ,GAAG,GAAGM,IAAI,CAACC,KAAK,CAACP,GAAG,IAAIR,SAAS,GAAG,CAAC,CAAC,CAAC;EAC1E,IAAMgB,KAAK,GAAG,EAAE;EAEhB,IAAIC,GAAG,GAAGN,GAAG;EACb,KAAK,IAAIN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,SAAS,EAAEK,CAAC,EAAE,EAAE;IAClC,IAAIY,GAAG,IAAIP,GAAG,EAAE;IAEhBO,GAAG,GAAGH,IAAI,CAACH,GAAG,CAACA,GAAG,GAAGN,CAAC,GAAGQ,QAAQ,EAAEH,GAAG,CAAC;IACvC,IAAIL,CAAC,KAAKL,SAAS,GAAG,CAAC,IAAIC,QAAQ,EAAEe,KAAK,CAACT,IAAI,CAACJ,MAAM,CAACO,GAAG,CAAC,CAAC,CAAC,KACxDM,KAAK,CAACT,IAAI,CAACJ,MAAM,CAACc,GAAG,CAAC,CAAC;;EAE9B,OAAOD,KAAK;AACd","names":["filter","isNil","isNumber","last","calculateCatTicks","cfg","tickInterval","tickCount","showLast","ticks_1","values","__","i","lastValue","push","len","length","max","min","slice","interval","Math","floor","ticks","idx"],"sourceRoot":"","sources":["../../src/tick-method/cat.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}