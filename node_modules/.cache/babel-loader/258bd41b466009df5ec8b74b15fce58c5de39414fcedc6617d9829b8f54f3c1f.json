{"ast":null,"code":"import { ref, reactive } from 'vue';\nimport Different from '@/components/different.vue';\nexport default {\n  __name: 'collapseTable',\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    expandedRowKeys: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: [\"expandedChange\"],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const expandedRowKeys = ref(props.expandedRowKeys);\n    const modalVisible = ref(false);\n    const emit = __emit;\n    // 已展开的数据行发生改变时触发\n    const expandedChange = rowkeys => {\n      expandedRowKeys.value = rowkeys;\n      emit(\"expandedChange\", expandedRowKeys.value);\n    };\n    //单行高亮处理\n    const activeRowClass = record => {\n      if (record.raw.isGreenLight) {\n        return 'activeRowGreen';\n      } else if (record.raw.isRate) {\n        return 'activeRowPurple';\n      } else {\n        return '';\n      }\n    };\n    // 打开环比差\n    const handleDifference = () => {\n      modalVisible.value = true;\n    };\n    // 关闭\n    const handleClose = () => {\n      modalVisible.value = false;\n    };\n    const __returned__ = {\n      props,\n      expandedRowKeys,\n      modalVisible,\n      emit,\n      expandedChange,\n      activeRowClass,\n      handleDifference,\n      handleClose,\n      ref,\n      reactive,\n      Different\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","Different","props","__props","expandedRowKeys","modalVisible","emit","__emit","expandedChange","rowkeys","value","activeRowClass","record","raw","isGreenLight","isRate","handleDifference","handleClose"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/src/components/collapseTable.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- TODO  弹窗数据完善  Q季度表头处理   表头部分高亮 弹窗打开数据重置 外层表格工具栏数据关联  利率数据%处理-->\n        <!-- 折叠表格部分 -->\n        <div class=\"m-t-40 flex-between\">\n            <div class=\"flex-column-start\">\n                <a-button type=\"text\" style=\"color:#333\">\n                    <template #icon>\n                        <icon-layers />\n                    </template>\n                    <h3>{{ props.title }}</h3>\n                </a-button>\n                <span style=\"font-size: 12px;color:#666;font-weight: 500;margin-top:6px\">金额单位：万元</span>\n            </div>\n            <div>\n                <a-button type=\"text\" style=\"color:#5370FF;font-weight:500\" @click=\"handleDifference\">\n                    环比差\n                </a-button>\n            </div>\n        </div>\n        <a-table \n        class=\"m-t-20 arcoTable_columnsWidthAuto arcoTable_tr_color\" \n        :columns=\"(props.columns.length && props.columns) || []\"  \n        :data=\"props.data\"  \n        :loading=\"props.loading\"\n        :expanded-keys=\"props.expandedRowKeys\"\n        :pagination=\"false\" \n        :row-class=\"activeRowClass\"\n        show-empty-tree \n        :bordered=\"{wrapper: true, cell: true}\" \n        @expanded-change=\"expandedChange\"/>\n        <Different :modalVisible=\"modalVisible\" :data=\"props.data\" :columns=\"props.columns\" @handleClose=\"handleClose\"/>\n    </div>\n  </template>\n  \n<script setup>\nimport { ref,reactive} from 'vue';\nimport Different from  '@/components/different.vue';\nconst props = defineProps({\n    title:{\n        type:String,\n        default:''\n    },\n    columns: {\n        type: Array,\n        default: () => [],\n    },\n    data: {\n        type: Array,\n        default: () => [],\n    },\n    loading:{\n        type:Boolean,\n        default:false\n    },\n    expandedRowKeys:{\n        type: Array,\n        default: () => [],\n    },\n});\nconst expandedRowKeys = ref(props.expandedRowKeys);\nconst modalVisible = ref(false);\nconst emit = defineEmits([\n\"expandedChange\"\n]);\n// 已展开的数据行发生改变时触发\nconst expandedChange = (rowkeys)=>{\n    expandedRowKeys.value = rowkeys;\n    emit(\"expandedChange\", expandedRowKeys.value);\n};\n//单行高亮处理\nconst activeRowClass = (record) => {\n    if(record.raw.isGreenLight){\n        return 'activeRowGreen'\n    }else if(record.raw.isRate){\n        return 'activeRowPurple'\n    }else{\n        return ''\n    }\n};\n// 打开环比差\nconst handleDifference = () => {\n    modalVisible.value = true;\n};\n// 关闭\nconst handleClose = () => {\n    modalVisible.value = false;\n};\n</script>\n  \n  <style lang=\"scss\" scoped>\n  :deep(.arco-icon-plus){\n      background-image: url(@/assets/images/Triangle-right.png);\n      background-size: 110% 100%;\n      width: 14px!important;\n      height: 14px!important;\n      color: #FFFFFF00;\n      background-position:center;\n      background-repeat: no-repeat;\n  }\n  :deep(.arco-icon-minus){\n      background-image: url(@/assets/images/Triangle-bottom.png);\n      background-size: 110% 100%;\n      background-repeat: no-repeat;\n      width: 14px!important;\n      height: 14px!important;\n      color: #FFFFFF00;\n      background-position:center;\n  }\n  :deep(.arco-table .arco-table-expand-btn){\n      background-color: #fff !important;\n  }\n  :deep(.activeRowGreen > .arco-table-td) {\n      background-color: rgb(234, 248, 243) !important;\n  }\n  :deep(.activeRowPurple > .arco-table-td) {\n      background-color: rgb(240, 237, 248) !important;\n  }\n//   :deep(.arco-modal-body){\n//     padding: 30px !important;\n//   }\n  </style>"],"mappings":"AAoCA,SAASA,GAAG,EAACC,QAAQ,QAAO,KAAK;AACjC,OAAOC,SAAS,MAAO,4BAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACnD,MAAMC,KAAK,GAAGC,OAqBZ;IACF,MAAMC,eAAe,GAAGL,GAAG,CAACG,KAAK,CAACE,eAAe,CAAC;IAClD,MAAMC,YAAY,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC/B,MAAMO,IAAI,GAAGC,MAEX;IACF;IACA,MAAMC,cAAc,GAAIC,OAAO,IAAG;MAC9BL,eAAe,CAACM,KAAK,GAAGD,OAAO;MAC/BH,IAAI,CAAC,gBAAgB,EAAEF,eAAe,CAACM,KAAK,CAAC;IACjD,CAAC;IACD;IACA,MAAMC,cAAc,GAAIC,MAAM,IAAK;MAC/B,IAAGA,MAAM,CAACC,GAAG,CAACC,YAAY,EAAC;QACvB,OAAO,gBAAgB;MAC3B,CAAC,MAAK,IAAGF,MAAM,CAACC,GAAG,CAACE,MAAM,EAAC;QACvB,OAAO,iBAAiB;MAC5B,CAAC,MAAI;QACD,OAAO,EAAE;MACb;IACJ,CAAC;IACD;IACA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;MAC3BX,YAAY,CAACK,KAAK,GAAG,IAAI;IAC7B,CAAC;IACD;IACA,MAAMO,WAAW,GAAGA,CAAA,KAAM;MACtBZ,YAAY,CAACK,KAAK,GAAG,KAAK;IAC9B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}