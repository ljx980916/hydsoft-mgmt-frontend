{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n// Copyright 2017 Naushad Pasha Puliyambalath\n// https://github.com/NPashaP/Viz\n\n;\n(function (root, factory) {\n  if (typeof module === 'object' && module.exports) {\n    /* eslint-disable global-require */\n    // CommonJS\n    var d3 = require('d3');\n    module.exports = factory(d3);\n    /* eslint-enable global-require */\n  } else {\n    // Browser global.\n    // eslint-disable-next-line no-param-reassign\n    root.viz = factory(root.d3);\n  }\n})(this, function (d3) {\n  var viz = {\n    version: '1.1.8'\n  };\n  var τ = 2 * Math.PI,\n    π = Math.PI,\n    π2 = Math.PI / 2;\n  viz.bP = function () {\n    // eslint-disable-next-line\n    var key_scale, value_scale, keyPrimary, keySecondary, value, width, height, orient, barSize, min, pad, data, fill, g, edgeOpacity, duration, sortPrimary, sortSecondary, edgeMode;\n    function bP(_) {\n      g = _;\n      _.each(function () {\n        var g = d3.select(this);\n        var bars = bP.bars();\n        var s = g.selectAll('.subBars').data(bars.subBars).enter().append('g').attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        }).attr('class', 'subBars').append('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh);\n        if (typeof fill !== 'undefined') s.style('fill', function (d) {\n          return fill(d);\n        });\n        var e = g.selectAll('.edges').data(bars.edges).enter().append('path').attr('class', 'edges').attr('d', function (d) {\n          return d.path;\n        }).style('fill-opacity', bP.edgeOpacity());\n        if (typeof fill !== 'undefined') e.style('fill', function (d) {\n          return fill(d);\n        });\n        g.selectAll('.mainBars').data(bars.mainBars).enter().append('g').attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        }).attr('class', 'mainBars').append('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh).style('fill-opacity', 0).on('mouseover', bP.mouseover).on('mouseout', bP.mouseout);\n      });\n    }\n    bP.data = function (_) {\n      if (!arguments.length) return data;\n      data = _;\n      return bP;\n    };\n    bP.fill = function (_) {\n      if (!arguments.length) return fill;\n      fill = _;\n      return bP;\n    };\n    bP.keyPrimary = function (_) {\n      if (!arguments.length) return typeof keyPrimary !== 'undefined' ? keyPrimary : function (d) {\n        return d[0];\n      };\n      keyPrimary = _;\n      return bP;\n    };\n    bP.sortPrimary = function (_) {\n      if (!arguments.length) return typeof sortPrimary !== 'undefined' ? sortPrimary : d3.ascending;\n      sortPrimary = _;\n      return bP;\n    };\n    bP.keySecondary = function (_) {\n      if (!arguments.length) return typeof keySecondary !== 'undefined' ? keySecondary : function (d) {\n        return d[1];\n      };\n      keySecondary = _;\n      return bP;\n    };\n    bP.sortSecondary = function (_) {\n      if (!arguments.length) return typeof sortSecondary !== 'undefined' ? sortSecondary : d3.ascending;\n      sortSecondary = _;\n      return bP;\n    };\n    bP.value = function (_) {\n      if (!arguments.length) return typeof value !== 'undefined' ? value : function (d) {\n        return d[2];\n      };\n      value = _;\n      return bP;\n    };\n    bP.width = function (_) {\n      if (!arguments.length) return typeof width !== 'undefined' ? width : 400;\n      width = _;\n      return bP;\n    };\n    bP.height = function (_) {\n      if (!arguments.length) return typeof height !== 'undefined' ? height : 600;\n      height = _;\n      return bP;\n    };\n    bP.barSize = function (_) {\n      if (!arguments.length) return typeof barSize !== 'undefined' ? barSize : 35;\n      barSize = _;\n      return bP;\n    };\n    bP.min = function (_) {\n      if (!arguments.length) return typeof min !== 'undefined' ? min : 0;\n      min = _;\n      return bP;\n    };\n    bP.orient = function (_) {\n      if (!arguments.length) return typeof orient !== 'undefined' ? orient : 'vertical';\n      orient = _;\n      return bP;\n    };\n    bP.pad = function (_) {\n      if (!arguments.length) return typeof pad !== 'undefined' ? pad : 0;\n      pad = _;\n      return bP;\n    };\n    bP.duration = function (_) {\n      if (!arguments.length) return typeof duration !== 'undefined' ? duration : 500;\n      duration = _;\n      return bP;\n    };\n    bP.edgeOpacity = function (_) {\n      if (!arguments.length) return typeof edgeOpacity !== 'undefined' ? edgeOpacity : 0.4;\n      edgeOpacity = _;\n      return bP;\n    };\n    bP.edgeMode = function (_) {\n      if (!arguments.length) return typeof edgeMode !== 'undefined' ? edgeMode : 'curved';\n      edgeMode = _;\n      return bP;\n    };\n    bP.bars = function (mb) {\n      var mainBars = {\n        primary: [],\n        secondary: []\n      };\n      var subBars = {\n        primary: [],\n        secondary: []\n      };\n      var key = {\n        primary: bP.keyPrimary(),\n        secondary: bP.keySecondary()\n      };\n      var _or = bP.orient();\n      calculateMainBars('primary');\n      calculateMainBars('secondary');\n      calculateSubBars('primary');\n      calculateSubBars('secondary');\n      floorMainBars(); // ensure that main bars is atleast of size mi.n\n\n      return {\n        mainBars: mainBars.primary.concat(mainBars.secondary),\n        subBars: subBars.primary.concat(subBars.secondary),\n        edges: calculateEdges()\n      };\n      function isSelKey(d, part) {\n        return typeof mb === 'undefined' || mb.part === part || key[mb.part](d) === mb.key;\n      }\n      function floorMainBars() {\n        var m = bP.min() / 2;\n        mainBars.primary.forEach(function (d) {\n          if (d.height < m) d.height = m;\n        });\n        mainBars.secondary.forEach(function (d) {\n          if (d.height < m) d.height = m;\n        });\n      }\n      function calculateMainBars(part) {\n        function v(d) {\n          return isSelKey(d, part) ? bP.value()(d) : 0;\n        }\n        var ps = d3.nest()\n        // eslint-disable-next-line\n        .key(part == 'primary' ? bP.keyPrimary() : bP.keySecondary()) // eslint-disable-next-line\n        .sortKeys(part == 'primary' ? bP.sortPrimary() : bP.sortSecondary()).rollup(function (d) {\n          return d3.sum(d, v);\n        }).entries(bP.data());\n        // eslint-disable-next-line\n        var bars = bpmap(ps, bP.pad(), bP.min(), 0, _or == 'vertical' ? bP.height() : bP.width());\n        var bsize = bP.barSize();\n        ps.forEach(function (d, i) {\n          mainBars[part].push({\n            // eslint-disable-next-line\n            x: _or == 'horizontal' ? (bars[i].s + bars[i].e) / 2 : part == 'primary' ? bsize / 2 : bP.width() - bsize / 2,\n            // eslint-disable-next-line\n            y: _or == 'vertical' ? (bars[i].s + bars[i].e) / 2 : part == 'primary' ? bsize / 2 : bP.height() - bsize / 2,\n            // eslint-disable-next-line\n            height: _or == 'vertical' ? (bars[i].e - bars[i].s) / 2 : bsize / 2,\n            // eslint-disable-next-line\n            width: _or == 'horizontal' ? (bars[i].e - bars[i].s) / 2 : bsize / 2,\n            // eslint-disable-next-line\n            part: part,\n            key: d.key,\n            value: d.value,\n            percent: bars[i].p\n          });\n        });\n      }\n      function calculateSubBars(part) {\n        function v(d) {\n          return isSelKey(d, part) ? bP.value()(d) : 0;\n        }\n        // eslint-disable-next-line\n        var sort = part == 'primary' ? function (a, b) {\n          return bP.sortPrimary()(a.key, b.key);\n        } : function (a, b) {\n          return bP.sortSecondary()(a.key, b.key);\n        };\n        var map = d3.map(mainBars[part], function (d) {\n          return d.key;\n        });\n        var ps = d3.nest() // eslint-disable-next-line\n        .key(part == 'primary' ? bP.keyPrimary() : bP.keySecondary()) // eslint-disable-next-line\n        .sortKeys(part == 'primary' ? bP.sortPrimary() : bP.sortSecondary()) // eslint-disable-next-line\n        .key(part == 'secondary' ? bP.keyPrimary() : bP.keySecondary()) // eslint-disable-next-line\n        .sortKeys(part == 'secondary' ? bP.sortPrimary() : bP.sortSecondary()) // eslint-disable-next-line\n        .rollup(function (d) {\n          return d3.sum(d, v);\n        }).entries(bP.data());\n        ps.forEach(function (d) {\n          var g = map.get(d.key);\n          var bars = bpmap(d.values, 0, 0,\n          // eslint-disable-next-line\n          _or == 'vertical' ? g.y - g.height : g.x - g.width,\n          // eslint-disable-next-line\n          _or == 'vertical' ? g.y + g.height : g.x + g.width);\n          var bsize = bP.barSize();\n          d.values.forEach(function (t, i) {\n            subBars[part].push({\n              // eslint-disable-next-line\n              x: _or == 'vertical' ? part == 'primary' ? bsize / 2 : bP.width() - bsize / 2 : (bars[i].s + bars[i].e) / 2,\n              // eslint-disable-next-line\n              y: _or == 'horizontal' ? part == 'primary' ? bsize / 2 : bP.height() - bsize / 2 : (bars[i].s + bars[i].e) / 2,\n              // eslint-disable-next-line\n              height: (_or == 'vertical' ? bars[i].e - bars[i].s : bsize) / 2,\n              // eslint-disable-next-line\n              width: (_or == 'horizontal' ? bars[i].e - bars[i].s : bsize) / 2,\n              // eslint-disable-next-line\n              part: part,\n              // eslint-disable-next-line\n              primary: part == 'primary' ? d.key : t.key,\n              // eslint-disable-next-line\n              secondary: part == 'primary' ? t.key : d.key,\n              // eslint-disable-next-line\n              value: t.value,\n              percent: bars[i].p * g.percent,\n              // eslint-disable-next-line\n              index: part == 'primary' ? d.key + '|' + t.key : t.key + '|' + d.key //index\n            });\n          });\n        });\n      }\n      function calculateEdges() {\n        var map = d3.map(subBars.secondary, function (d) {\n          return d.index;\n        });\n        var eMode = bP.edgeMode();\n        return subBars.primary.map(function (d) {\n          var g = map.get(d.index);\n          return {\n            path: _or === 'vertical' ? edgeVert(d.x + d.width, d.y + d.height, g.x - g.width, g.y + g.height, g.x - g.width, g.y - g.height, d.x + d.width, d.y - d.height) : edgeHoriz(d.x - d.width, d.y + d.height, g.x - g.width, g.y - g.height, g.x + g.width, g.y - g.height, d.x + d.width, d.y + d.height),\n            primary: d.primary,\n            secondary: d.secondary,\n            value: d.value,\n            percent: d.percent\n          };\n        });\n        function edgeVert(x1, y1, x2, y2, x3, y3, x4, y4) {\n          // eslint-disable-next-line\n          if (eMode == 'straight') return ['M', x1, ',', y1, 'L', x2, ',', y2, 'L', x3, ',', y3, 'L', x4, ',', y4, 'z'].join('');\n          var mx1 = (x1 + x2) / 2,\n            mx3 = (x3 + x4) / 2;\n          return ['M', x1, ',', y1, 'C', mx1, ',', y1, ' ', mx1, ',', y2, ',', x2, ',', y2, 'L', x3, ',', y3, 'C', mx3, ',', y3, ' ', mx3, ',', y4, ',', x4, ',', y4, 'z'].join('');\n        }\n        function edgeHoriz(x1, y1, x2, y2, x3, y3, x4, y4) {\n          // eslint-disable-next-line\n          if (eMode == 'straight') return ['M', x1, ',', y1, 'L', x2, ',', y2, 'L', x3, ',', y3, 'L', x4, ',', y4, 'z'].join('');\n          var my1 = (y1 + y2) / 2,\n            my3 = (y3 + y4) / 2;\n          return ['M', x1, ',', y1, 'C', x1, ',', my1, ' ', x2, ',', my1, ',', x2, ',', y2, 'L', x3, ',', y3, 'C', x3, ',', my3, ' ', x4, ',', my3, ',', x4, ',', y4, 'z'].join('');\n        }\n      }\n      function bpmap(a /*array*/, p /*pad*/, m /*min*/, s /*start*/, e /*end*/) {\n        var r = m / (e - s - 2 * a.length * p); // cut-off for ratios\n        var ln = 0,\n          lp = 0,\n          t = d3.sum(a, function (d) {\n            return d.value;\n          }); // left over count and percent.\n        a.forEach(function (d) {\n          if (d.value < r * t) {\n            ln += 1;\n            lp += d.value;\n          }\n        });\n        var o = t < 1e-5 ? 0 : (e - s - 2 * a.length * p - ln * m) / (t - lp); // scaling factor for percent.\n        var b = s,\n          ret = [];\n        a.forEach(function (d) {\n          var v = d.value * o;\n          ret.push({\n            s: b + p + (v < m ? 0.5 * (m - v) : 0),\n            e: b + p + (v < m ? 0.5 * (m + v) : v),\n            p: t < 1e-5 ? 0 : d.value / t\n          });\n          b += 2 * p + (v < m ? m : v);\n        });\n        return ret;\n      }\n    };\n    bP.update = function (_data) {\n      data = _data;\n      var b1 = bP.bars();\n      var dur = bP.duration();\n      g.selectAll('.subBars').data(b1.subBars).transition().duration(dur).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).select('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh);\n      g.selectAll('.edges').data(b1.edges).transition().duration(dur).attr('d', function (d) {\n        return d.path;\n      }).style('fill-opacity', bP.edgeOpacity());\n      g.selectAll('.mainBars').data(b1.mainBars).transition().duration(dur).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).select('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh).style('fill-opacity', 0);\n    };\n    bP.mouseover = function (d) {\n      var newbars = bP.bars(d);\n      g.selectAll('.mainBars').filter(function (r) {\n        return r.part === d.part && r.key === d.key;\n      }).select('rect').style('stroke-opacity', 1);\n      g.selectAll('.subBars').data(newbars.subBars).transition().duration(bP.duration()).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).select('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh);\n      var e = g.selectAll('.edges').data(newbars.edges);\n      e.filter(function (t) {\n        return t[d.part] === d.key;\n      }).transition().duration(bP.duration()).style('fill-opacity', bP.edgeOpacity()).attr('d', function (d) {\n        return d.path;\n      });\n      e.filter(function (t) {\n        return t[d.part] !== d.key;\n      }).transition().duration(bP.duration()).style('fill-opacity', 0).attr('d', function (d) {\n        return d.path;\n      });\n      g.selectAll('.mainBars').data(newbars.mainBars).transition().duration(bP.duration()).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).select('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh);\n    };\n    bP.mouseout = function (d) {\n      var newbars = bP.bars();\n      g.selectAll('.mainBars').filter(function (r) {\n        return r.part === d.part && r.key === d.key;\n      }).select('rect').style('stroke-opacity', 0);\n      g.selectAll('.subBars').data(newbars.subBars).transition().duration(bP.duration()).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).select('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh);\n      g.selectAll('.edges').data(newbars.edges).transition().duration(bP.duration()).style('fill-opacity', bP.edgeOpacity()).attr('d', function (d) {\n        return d.path;\n      });\n      g.selectAll('.mainBars').data(newbars.mainBars).transition().duration(bP.duration()).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).select('rect').attr('x', fx).attr('y', fy).attr('width', fw).attr('height', fh);\n    };\n    function fx(d) {\n      return -d.width;\n    }\n    function fy(d) {\n      return -d.height;\n    }\n    function fw(d) {\n      return 2 * d.width;\n    }\n    function fh(d) {\n      return 2 * d.height;\n    }\n    return bP;\n  };\n  viz.gg = function () {\n    // eslint-disable-next-line\n    var innerRadius, outerRadius, startAngle, endAngle, needleColor, innerFaceColor, faceColor, domain, value, angleOffset, duration, ease, g, dpg, ticks, majorTicks, minorTickStart, minorTickEnd, majorTickStart, majorTickEnd, labelLocation;\n    var def = {\n      innerRadius: 20,\n      outerRadius: 150,\n      angleOffset: 0.7,\n      startAngle: -1.5 * π,\n      endAngle: 0.5 * π,\n      minorTickStart: 0.9,\n      minorTickEnd: 0.95,\n      majorTickStart: 0.82,\n      majorTickEnd: 0.95,\n      needleColor: '#de2c2c',\n      innerFaceColor: '#999999',\n      faceColor: '#666666',\n      domain: [0, 100],\n      duration: 500,\n      ease: 'cubicInOut',\n      ticks: d3.range(0, 101, 2),\n      majorTicks: function (d) {\n        return d % 10 === 0;\n      },\n      labelLocation: 0.7\n    };\n    function gg(_) {\n      g = _;\n      _.each(function () {\n        var g = d3.select(this);\n        var a = gg.scale();\n        var mS = gg.minorTickStart(),\n          mE = gg.minorTickEnd(),\n          MS = gg.majorTickStart(),\n          ME = gg.majorTickEnd();\n        var ticks = gg.ticks(),\n          mT = gg.majorTicks(),\n          lL = gg.labelLocation();\n        var or = gg.outerRadius();\n        g.append('circle').attr('r', or).style('fill', 'url(#vizgg3' + dpg + ')').attr('class', 'face');\n        g.append('circle').attr('r', gg.innerRadius()).style('fill', 'url(#vizgg2' + dpg + ')').style('filter', 'url(#vizgg5' + dpg + ')').attr('class', 'innerFace');\n        var tickg = g.append('g');\n        tickg.selectAll('line').data(ticks).enter().append('line').attr('class', function (d) {\n          return mT(d) ? 'majorTicks' : 'minorTicks';\n        }).attr('x1', function (d) {\n          return or * (mT(d) ? MS : mS) * Math.cos(a(d));\n        }).attr('y1', function (d) {\n          return or * (mT(d) ? MS : mS) * Math.sin(a(d));\n        }).attr('x2', function (d) {\n          return or * (mT(d) ? ME : mE) * Math.cos(a(d));\n        }).attr('y2', function (d) {\n          return or * (mT(d) ? ME : mE) * Math.sin(a(d));\n        });\n        g.selectAll('text').data(ticks.filter(mT)).enter().append('text').attr('class', 'label').attr('x', function (d) {\n          return or * lL * Math.cos(a(d));\n        }).attr('y', function (d) {\n          return or * lL * Math.sin(a(d));\n        }).attr('dy', 3).text(function (d) {\n          return d;\n        });\n        var r = gg.outerRadius() / def.outerRadius;\n        var rot = gg.scale()(gg.value()) * 180 / π + 90;\n        g.append('g').attr('transform', 'translate(1,1)').selectAll('.needleshadow').data([0]).enter().append('g').attr('transform', 'rotate(' + rot + ')').attr('class', 'needleshadow').append('path').attr('d', ['m 0', -130 * r, 5 * r, 175 * r, -10 * r, '0,z'].join(',')).style('filter', 'url(#vizgg6' + dpg + ')');\n        g.selectAll('.needle').data([0]).enter().append('g').attr('transform', 'rotate(' + rot + ')').attr('class', 'needle').append('polygon').attr('points', [-0.5 * r, -130 * r, 0.5 * r, -130 * r, 5 * r, 45 * r, -5 * r, 45 * r].join(',')).style('fill', 'url(#vizgg4' + dpg + ')');\n      });\n    }\n    gg.scale = function () {\n      return d3.scale.linear().domain(gg.domain()).range([def.startAngle + gg.angleOffset(), def.endAngle - gg.angleOffset()]);\n    };\n    gg.innerRadius = function (_) {\n      if (!arguments.length) return typeof innerRadius !== 'undefined' ? innerRadius : def.innerRadius;\n      innerRadius = _;\n      return gg;\n    };\n    gg.outerRadius = function (_) {\n      if (!arguments.length) return typeof outerRadius !== 'undefined' ? outerRadius : def.outerRadius;\n      outerRadius = _;\n      return gg;\n    };\n    gg.angleOffset = function (_) {\n      if (!arguments.length) return typeof angleOffset !== 'undefined' ? angleOffset : def.angleOffset;\n      angleOffset = _;\n      return gg;\n    };\n    gg.labelLocation = function (_) {\n      if (!arguments.length) return typeof labelLocation !== 'undefined' ? labelLocation : def.labelLocation;\n      labelLocation = _;\n      return gg;\n    };\n    gg.ticks = function (_) {\n      if (!arguments.length) return typeof ticks !== 'undefined' ? ticks : def.ticks;\n      ticks = _;\n      return gg;\n    };\n    gg.majorTicks = function (_) {\n      if (!arguments.length) return typeof majorTicks !== 'undefined' ? majorTicks : def.majorTicks;\n      majorTicks = _;\n      return gg;\n    };\n    gg.minorTickStart = function (_) {\n      if (!arguments.length) return typeof minorTickStart !== 'undefined' ? minorTickStart : def.minorTickStart;\n      minorTickStart = _;\n      return gg;\n    };\n    gg.minorTickEnd = function (_) {\n      if (!arguments.length) return typeof minorTickEnd !== 'undefined' ? minorTickEnd : def.minorTickEnd;\n      minorTickEnd = _;\n      return gg;\n    };\n    gg.majorTickStart = function (_) {\n      if (!arguments.length) return typeof majorTickStart !== 'undefined' ? majorTickStart : def.majorTickStart;\n      majorTickStart = _;\n      return gg;\n    };\n    gg.majorTickEnd = function (_) {\n      if (!arguments.length) return typeof majorTickEnd !== 'undefined' ? majorTickEnd : def.majorTickEnd;\n      majorTickEnd = _;\n      return gg;\n    };\n    gg.needleColor = function (_) {\n      if (!arguments.length) return typeof needleColor !== 'undefined' ? needleColor : def.needleColor;\n      needleColor = _;\n      return gg;\n    };\n    gg.innerFaceColor = function (_) {\n      if (!arguments.length) return typeof innerFaceColor !== 'undefined' ? innerFaceColor : def.innerFaceColor;\n      innerFaceColor = _;\n      return gg;\n    };\n    gg.faceColor = function (_) {\n      if (!arguments.length) return typeof faceColor !== 'undefined' ? faceColor : def.faceColor;\n      faceColor = _;\n      return gg;\n    };\n    gg.domain = function (_) {\n      if (!arguments.length) return typeof domain !== 'undefined' ? domain : def.domain;\n      domain = _;\n      return gg;\n    };\n    gg.duration = function (_) {\n      if (!arguments.length) return typeof duration !== 'undefined' ? duration : def.duration;\n      duration = _;\n      return gg;\n    };\n    gg.ease = function (_) {\n      if (!arguments.length) return typeof ease !== 'undefined' ? ease : def.ease;\n      ease = _;\n      return gg;\n    };\n    gg.value = function (_) {\n      if (!arguments.length) return typeof value !== 'undefined' ? value : 0.5 * (def.domain[0] + def.domain[1]);\n      value = _;\n      return gg;\n    };\n    gg.defs = function (svg, dg) {\n      var defs = svg.append('defs');\n      dpg = dg;\n      var nc = gg.needleColor();\n      var fc = gg.innerFaceColor();\n      var fbc = gg.faceColor();\n      var lg1 = viz.defs(defs).lG().id('vizgg1' + dg).sel();\n      viz.defs(lg1).stop().offset('0').stopColor(nc);\n      viz.defs(lg1).stop().offset('1').stopColor(d3.rgb(nc).darker(1));\n      var rg1 = viz.defs(defs).rG().id('vizgg2' + dg).fx('35%').fy('65%').r('65%').spreadMethod('pad').sel();\n      viz.defs(rg1).stop().offset('0').stopColor(fc);\n      viz.defs(rg1).stop().offset('1').stopColor(d3.rgb(fc).darker(2));\n      var rg2 = viz.defs(defs).rG().id('vizgg3' + dg).fx('35%').fy('65%').r('65%').spreadMethod('pad').sel();\n      viz.defs(rg2).stop().offset('0').stopColor(fbc);\n      viz.defs(rg2).stop().offset('1').stopColor(d3.rgb(fbc).darker(2));\n      viz.defs(defs).lG().id('vizgg4' + dg).gradientUnits('userSpaceOnUse').y1('80').x1('-10').y2('80').x2('10').xlink('#vizgg1' + dg);\n      var fl1 = viz.defs(defs).filter().id('vizgg5' + dg).sel();\n      viz.defs(fl1).feFlood().result('flood').floodColor('rgb(0,0,0)').floodOpacity('0.6');\n      viz.defs(fl1).feComposite().result('composite1').operator('in').in2('SourceGraphic').in('flood');\n      viz.defs(fl1).feGaussianBlur().result('blur').stdDeviation('2').in('composite1');\n      viz.defs(fl1).feOffset().result('offset').dy('2').dx('2');\n      viz.defs(fl1).feComposite().result('composite2').operator('over').in2('offset').in('SourceGraphic');\n      var fl2 = viz.defs(defs).filter().x('-0.3').y('-0.3').height('1.8').width('1.8').id('vizgg6' + dg).sel();\n      viz.defs(fl2).feGaussianBlur().stdDeviation('2');\n    };\n    gg.setNeedle = function (a) {\n      var newAngle = gg.scale()(a) * 180 / π + 90,\n        oldAngle = gg.scale()(gg.value()) * 180 / π + 90,\n        d3ease = gg.ease();\n      g.selectAll('.needle').data([a]).transition().duration(gg.duration()).attrTween('transform', function (d) {\n        return iS(oldAngle, newAngle);\n      }).ease(d3ease);\n      g.selectAll('.needleshadow').data([a]).transition().duration(gg.duration()).attrTween('transform', function (d) {\n        return iS(oldAngle, newAngle);\n      }).ease(d3ease).each('end', function () {\n        this.angle = a;\n      });\n      gg.value(a);\n      function iS(o, n) {\n        return d3.interpolateString('rotate(' + o + ')', 'rotate(' + n + ')');\n      }\n    };\n    return gg;\n  };\n  viz.ch = function () {\n    var source = function (d) {\n        return d[0];\n      },\n      target = function (d) {\n        return d[1];\n      },\n      value = function (d) {\n        return d[2];\n      },\n      label = function (d) {\n        return d.source + ' (' + d.value + ')';\n      },\n      sort = d3.ascending,\n      padding = 0.03,\n      startAngle = 0,\n      innerRadius = 180,\n      outerRadius = 200,\n      chordOpacity = 0.7,\n      labelPadding = 0.02,\n      min = 0,\n      duration = 500,\n      reComputeLayout = true,\n      g,\n      data,\n      fill,\n      keys,\n      subgrp,\n      chordExist,\n      groups,\n      chords,\n      newgroups,\n      newchords;\n    function ch(_) {\n      g = _;\n      if (!chords) relayout();\n      function arc(d) {\n        return viz_arc([innerRadius, outerRadius, d.startAngle, d.endAngle]);\n      }\n      function chord(d) {\n        return viz_chord(innerRadius, d.startAngle, d.endAngle, innerRadius, d.endStartAngle, d.endEndAngle);\n      }\n      _.each(function () {\n        var g = d3.select(this);\n        var grps = g.selectAll('.groups').data(groups).enter().append('g').attr('class', 'groups').on('mouseover', ch.mouseover).on('mouseout', ch.mouseout);\n        var labels = grps.append('text').attr('class', 'label');\n        var r = (1 + ch.labelPadding()) * ch.outerRadius();\n        var lbl = ch.label();\n        // eslint-disable-next-line\n        labels.filter(function (d) {\n          return d.type == 'g';\n        }).attr('x', function (d) {\n          return r * Math.cos(angle(d));\n        }).attr('y', function (d) {\n          return r * Math.sin(angle(d));\n        }).text(lbl).style('text-anchor', function (d) {\n          var a = angle(d);\n          return a < π2 || a > τ - π2 ? 'start' : 'end';\n        }).each(function (d) {\n          this._current = d;\n        });\n        grps.append('path').style('fill', function (d) {\n          return fill(d.source);\n        }).style('stroke', function (d) {\n          return fill(d.source);\n        }).attr('d', arc).each(function (d) {\n          this._current = d;\n        }) // eslint-disable-next-line\n        .filter(function (d) {\n          return d.type == 'g';\n        });\n        g.append('g').attr('class', 'chords').selectAll('.chord').data(chords).enter().append('g').attr('class', 'chord').append('path').each(function (d) {\n          this._current = d;\n        }).attr('d', chord).style('fill', function (d) {\n          return fill(d.target);\n        }).style('opacity', ch.chordOpacity()).style('stroke', function (d) {\n          return fill(d.target);\n        }).style('display', function (d) {\n          return d.display ? 'inline' : 'none';\n        });\n      });\n    }\n    ch.data = function (_) {\n      if (!arguments.length) return data;\n      data = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.fill = function (_) {\n      if (!arguments.length) return fill;\n      fill = _;\n      return ch;\n    };\n    ch.duration = function (_) {\n      if (!arguments.length) return duration;\n      duration = _;\n      return ch;\n    };\n    ch.chordOpacity = function (_) {\n      if (!arguments.length) return chordOpacity;\n      chordOpacity = _;\n      return ch;\n    };\n    ch.innerRadius = function (_) {\n      if (!arguments.length) return innerRadius;\n      innerRadius = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.outerRadius = function (_) {\n      if (!arguments.length) return outerRadius;\n      outerRadius = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.source = function (_) {\n      if (!arguments.length) return source;\n      source = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.target = function (_) {\n      if (!arguments.length) return target;\n      target = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.value = function (_) {\n      if (!arguments.length) return value;\n      value = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.padding = function (_) {\n      if (!arguments.length) return padding;\n      padding = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.labelPadding = function (_) {\n      if (!arguments.length) return labelPadding;\n      labelPadding = _;\n      return ch;\n    };\n    ch.sort = function (_) {\n      if (!arguments.length) return sort;\n      sort = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.startAngle = function (_) {\n      if (!arguments.length) return startAngle;\n      startAngle = _;\n      reComputeLayout = true;\n      return ch;\n    };\n    ch.chords = function () {\n      if (reComputeLayout) relayout();\n      return chords;\n    };\n    ch.groups = function () {\n      if (reComputeLayout) relayout();\n      return groups;\n    };\n    ch.label = function (_) {\n      if (!arguments.length) return label;\n      label = _;\n      return ch;\n    };\n    ch.mouseover = function (d) {\n      relayouts(d.source);\n      transition(1);\n    };\n    ch.mouseout = function (d) {\n      transition(0);\n    };\n    function transition(f) {\n      function arc(d, t) {\n        return viz_arc([innerRadius, outerRadius, d.startAngle, d.endAngle]);\n      }\n      function chord(d) {\n        return viz_chord(innerRadius, d.startAngle, d.endAngle, innerRadius, d.endStartAngle, d.endEndAngle);\n      }\n      function chordTween(a) {\n        var i = d3.interpolate(this._current, a);\n        this._current = i(0);\n        return function (t) {\n          return chord(i(t));\n        };\n      }\n      function arcTween(a) {\n        var i = d3.interpolate(this._current, a);\n        this._current = i(0);\n        return function (t) {\n          return arc(i(t), t);\n        };\n      }\n      function labelTweenx(a) {\n        var i = d3.interpolate(this._current, a);\n        this._current = i(0);\n        return function (t) {\n          return r * Math.cos(angle(i(t)));\n        };\n      }\n      function labelTweeny(a) {\n        var i = d3.interpolate(this._current, a);\n        this._current = i(0);\n        return function (t) {\n          return r * Math.sin(angle(i(t)));\n        };\n      }\n      var gp = g.selectAll('.groups').data(f ? newgroups : ch.groups());\n      var r = (1 + ch.labelPadding()) * ch.outerRadius();\n      var lbl = ch.label();\n      gp.select('path').transition().duration(duration).attrTween('d', arcTween);\n      // eslint-disable-next-line\n      gp.select('.label').filter(function (d) {\n        return d.type == 'g';\n      }).transition().duration(duration).attrTween('x', labelTweenx).attrTween('y', labelTweeny).text(lbl).style('text-anchor', function (d) {\n        var a = angle(d);\n        return a < π2 || a > τ - π2 ? 'start' : 'end';\n      });\n      var opacity = ch.chordOpacity();\n      g.select('.chords').selectAll('.chord').data(f ? newchords : ch.chords()).select('path').transition().duration(duration).attrTween('d', chordTween).style('opacity', function (d) {\n        return d.display ? opacity : 0;\n      });\n    }\n    function angle(d) {\n      return viz_reduceAngle((d.startAngle + d.endAngle) / 2);\n    } // eslint-disable-next-line\n    function isBottom(d) {\n      return angle(d) < 1.5 * π && angle(d) >= 0.5 * π ? 1 : 0;\n    }\n    function relayout() {\n      keys = [];\n      data.forEach(function (d) {\n        // eslint-disable-next-line\n        if (keys.indexOf(source(d)) == -1) keys.push(source(d)); // eslint-disable-next-line\n        if (keys.indexOf(target(d)) == -1) keys.push(target(d));\n      });\n      keys = keys.sort(sort);\n      subgrp = {};\n      chordExist = {};\n      keys.forEach(function (k) {\n        subgrp[k] = {};\n        chordExist[k] = {};\n        keys.forEach(function (l) {\n          subgrp[k][l] = 0;\n          chordExist[k][l] = false;\n        });\n      });\n      data.forEach(function (d) {\n        var s = source(d),\n          t = target(d);\n        subgrp[s][t] += value(d);\n        chordExist[s][t] = true;\n      });\n      groups = [];\n      keys.forEach(function (k, i) {\n        //if(chordExist[k][k])\n        groups.push({\n          source: k,\n          type: 'gs',\n          value: 0,\n          skipPad: true,\n          index: i\n        });\n        groups.push({\n          source: k,\n          type: 'g',\n          value: d3.sum(keys, function (d) {\n            return subgrp[k][d];\n          }),\n          skipPad: false,\n          index: i\n        });\n      });\n      viz_circularPartition(groups, padding, min, undefined, startAngle);\n      chords = []; // eslint-disable-next-line\n      groups.filter(function (g) {\n        return g.type == 'g';\n      }).forEach(function (g, gi) {\n        var gia = viz_shiftarray(keys.length, gi);\n        var grpbarsgia = viz_getbars(gia.map(function (d) {\n          return subgrp[g.source][keys[d]];\n        }), 0, 0, g.startAngle, g.endAngle);\n        gia.forEach(function (si, i) {\n          var t1 = grpbarsgia[i];\n          //if(chordExist[g.source][keys[si]])\n          chords.push({\n            startAngle: t1.c - t1.v / 2,\n            endAngle: t1.c + t1.v / 2,\n            value: t1.value,\n            source: g.source,\n            target: keys[si],\n            type: 'c',\n            display: chordExist[g.source][keys[si]],\n            index: gi,\n            subindex: si,\n            indexsubindex: gi + '-' + si\n          });\n        });\n      });\n      var m = d3.map(chords, function (d) {\n        return d.indexsubindex;\n      });\n      chords.forEach(function (d) {\n        // eslint-disable-next-line\n        if (d.subindex == d.index) {\n          d.endStartAngle = d.startAngle;\n          d.endEndAngle = d.startAngle;\n          return;\n        }\n        var z = m.get(d.subindex + '-' + d.index);\n        d.endStartAngle = z.startAngle;\n        d.endEndAngle = z.startAngle;\n      });\n      reComputeLayout = false;\n    }\n    function relayouts(fixedSource) {\n      // eslint-disable-next-line\n      var fg = groups.filter(function (g) {\n        return g.source == fixedSource && g.type == 'g';\n      })[0];\n      newgroups = [];\n      keys.forEach(function (k, i) {\n        newgroups.push({\n          source: k,\n          startAngle: fg.startAngle,\n          endAngle: fg.endAngle,\n          padAngle: fg.padAngle,\n          percent: fg.percent,\n          type: 'gs',\n          // eslint-disable-next-line\n          value: k == fixedSource ? subgrp[k][k] : 0,\n          // eslint-disable-next-line\n          skipPad: k == fixedSource && chordExist[k][k] ? false : true,\n          index: i\n        }); // eslint-disable-next-line\n        if (k == fixedSource) newgroups.push({\n          source: k,\n          startAngle: fg.startAngle,\n          endAngle: fg.endAngle,\n          padAngle: fg.padAngle,\n          percent: fg.percent,\n          type: 'g',\n          value: fg.value,\n          skipPad: false,\n          index: i\n        });else newgroups.push({\n          source: k,\n          type: 'g',\n          value: subgrp[fixedSource][k],\n          skipPad: false,\n          index: i\n        });\n      });\n      viz_circularPartition(newgroups, padding, min, fixedSource, startAngle);\n      function mid(z) {\n        return z.endAngle + z.startAngle;\n      }\n      var sm = mid(fg);\n      groups.forEach(function (g, i) {\n        var g1 = newgroups[i];\n        var f = mid(g) < sm;\n        g1.startAngle -= f ? τ : 0;\n        g1.endAngle -= f ? τ : 0;\n      });\n      newchords = []; // eslint-disable-next-line\n      newgroups.filter(function (g) {\n        return g.type == 'g';\n      }).forEach(function (g, gi) {\n        var gia = viz_shiftarray(keys.length, gi);\n        var a0 = gia.map(function (d) {\n          var k = keys[d]; // eslint-disable-next-line\n          return g.source == fixedSource ? subgrp[g.source][k] : k == fixedSource ? subgrp[k][g.source] : 0;\n        });\n        var grpbarsgia = viz_getbars(a0, 0, 0, g.startAngle, g.endAngle);\n        gia.forEach(function (si, i) {\n          var t1 = grpbarsgia[i];\n          newchords.push({\n            startAngle: t1.c - t1.v / 2,\n            endAngle: t1.c + t1.v / 2,\n            value: t1.value,\n            source: g.source,\n            target: keys[si],\n            type: 'c',\n            display: g.source === fixedSource,\n            index: gi,\n            subindex: si,\n            indexsubindex: gi + '-' + si\n          });\n        });\n      });\n      var m = d3.map(newchords.map(function (d) {\n        return {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          indexsubindex: d.indexsubindex\n        };\n      }), function (d) {\n        return d.indexsubindex;\n      }); // eslint-disable-next-line\n      var gmap = d3.map(newgroups.filter(function (d) {\n        return d.type == 'gs';\n      }), function (d) {\n        return d.source;\n      });\n      newchords.forEach(function (d) {\n        // eslint-disable-next-line\n        if (d.subindex == d.index) {\n          var g0 = gmap.get(d.source);\n          d.endStartAngle = g0.startAngle;\n          d.endEndAngle = g0.endAngle;\n          return;\n        }\n        var z = m.get(d.subindex + '-' + d.index);\n        d.endStartAngle = z.startAngle;\n        d.endEndAngle = z.endAngle;\n        if (d.source !== fixedSource) {\n          d.startAngle = d.endAngle;\n          d.endEndAngle = d.endStartAngle;\n        }\n      });\n    }\n    function viz_circularPartition(data, pad, min, fixedSource, startAngle) {\n      var fixed = fixedSource !== undefined,\n        ind = 0;\n      if (fixed) {\n        var found = false;\n        for (; ind < data.length; ind++) {\n          // eslint-disable-next-line\n          if (data[ind].source == fixedSource && data[ind].type == 'g') {\n            found = true;\n            break;\n          }\n        }\n        if (!found) console.log(\"The fixed source '\" + fixedSource + \"' is not a valid key\");\n      }\n      var dorder = d3.range(data.length);\n      if (fixed) dorder = dorder.slice(ind).concat(dorder.slice(0, ind));\n      // eslint-disable-next-line\n      var a0 = data.filter(function (d) {\n        return (!fixed || d.source !== fixedSource || d.type != 'g') && !d.skipPad;\n      }).map(function (d) {\n        return d.value;\n      });\n      var ta = 2 * Math.PI - (fixed ? data[ind].endAngle - data[ind].startAngle + 2 * pad : 0);\n      var x = fixed ? data[ind].endAngle + pad : startAngle,\n        total = d3.sum(a0);\n      var r = viz_getratio(a0, pad, min, ta <= 0 ? 0 : ta, total, fixed ? true : false);\n      dorder.slice(fixed ? 1 : 0).forEach(function (i) {\n        var v = r * data[i].value;\n        var w = (v < min ? min - v : 0) / 2;\n        data[i].startAngle = x;\n        data[i].endAngle = x + v;\n        data[i].padAngle = w;\n        data[i].percent = data[i].value / (total || 1);\n        x += v + w + (data[i].skipPad ? 0 : pad);\n      });\n    }\n    return ch;\n  };\n  viz.defs = function (_) {\n    var defs = {},\n      sel = _;\n    defs.sel = function () {\n      return sel;\n    };\n    defs.lG = function () {\n      sel = sel.append('linearGradient');\n      return defs;\n    };\n    defs.rG = function () {\n      sel = sel.append('radialGradient');\n      return defs;\n    };\n    defs.stop = function () {\n      sel = sel.append('stop');\n      return defs;\n    };\n    defs.filter = function () {\n      sel = sel.append('filter');\n      return defs;\n    };\n    defs.feFlood = function () {\n      sel = sel.append('feFlood');\n      return defs;\n    };\n    defs.feComposite = function () {\n      sel = sel.append('feComposite');\n      return defs;\n    };\n    defs.feOffset = function () {\n      sel = sel.append('feOffset');\n      return defs;\n    };\n    defs.feGaussianBlur = function () {\n      sel = sel.append('feGaussianBlur');\n      return defs;\n    };\n    defs.result = function (_) {\n      sel = sel.attr('result', _);\n      return defs;\n    };\n    defs.floodColor = function (_) {\n      sel = sel.attr('flood-color', _);\n      return defs;\n    };\n    defs.floodOpacity = function (_) {\n      sel = sel.attr('flood-opacity', _);\n      return defs;\n    };\n    defs.stdDeviation = function (_) {\n      sel = sel.attr('stdDeviation', _);\n      return defs;\n    };\n    defs.operator = function (_) {\n      sel = sel.attr('operator', _);\n      return defs;\n    };\n    defs.height = function (_) {\n      sel = sel.attr('height', _);\n      return defs;\n    };\n    defs.width = function (_) {\n      sel = sel.attr('width', _);\n      return defs;\n    };\n    defs.in = function (_) {\n      sel = sel.attr('in', _);\n      return defs;\n    };\n    defs.in2 = function (_) {\n      sel = sel.attr('in2', _);\n      return defs;\n    };\n    defs.id = function (_) {\n      sel = sel.attr('id', _);\n      return defs;\n    };\n    defs.fx = function (_) {\n      sel = sel.attr('fx', _);\n      return defs;\n    };\n    defs.fy = function (_) {\n      sel = sel.attr('fy', _);\n      return defs;\n    };\n    defs.dx = function (_) {\n      sel = sel.attr('dx', _);\n      return defs;\n    };\n    defs.dy = function (_) {\n      sel = sel.attr('dy', _);\n      return defs;\n    };\n    defs.x1 = function (_) {\n      sel = sel.attr('x1', _);\n      return defs;\n    };\n    defs.y1 = function (_) {\n      sel = sel.attr('y1', _);\n      return defs;\n    };\n    defs.x2 = function (_) {\n      sel = sel.attr('x2', _);\n      return defs;\n    };\n    defs.y2 = function (_) {\n      sel = sel.attr('y2', _);\n      return defs;\n    };\n    defs.x = function (_) {\n      sel = sel.attr('x', _);\n      return defs;\n    };\n    defs.y = function (_) {\n      sel = sel.attr('y', _);\n      return defs;\n    };\n    defs.r = function (_) {\n      sel = sel.attr('r', _);\n      return defs;\n    };\n    defs.spreadMethod = function (_) {\n      sel = sel.attr('spreadMethod', _);\n      return defs;\n    };\n    defs.gradientUnits = function (_) {\n      sel = sel.attr('gradientUnits', _);\n      return defs;\n    };\n    defs.xlink = function (_) {\n      sel = sel.attr('xlink:href', _);\n      return defs;\n    };\n    defs.offset = function (_) {\n      sel = sel.attr('offset', _);\n      return defs;\n    };\n    defs.stopColor = function (_) {\n      sel = sel.attr('stop-color', _);\n      return defs;\n    };\n    defs.path = function () {\n      sel = sel.append('path');\n      return defs;\n    };\n    defs.d = function (_) {\n      sel = sel.attr('d', _);\n      return defs;\n    };\n    return defs;\n  };\n  viz.bar = function () {\n    function bar(_) {\n      this.g = _;\n      _.each(function () {\n        var g = d3.select(this);\n        var bars = bar.bars();\n        var dock = bar.dock(); // eslint-disable-next-line\n        var top_ = dock == 't',\n          bot = dock == 'b',\n          left = dock == 'l',\n          rght = dock == 'r'; // eslint-disable-next-line\n        var topbot = dock == 't' || dock == 'b';\n        var primaryBars = g.selectAll('.primarybars').data(bars).enter().append('g').attr('class', 'primaryBars').attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n        var secondaryBars = primaryBars.selectAll('.secondaryBars').data(function (d) {\n          return d.values;\n        }).enter().append('g').attr('class', 'secondaryBars').attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n        var fill = bar.fill();\n        var s = secondaryBars.append('rect').attr('width', viz_width).attr('height', viz_height);\n        var l = bar.paddingLabel();\n        if (fill !== undefined) s.style('fill', fill);\n        primaryBars.append('text').attr('class', 'primaryvalue').attr('x', function (d) {\n          return d.wf * d.width;\n        }).attr('y', function (d) {\n          return d.hf * d.height;\n        }).attr('dx', function (d) {\n          return 2 * l * (d.wf - 0.5);\n        }).attr('dy', function (d) {\n          return topbot ? d.hf ? 3 * l : -l : l;\n        }).style('text-anchor', function (d) {\n          return topbot ? 'middle' : d.wf ? 'start' : 'end';\n        }).text(bar.valuePrimary());\n        primaryBars.append('text').attr('class', 'primarykey').attr('x', function (d) {\n          return (1 - d.wf) * d.width;\n        }).attr('y', function (d) {\n          return (1 - d.hf) * d.height;\n        }).attr('dx', function (d) {\n          return !topbot ? d.wf ? -l : l : 0;\n        }).attr('dy', function (d) {\n          return topbot ? d.hf ? -l : 3 * l : l;\n        }).style('text-anchor', function (d) {\n          return topbot ? 'middle' : d.wf ? 'end' : 'start';\n        }).text(viz_key);\n        secondaryBars.append('text').attr('class', 'secondaryvalue').attr('x', viz_width2).attr('y', viz_height2).attr('dy', l).text(bar.valueSecondary()).style('text-anchor', 'middle');\n      });\n    }\n    bar.data = viz_assign(bar);\n    bar.width = viz_assign_default(bar, 400);\n    bar.height = viz_assign_default(bar, 400);\n    bar.dock = viz_assign_default(bar, 'b');\n    bar.fill = viz_assign_default(bar, undefined);\n    bar.paddingInner = viz_assign_default(bar, 0.1);\n    bar.paddingOuter = viz_assign_default(bar, 0.1);\n    bar.paddingLabel = viz_assign_default(bar, 6);\n    bar.value = viz_assign_default(bar, viz_d1);\n    bar.keyPrimary = viz_assign_default(bar, viz_d0);\n    bar.keySecondary = viz_assign_default(bar, undefined);\n    bar.sortPrimary = viz_assign_default(bar, d3.ascending);\n    bar.sortSecondary = viz_assign_default(bar, d3.ascending);\n    bar.valuePrimary = viz_assign_default(bar, viz_value);\n    bar.valueSecondary = viz_assign_default(bar, viz_value);\n    bar.valueDomain = viz_assign_default(bar, undefined);\n    bar.primaryKeys = function () {\n      return d3.set(this.data, bar.keyPrimary()).values().sort(bar.sortPrimary());\n    };\n    bar.keyScale = function () {\n      var dock = bar.dock();\n      var range = {\n        l: bar.height(),\n        r: bar.height(),\n        t: bar.width(),\n        b: bar.width()\n      };\n      return d3.scaleBand().domain(bar.primaryKeys()).range([0, range[dock]]).paddingInner(bar.paddingInner()).paddingOuter(bar.paddingOuter());\n    };\n    function nest() {\n      var noSecondary = bar.keySecondary() === undefined;\n      var ps = d3.nest().key(bar.keyPrimary()).sortKeys(bar.sortPrimary());\n      if (!noSecondary) ps = ps.key(bar.keySecondary()).sortKeys(bar.sortSecondary());\n      var v = bar.value();\n      ps = ps.rollup(function (d) {\n        return d3.sum(d, v);\n      }).entries(bar.data());\n      if (noSecondary) ps.forEach(function (d) {\n        d.values = [{\n          value: d.value\n        }];\n        delete d.value;\n      });\n      return ps;\n    }\n    bar.valueScale = function () {\n      var dock = bar.dock(); // eslint-disable-next-line\n      var bot = dock == 'b',\n        left = dock == 'l',\n        rght = dock == 'r';\n      var h = bar.height(),\n        w = bar.width();\n      var range = left ? [0, w] : rght ? [w, 0] : bot ? [h, 0] : [0, h];\n      var domain = bar.valueDomain(); // eslint-disable-next-line\n      if (domain == undefined) {\n        var ps = nest();\n        var min = d3.min(ps, function (d) {\n          return d3.sum(d.values, viz_value);\n        });\n        var max = d3.max(ps, function (d) {\n          return d3.sum(d.values, viz_value);\n        });\n        domain = [Math.min(0, min), max];\n      }\n      return d3.scaleLinear().domain(domain).range(range);\n    };\n    bar.bars = function () {\n      // eslint-disable-next-line\n      var data = bar.data();\n      var h = bar.height(),\n        w = bar.width();\n      var dock = bar.dock(); // eslint-disable-next-line\n      var top_ = dock == 't',\n        bot = dock == 'b',\n        left = dock == 'l',\n        rght = dock == 'r'; // eslint-disable-next-line\n      var topbot = dock == 't' || dock == 'b';\n      var ps = nest();\n      var keyScale = bar.keyScale();\n      var domain = bar.valueDomain();\n      var range = left ? [0, w] : rght ? [w, 0] : bot ? [h, 0] : [0, h]; // eslint-disable-next-line\n      if (domain == undefined) {\n        var min = d3.min(ps, function (d) {\n          return d3.sum(d.values, viz_value);\n        });\n        var max = d3.max(ps, function (d) {\n          return d3.sum(d.values, viz_value);\n        });\n        domain = [Math.min(0, min), max];\n      }\n      var valueScale = d3.scaleLinear().domain(domain).range(range);\n      var bw = keyScale.bandwidth();\n      var d0 = valueScale(0);\n      ps.forEach(function (d) {\n        d.value = d3.sum(d.values, viz_value);\n        var d1 = valueScale(d.value),\n          absd = Math.abs(d1 - d0),\n          mind = Math.min(d0, d1);\n        d.width = topbot ? bw : absd;\n        d.height = !topbot ? bw : absd;\n        d.x = topbot ? keyScale(d.key) : mind;\n        d.y = !topbot ? keyScale(d.key) : mind;\n        d.wf = topbot ? 0.5 : left ? d.value < 0 ? 0 : 1 : d.value < 0 ? 1 : 0;\n        d.hf = !topbot ? 0.5 : bot ? d.value < 0 ? 1 : 0 : d.value < 0 ? 0 : 1;\n        var z = bot ? 0 : rght ? 0 : 0;\n        d.values.forEach(function (v) {\n          v.primaryKey = d.key;\n          v.secondaryKey = v.key;\n          delete v.key;\n          var v0 = valueScale(z),\n            v1 = valueScale(z += v.value),\n            absv = Math.abs(v1 - v0),\n            minv = Math.min(v0, v1);\n          v.width = !topbot ? absv : bw;\n          v.height = topbot ? absv : bw;\n          v.x = !topbot ? minv - d.x : 0;\n          v.y = topbot ? minv - d.y : 0;\n        });\n      });\n      return ps;\n    };\n    return bar;\n  };\n  viz.lg = function () {\n    function lg(_) {\n      this.g = _;\n      _.each(function () {\n        var g = d3.select(this);\n        var rows = lg.rows(),\n          data = lg.data(); // eslint-disable-next-line\n        rows = rows == undefined ? data.length : Math.min(rows, data.length);\n        var cols = Math.ceil(data.length / rows);\n        var rowScale = d3.scaleBand().domain(d3.range(rows)).range([0, lg.height()]).paddingInner(lg.paddingInner());\n        var colScale = d3.scaleBand().domain(d3.range(cols)).range([0, lg.width()]);\n        // eslint-disable-next-line\n        var size = lg.size(),\n          cellHeight = rowScale.bandwidth(),\n          cellWidth = colScale.bandwidth(),\n          paddingLabel = lg.paddingLabel();\n        var loc = d3.range(data.length).map(function (k) {\n          var x = k % cols,\n            y = (k - x) / cols;\n          return {\n            x: colScale(x),\n            y: rowScale(y),\n            width: size,\n            height: cellHeight,\n            key: data[k]\n          };\n        });\n        var legendg = g.selectAll('.legendg').data(loc, function (d) {\n          return d.key;\n        }).enter().append('g').attr('class', 'legendg').attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n        legendg.append('text').attr('x', function (d) {\n          return size + paddingLabel;\n        }).attr('y', function (d) {\n          return d.height / 2;\n        }).attr('dy', 6).text(function (d) {\n          return d.key;\n        });\n        legendg.each(lg.draw());\n        var fill = lg.fill();\n        if (fill !== undefined) {\n          legendg.selectAll('.legend-icon').style('fill', fill);\n        }\n      });\n    }\n    lg.data = viz_assign(lg);\n    lg.rows = viz_assign_default(lg, undefined);\n    lg.width = viz_assign_default(lg, 100);\n    lg.height = viz_assign_default(lg, 200);\n    lg.paddingInner = viz_assign_default(lg, 0.1);\n    lg.paddingLabel = viz_assign_default(lg, 6);\n    lg.size = viz_assign_default(lg, 12);\n    lg.fill = viz_assign_default(lg, undefined);\n    lg.rect = function (d) {\n      d3.select(this).append('rect').attr('class', 'legend-icon').attr('height', viz_height).attr('width', viz_width);\n    };\n    lg.circle = function (d) {\n      d3.select(this).append('circle').attr('class', 'legend-icon').attr('r', Math.min(d.height, d.width)).attr('cx', viz_width2).attr('cy', viz_height2);\n    };\n    lg.draw = viz_assign_default(lg, lg.rect);\n    return lg;\n  }; // eslint-disable-next-line\n  function viz_d(d) {\n    return d;\n  }\n  function viz_d0(d) {\n    return d[0];\n  }\n  function viz_d1(d) {\n    return d[1];\n  } // eslint-disable-next-line\n  function viz_x(d) {\n    return d.x;\n  } // eslint-disable-next-line\n  function viz_y(d) {\n    return d.y;\n  }\n  function viz_height(d) {\n    return d.height;\n  }\n  function viz_width(d) {\n    return d.width;\n  }\n  function viz_height2(d) {\n    return d.height / 2;\n  }\n  function viz_width2(d) {\n    return d.width / 2;\n  }\n  function viz_key(d) {\n    return d.key;\n  }\n  function viz_value(d) {\n    return d.value;\n  }\n  function viz_assign(o) {\n    var x;\n    return function (_) {\n      if (!arguments.length) return x;\n      x = _;\n      return o;\n    };\n  }\n  function viz_assign_default(o, d) {\n    var x;\n    return function (_) {\n      if (!arguments.length) return typeof x !== 'undefined' ? x : d;\n      x = _;\n      return o;\n    };\n  }\n  function viz_reduceAngle(a) {\n    while (a > τ) a -= τ;\n    while (a < 0) a += τ;\n    return a;\n  } // eslint-disable-next-line\n  function viz_polar(r, a) {\n    return {\n      x: r * Math.cos(a),\n      y: r * Math.sin(a)\n    };\n  }\n  function viz_getratio(a0, p, m, h, tt, f) {\n    if (tt <= 0 || h <= 0) return 0;\n    var a = a0.concat().sort(d3.ascending);\n    var h0 = h - a.length * p + (f ? p : 0);\n    var ret = [],\n      r = 0,\n      t = 0;\n    d3.range(a.length).forEach(function (d) {\n      t = (h0 - m * d) / (tt -= a[d - 1] || 0);\n      r += a[d] * t <= m ? 1 : 0;\n      ret.push(t);\n    });\n    return ret[r];\n  }\n  function viz_getbars(a, p, m, h0, h1) {\n    var x = h0,\n      total = d3.sum(a);\n    var r = viz_getratio(a, p, m, h1 - h0, total, false);\n    var s = a.map(function (d) {\n      var v = r * d;\n      var w = (v < m ? m : v) / 2;\n      x += 2 * w + p;\n      return {\n        c: x - w,\n        v: v,\n        w: w,\n        value: d,\n        percent: d / (total || 1)\n      };\n    });\n    return s;\n  }\n  function viz_arc(x) {\n    function polar(r, t) {\n      return [r * Math.cos(t), r * Math.sin(t)];\n    }\n    var ss = polar(x[0], x[2]),\n      se = polar(x[0], x[3]),\n      es = polar(x[1], x[2]),\n      ee = polar(x[1], x[3]);\n    return ['M', ss, 'A', x[0], x[0], '0', x[3] - x[2] > π ? 1 : 0, '1', se, 'L', ee, 'A', x[1], x[1], '0', x[3] - x[2] > π ? 1 : 0, '0', es, 'z'].join(' ');\n  }\n  function viz_chord(rs, ss, se, re, es, ee) {\n    var pss = p(rs, ss),\n      pse = p(rs, se),\n      pes = p(re, es),\n      pee = p(re, ee);\n    return 'M' + pss + arc(rs, pse, se - ss) + (\n    // eslint-disable-next-line\n    ss == es && se == ee ? curve(pss, ss, se, re) : curve(pes, se, es, re) + arc(re, pee, ee - es) + curve(pss, ss, ee, rs)) + 'Z';\n    function arc(r, p, a) {\n      return 'A' + r + ',' + r + ' 0 ' + +(a > π) + ',1 ' + p;\n    }\n    function p(r, a) {\n      return [r * Math.cos(a), r * Math.sin(a)];\n    } // eslint-disable-next-line\n    function eq(a, b) {\n      return a.a0 == b.a0 && a.a1 == b.a1;\n    }\n    function curve(p1, a0, a1, r) {\n      a1 = a1 + (a1 < a0 ? τ : 0);\n      var a = a1 - a0;\n      var t = 1 - (a > π ? τ - a : a) / π;\n      t = Math.pow(t, 5);\n      var a2 = (a1 + a0) / 2 - (a1 - a0 > π ? π : 0);\n      return 'Q' + t * r * Math.cos(a2) + ',' + t * r * Math.sin(a2) + ' ' + p1;\n    }\n  }\n  function viz_shiftarray(n, i) {\n    var ret = [];\n    for (var s = i; s > i - n; s--) {\n      ret.push(s < 0 ? s + n : s);\n    }\n    return ret;\n  }\n  return viz;\n});","map":{"version":3,"names":["root","factory","module","exports","d3","require","viz","version","τ","Math","PI","π","π2","bP","key_scale","value_scale","keyPrimary","keySecondary","value","width","height","orient","barSize","min","pad","data","fill","g","edgeOpacity","duration","sortPrimary","sortSecondary","edgeMode","_","each","select","bars","s","selectAll","subBars","enter","append","attr","d","x","y","fx","fy","fw","fh","style","e","edges","path","mainBars","on","mouseover","mouseout","arguments","length","ascending","mb","primary","secondary","key","_or","calculateMainBars","calculateSubBars","floorMainBars","concat","calculateEdges","isSelKey","part","m","forEach","v","ps","nest","sortKeys","rollup","sum","entries","bpmap","bsize","i","push","percent","p","sort","a","b","map","get","values","t","index","eMode","edgeVert","edgeHoriz","x1","y1","x2","y2","x3","y3","x4","y4","join","mx1","mx3","my1","my3","r","ln","lp","o","ret","update","_data","b1","dur","transition","newbars","filter","gg","innerRadius","outerRadius","startAngle","endAngle","needleColor","innerFaceColor","faceColor","domain","angleOffset","ease","dpg","ticks","majorTicks","minorTickStart","minorTickEnd","majorTickStart","majorTickEnd","labelLocation","def","range","scale","mS","mE","MS","ME","mT","lL","or","tickg","cos","sin","text","rot","linear","defs","svg","dg","nc","fc","fbc","lg1","lG","id","sel","stop","offset","stopColor","rgb","darker","rg1","rG","spreadMethod","rg2","gradientUnits","xlink","fl1","feFlood","result","floodColor","floodOpacity","feComposite","operator","in2","in","feGaussianBlur","stdDeviation","feOffset","dy","dx","fl2","setNeedle","newAngle","oldAngle","d3ease","attrTween","iS","angle","n","interpolateString","ch","source","target","label","padding","chordOpacity","labelPadding","reComputeLayout","keys","subgrp","chordExist","groups","chords","newgroups","newchords","relayout","arc","viz_arc","chord","viz_chord","endStartAngle","endEndAngle","grps","labels","lbl","type","_current","display","relayouts","f","chordTween","interpolate","arcTween","labelTweenx","labelTweeny","gp","opacity","viz_reduceAngle","isBottom","indexOf","k","l","skipPad","viz_circularPartition","undefined","gi","gia","viz_shiftarray","grpbarsgia","viz_getbars","si","t1","c","subindex","indexsubindex","z","fixedSource","fg","padAngle","mid","sm","g1","a0","gmap","g0","fixed","ind","found","console","log","dorder","slice","ta","total","viz_getratio","w","bar","dock","top_","bot","left","rght","topbot","primaryBars","secondaryBars","viz_width","viz_height","paddingLabel","wf","hf","valuePrimary","viz_key","viz_width2","viz_height2","valueSecondary","viz_assign","viz_assign_default","paddingInner","paddingOuter","viz_d1","viz_d0","viz_value","valueDomain","primaryKeys","set","keyScale","scaleBand","noSecondary","valueScale","h","max","scaleLinear","bw","bandwidth","d0","d1","absd","abs","mind","primaryKey","secondaryKey","v0","v1","absv","minv","lg","rows","cols","ceil","rowScale","colScale","size","cellHeight","cellWidth","loc","legendg","draw","rect","circle","viz_d","viz_x","viz_y","viz_polar","tt","h0","h1","polar","ss","se","es","ee","rs","re","pss","pse","pes","pee","curve","eq","a1","p1","pow","a2"],"sources":["/Users/lijiaxin/Documents/workspace/hydsoft-oms-frontend/node_modules/wnm-d3-viz/d3-viz.js"],"sourcesContent":["// Copyright 2017 Naushad Pasha Puliyambalath\r\n// https://github.com/NPashaP/Viz\r\n\r\n;(function(root, factory) {\r\n  if (typeof module === 'object' && module.exports) {\r\n    /* eslint-disable global-require */\r\n    // CommonJS\r\n    var d3 = require('d3')\r\n    module.exports = factory(d3)\r\n    /* eslint-enable global-require */\r\n  } else {\r\n    // Browser global.\r\n    // eslint-disable-next-line no-param-reassign\r\n    root.viz = factory(root.d3)\r\n  }\r\n})(this, function(d3) {\r\n  var viz = { version: '1.1.8' }\r\n  var τ = 2 * Math.PI,\r\n    π = Math.PI,\r\n    π2 = Math.PI / 2\r\n\r\n  viz.bP = function() {\r\n    // eslint-disable-next-line\r\n    var key_scale,\r\n      value_scale,\r\n      keyPrimary,\r\n      keySecondary,\r\n      value,\r\n      width,\r\n      height,\r\n      orient,\r\n      barSize,\r\n      min,\r\n      pad,\r\n      data,\r\n      fill,\r\n      g,\r\n      edgeOpacity,\r\n      duration,\r\n      sortPrimary,\r\n      sortSecondary,\r\n      edgeMode\r\n    function bP(_) {\r\n      g = _\r\n      _.each(function() {\r\n        var g = d3.select(this)\r\n        var bars = bP.bars()\r\n\r\n        var s = g\r\n          .selectAll('.subBars')\r\n          .data(bars.subBars)\r\n          .enter()\r\n          .append('g')\r\n          .attr('transform', function(d) {\r\n            return 'translate(' + d.x + ',' + d.y + ')'\r\n          })\r\n          .attr('class', 'subBars')\r\n          .append('rect')\r\n          .attr('x', fx)\r\n          .attr('y', fy)\r\n          .attr('width', fw)\r\n          .attr('height', fh)\r\n\r\n        if (typeof fill !== 'undefined')\r\n          s.style('fill', function(d) {\r\n            return fill(d)\r\n          })\r\n\r\n        var e = g\r\n          .selectAll('.edges')\r\n          .data(bars.edges)\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', 'edges')\r\n          .attr('d', function(d) {\r\n            return d.path\r\n          })\r\n          .style('fill-opacity', bP.edgeOpacity())\r\n\r\n        if (typeof fill !== 'undefined')\r\n          e.style('fill', function(d) {\r\n            return fill(d)\r\n          })\r\n\r\n        g.selectAll('.mainBars')\r\n          .data(bars.mainBars)\r\n          .enter()\r\n          .append('g')\r\n          .attr('transform', function(d) {\r\n            return 'translate(' + d.x + ',' + d.y + ')'\r\n          })\r\n          .attr('class', 'mainBars')\r\n          .append('rect')\r\n          .attr('x', fx)\r\n          .attr('y', fy)\r\n          .attr('width', fw)\r\n          .attr('height', fh)\r\n          .style('fill-opacity', 0)\r\n          .on('mouseover', bP.mouseover)\r\n          .on('mouseout', bP.mouseout)\r\n      })\r\n    }\r\n    bP.data = function(_) {\r\n      if (!arguments.length) return data\r\n      data = _\r\n      return bP\r\n    }\r\n    bP.fill = function(_) {\r\n      if (!arguments.length) return fill\r\n      fill = _\r\n      return bP\r\n    }\r\n    bP.keyPrimary = function(_) {\r\n      if (!arguments.length)\r\n        return typeof keyPrimary !== 'undefined'\r\n          ? keyPrimary\r\n          : function(d) {\r\n              return d[0]\r\n            }\r\n      keyPrimary = _\r\n      return bP\r\n    }\r\n    bP.sortPrimary = function(_) {\r\n      if (!arguments.length)\r\n        return typeof sortPrimary !== 'undefined' ? sortPrimary : d3.ascending\r\n      sortPrimary = _\r\n      return bP\r\n    }\r\n    bP.keySecondary = function(_) {\r\n      if (!arguments.length)\r\n        return typeof keySecondary !== 'undefined'\r\n          ? keySecondary\r\n          : function(d) {\r\n              return d[1]\r\n            }\r\n      keySecondary = _\r\n      return bP\r\n    }\r\n    bP.sortSecondary = function(_) {\r\n      if (!arguments.length)\r\n        return typeof sortSecondary !== 'undefined'\r\n          ? sortSecondary\r\n          : d3.ascending\r\n      sortSecondary = _\r\n      return bP\r\n    }\r\n    bP.value = function(_) {\r\n      if (!arguments.length)\r\n        return typeof value !== 'undefined'\r\n          ? value\r\n          : function(d) {\r\n              return d[2]\r\n            }\r\n      value = _\r\n      return bP\r\n    }\r\n    bP.width = function(_) {\r\n      if (!arguments.length) return typeof width !== 'undefined' ? width : 400\r\n      width = _\r\n      return bP\r\n    }\r\n    bP.height = function(_) {\r\n      if (!arguments.length) return typeof height !== 'undefined' ? height : 600\r\n      height = _\r\n      return bP\r\n    }\r\n    bP.barSize = function(_) {\r\n      if (!arguments.length)\r\n        return typeof barSize !== 'undefined' ? barSize : 35\r\n      barSize = _\r\n      return bP\r\n    }\r\n    bP.min = function(_) {\r\n      if (!arguments.length) return typeof min !== 'undefined' ? min : 0\r\n      min = _\r\n      return bP\r\n    }\r\n    bP.orient = function(_) {\r\n      if (!arguments.length)\r\n        return typeof orient !== 'undefined' ? orient : 'vertical'\r\n      orient = _\r\n      return bP\r\n    }\r\n    bP.pad = function(_) {\r\n      if (!arguments.length) return typeof pad !== 'undefined' ? pad : 0\r\n      pad = _\r\n      return bP\r\n    }\r\n    bP.duration = function(_) {\r\n      if (!arguments.length)\r\n        return typeof duration !== 'undefined' ? duration : 500\r\n      duration = _\r\n      return bP\r\n    }\r\n    bP.edgeOpacity = function(_) {\r\n      if (!arguments.length)\r\n        return typeof edgeOpacity !== 'undefined' ? edgeOpacity : 0.4\r\n      edgeOpacity = _\r\n      return bP\r\n    }\r\n    bP.edgeMode = function(_) {\r\n      if (!arguments.length)\r\n        return typeof edgeMode !== 'undefined' ? edgeMode : 'curved'\r\n      edgeMode = _\r\n      return bP\r\n    }\r\n    bP.bars = function(mb) {\r\n      var mainBars = { primary: [], secondary: [] }\r\n      var subBars = { primary: [], secondary: [] }\r\n      var key = { primary: bP.keyPrimary(), secondary: bP.keySecondary() }\r\n      var _or = bP.orient()\r\n\r\n      calculateMainBars('primary')\r\n      calculateMainBars('secondary')\r\n      calculateSubBars('primary')\r\n      calculateSubBars('secondary')\r\n      floorMainBars() // ensure that main bars is atleast of size mi.n\r\n\r\n      return {\r\n        mainBars: mainBars.primary.concat(mainBars.secondary),\r\n        subBars: subBars.primary.concat(subBars.secondary),\r\n        edges: calculateEdges()\r\n      }\r\n\r\n      function isSelKey(d, part) {\r\n        return (\r\n          typeof mb === 'undefined' ||\r\n          mb.part === part ||\r\n          key[mb.part](d) === mb.key\r\n        )\r\n      }\r\n      function floorMainBars() {\r\n        var m = bP.min() / 2\r\n\r\n        mainBars.primary.forEach(function(d) {\r\n          if (d.height < m) d.height = m\r\n        })\r\n        mainBars.secondary.forEach(function(d) {\r\n          if (d.height < m) d.height = m\r\n        })\r\n      }\r\n      function calculateMainBars(part) {\r\n        function v(d) {\r\n          return isSelKey(d, part) ? bP.value()(d) : 0\r\n        }\r\n\r\n        var ps = d3.nest()\r\n          // eslint-disable-next-line\r\n          .key(part == 'primary' ? bP.keyPrimary() : bP.keySecondary()) // eslint-disable-next-line\r\n          .sortKeys(part == 'primary' ? bP.sortPrimary() : bP.sortSecondary())\r\n          .rollup(function(d) {\r\n            return d3.sum(d, v)\r\n          })\r\n          .entries(bP.data())\r\n        // eslint-disable-next-line\r\n        var bars = bpmap(\r\n          ps,\r\n          bP.pad(),\r\n          bP.min(),\r\n          0,\r\n          _or == 'vertical' ? bP.height() : bP.width()\r\n        )\r\n        var bsize = bP.barSize()\r\n        ps.forEach(function(d, i) {\r\n          mainBars[part].push({\r\n            // eslint-disable-next-line\r\n            x:\r\n              _or == 'horizontal'\r\n                ? (bars[i].s + bars[i].e) / 2\r\n                : part == 'primary'\r\n                ? bsize / 2\r\n                : bP.width() - bsize / 2, // eslint-disable-next-line\r\n            y:\r\n              _or == 'vertical'\r\n                ? (bars[i].s + bars[i].e) / 2\r\n                : part == 'primary'\r\n                ? bsize / 2\r\n                : bP.height() - bsize / 2, // eslint-disable-next-line\r\n            height: _or == 'vertical' ? (bars[i].e - bars[i].s) / 2 : bsize / 2, // eslint-disable-next-line\r\n            width:\r\n              _or == 'horizontal' ? (bars[i].e - bars[i].s) / 2 : bsize / 2, // eslint-disable-next-line\r\n            part: part,\r\n            key: d.key,\r\n            value: d.value,\r\n            percent: bars[i].p\r\n          })\r\n        })\r\n      }\r\n      function calculateSubBars(part) {\r\n        function v(d) {\r\n          return isSelKey(d, part) ? bP.value()(d) : 0\r\n        }\r\n        // eslint-disable-next-line\r\n        var sort =\r\n          part == 'primary'\r\n            ? function(a, b) {\r\n                return bP.sortPrimary()(a.key, b.key)\r\n              }\r\n            : function(a, b) {\r\n                return bP.sortSecondary()(a.key, b.key)\r\n              }\r\n\r\n        var map = d3.map(mainBars[part], function(d) {\r\n          return d.key\r\n        })\r\n\r\n        var ps = d3\r\n          .nest() // eslint-disable-next-line\r\n          .key(part == 'primary' ? bP.keyPrimary() : bP.keySecondary()) // eslint-disable-next-line\r\n          .sortKeys(part == 'primary' ? bP.sortPrimary() : bP.sortSecondary()) // eslint-disable-next-line\r\n          .key(part == 'secondary' ? bP.keyPrimary() : bP.keySecondary()) // eslint-disable-next-line\r\n          .sortKeys(part == 'secondary' ? bP.sortPrimary() : bP.sortSecondary()) // eslint-disable-next-line\r\n          .rollup(function(d) {\r\n            return d3.sum(d, v)\r\n          })\r\n          .entries(bP.data())\r\n\r\n        ps.forEach(function(d) {\r\n          var g = map.get(d.key)\r\n          var bars = bpmap(\r\n            d.values,\r\n            0,\r\n            0, // eslint-disable-next-line\r\n            _or == 'vertical' ? g.y - g.height : g.x - g.width, // eslint-disable-next-line\r\n            _or == 'vertical' ? g.y + g.height : g.x + g.width\r\n          )\r\n\r\n          var bsize = bP.barSize()\r\n          d.values.forEach(function(t, i) {\r\n            subBars[part].push({\r\n              // eslint-disable-next-line\r\n              x:\r\n                _or == 'vertical'\r\n                  ? part == 'primary'\r\n                    ? bsize / 2\r\n                    : bP.width() - bsize / 2\r\n                  : (bars[i].s + bars[i].e) / 2, // eslint-disable-next-line\r\n              y:\r\n                _or == 'horizontal'\r\n                  ? part == 'primary'\r\n                    ? bsize / 2\r\n                    : bP.height() - bsize / 2\r\n                  : (bars[i].s + bars[i].e) / 2, // eslint-disable-next-line\r\n              height: (_or == 'vertical' ? bars[i].e - bars[i].s : bsize) / 2, // eslint-disable-next-line\r\n              width: (_or == 'horizontal' ? bars[i].e - bars[i].s : bsize) / 2, // eslint-disable-next-line\r\n              part: part, // eslint-disable-next-line\r\n              primary: part == 'primary' ? d.key : t.key, // eslint-disable-next-line\r\n              secondary: part == 'primary' ? t.key : d.key, // eslint-disable-next-line\r\n              value: t.value,\r\n              percent: bars[i].p * g.percent, // eslint-disable-next-line\r\n              index:\r\n                part == 'primary' ? d.key + '|' + t.key : t.key + '|' + d.key //index\r\n            })\r\n          })\r\n        })\r\n      }\r\n      function calculateEdges() {\r\n        var map = d3.map(subBars.secondary, function(d) {\r\n          return d.index\r\n        })\r\n        var eMode = bP.edgeMode()\r\n\r\n        return subBars.primary.map(function(d) {\r\n          var g = map.get(d.index)\r\n          return {\r\n            path:\r\n              _or === 'vertical'\r\n                ? edgeVert(\r\n                    d.x + d.width,\r\n                    d.y + d.height,\r\n                    g.x - g.width,\r\n                    g.y + g.height,\r\n                    g.x - g.width,\r\n                    g.y - g.height,\r\n                    d.x + d.width,\r\n                    d.y - d.height\r\n                  )\r\n                : edgeHoriz(\r\n                    d.x - d.width,\r\n                    d.y + d.height,\r\n                    g.x - g.width,\r\n                    g.y - g.height,\r\n                    g.x + g.width,\r\n                    g.y - g.height,\r\n                    d.x + d.width,\r\n                    d.y + d.height\r\n                  ),\r\n            primary: d.primary,\r\n            secondary: d.secondary,\r\n            value: d.value,\r\n            percent: d.percent\r\n          }\r\n        })\r\n        function edgeVert(x1, y1, x2, y2, x3, y3, x4, y4) {\r\n          // eslint-disable-next-line\r\n          if (eMode == 'straight')\r\n            return [\r\n              'M',\r\n              x1,\r\n              ',',\r\n              y1,\r\n              'L',\r\n              x2,\r\n              ',',\r\n              y2,\r\n              'L',\r\n              x3,\r\n              ',',\r\n              y3,\r\n              'L',\r\n              x4,\r\n              ',',\r\n              y4,\r\n              'z'\r\n            ].join('')\r\n          var mx1 = (x1 + x2) / 2,\r\n            mx3 = (x3 + x4) / 2\r\n          return [\r\n            'M',\r\n            x1,\r\n            ',',\r\n            y1,\r\n            'C',\r\n            mx1,\r\n            ',',\r\n            y1,\r\n            ' ',\r\n            mx1,\r\n            ',',\r\n            y2,\r\n            ',',\r\n            x2,\r\n            ',',\r\n            y2,\r\n            'L',\r\n            x3,\r\n            ',',\r\n            y3,\r\n            'C',\r\n            mx3,\r\n            ',',\r\n            y3,\r\n            ' ',\r\n            mx3,\r\n            ',',\r\n            y4,\r\n            ',',\r\n            x4,\r\n            ',',\r\n            y4,\r\n            'z'\r\n          ].join('')\r\n        }\r\n        function edgeHoriz(x1, y1, x2, y2, x3, y3, x4, y4) {\r\n          // eslint-disable-next-line\r\n          if (eMode == 'straight')\r\n            return [\r\n              'M',\r\n              x1,\r\n              ',',\r\n              y1,\r\n              'L',\r\n              x2,\r\n              ',',\r\n              y2,\r\n              'L',\r\n              x3,\r\n              ',',\r\n              y3,\r\n              'L',\r\n              x4,\r\n              ',',\r\n              y4,\r\n              'z'\r\n            ].join('')\r\n          var my1 = (y1 + y2) / 2,\r\n            my3 = (y3 + y4) / 2\r\n          return [\r\n            'M',\r\n            x1,\r\n            ',',\r\n            y1,\r\n            'C',\r\n            x1,\r\n            ',',\r\n            my1,\r\n            ' ',\r\n            x2,\r\n            ',',\r\n            my1,\r\n            ',',\r\n            x2,\r\n            ',',\r\n            y2,\r\n            'L',\r\n            x3,\r\n            ',',\r\n            y3,\r\n            'C',\r\n            x3,\r\n            ',',\r\n            my3,\r\n            ' ',\r\n            x4,\r\n            ',',\r\n            my3,\r\n            ',',\r\n            x4,\r\n            ',',\r\n            y4,\r\n            'z'\r\n          ].join('')\r\n        }\r\n      }\r\n      function bpmap(\r\n        a /*array*/,\r\n        p /*pad*/,\r\n        m /*min*/,\r\n        s /*start*/,\r\n        e /*end*/\r\n      ) {\r\n        var r = m / (e - s - 2 * a.length * p) // cut-off for ratios\r\n        var ln = 0,\r\n          lp = 0,\r\n          t = d3.sum(a, function(d) {\r\n            return d.value\r\n          }) // left over count and percent.\r\n        a.forEach(function(d) {\r\n          if (d.value < r * t) {\r\n            ln += 1\r\n            lp += d.value\r\n          }\r\n        })\r\n        var o = t < 1e-5 ? 0 : (e - s - 2 * a.length * p - ln * m) / (t - lp) // scaling factor for percent.\r\n        var b = s,\r\n          ret = []\r\n        a.forEach(function(d) {\r\n          var v = d.value * o\r\n          ret.push({\r\n            s: b + p + (v < m ? 0.5 * (m - v) : 0),\r\n            e: b + p + (v < m ? 0.5 * (m + v) : v),\r\n            p: t < 1e-5 ? 0 : d.value / t\r\n          })\r\n          b += 2 * p + (v < m ? m : v)\r\n        })\r\n\r\n        return ret\r\n      }\r\n    }\r\n    bP.update = function(_data) {\r\n      data = _data\r\n      var b1 = bP.bars()\r\n      var dur = bP.duration()\r\n\r\n      g.selectAll('.subBars')\r\n        .data(b1.subBars)\r\n        .transition()\r\n        .duration(dur)\r\n        .attr('transform', function(d) {\r\n          return 'translate(' + d.x + ',' + d.y + ')'\r\n        })\r\n        .select('rect')\r\n        .attr('x', fx)\r\n        .attr('y', fy)\r\n        .attr('width', fw)\r\n        .attr('height', fh)\r\n\r\n      g.selectAll('.edges')\r\n        .data(b1.edges)\r\n        .transition()\r\n        .duration(dur)\r\n        .attr('d', function(d) {\r\n          return d.path\r\n        })\r\n        .style('fill-opacity', bP.edgeOpacity())\r\n\r\n      g.selectAll('.mainBars')\r\n        .data(b1.mainBars)\r\n        .transition()\r\n        .duration(dur)\r\n        .attr('transform', function(d) {\r\n          return 'translate(' + d.x + ',' + d.y + ')'\r\n        })\r\n        .select('rect')\r\n        .attr('x', fx)\r\n        .attr('y', fy)\r\n        .attr('width', fw)\r\n        .attr('height', fh)\r\n        .style('fill-opacity', 0)\r\n    }\r\n    bP.mouseover = function(d) {\r\n      var newbars = bP.bars(d)\r\n      g.selectAll('.mainBars')\r\n        .filter(function(r) {\r\n          return r.part === d.part && r.key === d.key\r\n        })\r\n        .select('rect')\r\n        .style('stroke-opacity', 1)\r\n\r\n      g.selectAll('.subBars')\r\n        .data(newbars.subBars)\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .attr('transform', function(d) {\r\n          return 'translate(' + d.x + ',' + d.y + ')'\r\n        })\r\n        .select('rect')\r\n        .attr('x', fx)\r\n        .attr('y', fy)\r\n        .attr('width', fw)\r\n        .attr('height', fh)\r\n\r\n      var e = g.selectAll('.edges').data(newbars.edges)\r\n\r\n      e.filter(function(t) {\r\n        return t[d.part] === d.key\r\n      })\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .style('fill-opacity', bP.edgeOpacity())\r\n        .attr('d', function(d) {\r\n          return d.path\r\n        })\r\n\r\n      e.filter(function(t) {\r\n        return t[d.part] !== d.key\r\n      })\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .style('fill-opacity', 0)\r\n        .attr('d', function(d) {\r\n          return d.path\r\n        })\r\n\r\n      g.selectAll('.mainBars')\r\n        .data(newbars.mainBars)\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .attr('transform', function(d) {\r\n          return 'translate(' + d.x + ',' + d.y + ')'\r\n        })\r\n        .select('rect')\r\n        .attr('x', fx)\r\n        .attr('y', fy)\r\n        .attr('width', fw)\r\n        .attr('height', fh)\r\n    }\r\n    bP.mouseout = function(d) {\r\n      var newbars = bP.bars()\r\n\r\n      g.selectAll('.mainBars')\r\n        .filter(function(r) {\r\n          return r.part === d.part && r.key === d.key\r\n        })\r\n        .select('rect')\r\n        .style('stroke-opacity', 0)\r\n\r\n      g.selectAll('.subBars')\r\n        .data(newbars.subBars)\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .attr('transform', function(d) {\r\n          return 'translate(' + d.x + ',' + d.y + ')'\r\n        })\r\n        .select('rect')\r\n        .attr('x', fx)\r\n        .attr('y', fy)\r\n        .attr('width', fw)\r\n        .attr('height', fh)\r\n\r\n      g.selectAll('.edges')\r\n        .data(newbars.edges)\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .style('fill-opacity', bP.edgeOpacity())\r\n        .attr('d', function(d) {\r\n          return d.path\r\n        })\r\n\r\n      g.selectAll('.mainBars')\r\n        .data(newbars.mainBars)\r\n        .transition()\r\n        .duration(bP.duration())\r\n        .attr('transform', function(d) {\r\n          return 'translate(' + d.x + ',' + d.y + ')'\r\n        })\r\n        .select('rect')\r\n        .attr('x', fx)\r\n        .attr('y', fy)\r\n        .attr('width', fw)\r\n        .attr('height', fh)\r\n    }\r\n    function fx(d) {\r\n      return -d.width\r\n    }\r\n    function fy(d) {\r\n      return -d.height\r\n    }\r\n    function fw(d) {\r\n      return 2 * d.width\r\n    }\r\n    function fh(d) {\r\n      return 2 * d.height\r\n    }\r\n\r\n    return bP\r\n  }\r\n  viz.gg = function() {\r\n    // eslint-disable-next-line\r\n    var innerRadius,\r\n      outerRadius,\r\n      startAngle,\r\n      endAngle,\r\n      needleColor,\r\n      innerFaceColor,\r\n      faceColor,\r\n      domain,\r\n      value,\r\n      angleOffset,\r\n      duration,\r\n      ease,\r\n      g,\r\n      dpg,\r\n      ticks,\r\n      majorTicks,\r\n      minorTickStart,\r\n      minorTickEnd,\r\n      majorTickStart,\r\n      majorTickEnd,\r\n      labelLocation\r\n    var def = {\r\n      innerRadius: 20,\r\n      outerRadius: 150,\r\n      angleOffset: 0.7,\r\n      startAngle: -1.5 * π,\r\n      endAngle: 0.5 * π,\r\n      minorTickStart: 0.9,\r\n      minorTickEnd: 0.95,\r\n      majorTickStart: 0.82,\r\n      majorTickEnd: 0.95,\r\n      needleColor: '#de2c2c',\r\n      innerFaceColor: '#999999',\r\n      faceColor: '#666666',\r\n      domain: [0, 100],\r\n      duration: 500,\r\n      ease: 'cubicInOut',\r\n      ticks: d3.range(0, 101, 2),\r\n      majorTicks: function(d) {\r\n        return d % 10 === 0\r\n      },\r\n      labelLocation: 0.7\r\n    }\r\n    function gg(_) {\r\n      g = _\r\n      _.each(function() {\r\n        var g = d3.select(this)\r\n        var a = gg.scale()\r\n        var mS = gg.minorTickStart(),\r\n          mE = gg.minorTickEnd(),\r\n          MS = gg.majorTickStart(),\r\n          ME = gg.majorTickEnd()\r\n        var ticks = gg.ticks(),\r\n          mT = gg.majorTicks(),\r\n          lL = gg.labelLocation()\r\n        var or = gg.outerRadius()\r\n\r\n        g.append('circle')\r\n          .attr('r', or)\r\n          .style('fill', 'url(#vizgg3' + dpg + ')')\r\n          .attr('class', 'face')\r\n\r\n        g.append('circle')\r\n          .attr('r', gg.innerRadius())\r\n          .style('fill', 'url(#vizgg2' + dpg + ')')\r\n          .style('filter', 'url(#vizgg5' + dpg + ')')\r\n          .attr('class', 'innerFace')\r\n\r\n        var tickg = g.append('g')\r\n        tickg\r\n          .selectAll('line')\r\n          .data(ticks)\r\n          .enter()\r\n          .append('line')\r\n          .attr('class', function(d) {\r\n            return mT(d) ? 'majorTicks' : 'minorTicks'\r\n          })\r\n          .attr('x1', function(d) {\r\n            return or * (mT(d) ? MS : mS) * Math.cos(a(d))\r\n          })\r\n          .attr('y1', function(d) {\r\n            return or * (mT(d) ? MS : mS) * Math.sin(a(d))\r\n          })\r\n          .attr('x2', function(d) {\r\n            return or * (mT(d) ? ME : mE) * Math.cos(a(d))\r\n          })\r\n          .attr('y2', function(d) {\r\n            return or * (mT(d) ? ME : mE) * Math.sin(a(d))\r\n          })\r\n\r\n        g.selectAll('text')\r\n          .data(ticks.filter(mT))\r\n          .enter()\r\n          .append('text')\r\n          .attr('class', 'label')\r\n          .attr('x', function(d) {\r\n            return or * lL * Math.cos(a(d))\r\n          })\r\n          .attr('y', function(d) {\r\n            return or * lL * Math.sin(a(d))\r\n          })\r\n          .attr('dy', 3)\r\n          .text(function(d) {\r\n            return d\r\n          })\r\n\r\n        var r = gg.outerRadius() / def.outerRadius\r\n\r\n        var rot = (gg.scale()(gg.value()) * 180) / π + 90\r\n\r\n        g.append('g')\r\n          .attr('transform', 'translate(1,1)')\r\n          .selectAll('.needleshadow')\r\n          .data([0])\r\n          .enter()\r\n          .append('g')\r\n          .attr('transform', 'rotate(' + rot + ')')\r\n          .attr('class', 'needleshadow')\r\n          .append('path')\r\n          .attr(\r\n            'd',\r\n            ['m 0', -130 * r, 5 * r, 175 * r, -10 * r, '0,z'].join(',')\r\n          )\r\n          .style('filter', 'url(#vizgg6' + dpg + ')')\r\n\r\n        g.selectAll('.needle')\r\n          .data([0])\r\n          .enter()\r\n          .append('g')\r\n          .attr('transform', 'rotate(' + rot + ')')\r\n          .attr('class', 'needle')\r\n          .append('polygon')\r\n          .attr(\r\n            'points',\r\n            [\r\n              -0.5 * r,\r\n              -130 * r,\r\n              0.5 * r,\r\n              -130 * r,\r\n              5 * r,\r\n              45 * r,\r\n              -5 * r,\r\n              45 * r\r\n            ].join(',')\r\n          )\r\n          .style('fill', 'url(#vizgg4' + dpg + ')')\r\n      })\r\n    }\r\n    gg.scale = function() {\r\n      return d3.scale\r\n        .linear()\r\n        .domain(gg.domain())\r\n        .range([\r\n          def.startAngle + gg.angleOffset(),\r\n          def.endAngle - gg.angleOffset()\r\n        ])\r\n    }\r\n    gg.innerRadius = function(_) {\r\n      if (!arguments.length)\r\n        return typeof innerRadius !== 'undefined'\r\n          ? innerRadius\r\n          : def.innerRadius\r\n      innerRadius = _\r\n      return gg\r\n    }\r\n    gg.outerRadius = function(_) {\r\n      if (!arguments.length)\r\n        return typeof outerRadius !== 'undefined'\r\n          ? outerRadius\r\n          : def.outerRadius\r\n      outerRadius = _\r\n      return gg\r\n    }\r\n    gg.angleOffset = function(_) {\r\n      if (!arguments.length)\r\n        return typeof angleOffset !== 'undefined'\r\n          ? angleOffset\r\n          : def.angleOffset\r\n      angleOffset = _\r\n      return gg\r\n    }\r\n    gg.labelLocation = function(_) {\r\n      if (!arguments.length)\r\n        return typeof labelLocation !== 'undefined'\r\n          ? labelLocation\r\n          : def.labelLocation\r\n      labelLocation = _\r\n      return gg\r\n    }\r\n    gg.ticks = function(_) {\r\n      if (!arguments.length)\r\n        return typeof ticks !== 'undefined' ? ticks : def.ticks\r\n      ticks = _\r\n      return gg\r\n    }\r\n    gg.majorTicks = function(_) {\r\n      if (!arguments.length)\r\n        return typeof majorTicks !== 'undefined' ? majorTicks : def.majorTicks\r\n      majorTicks = _\r\n      return gg\r\n    }\r\n    gg.minorTickStart = function(_) {\r\n      if (!arguments.length)\r\n        return typeof minorTickStart !== 'undefined'\r\n          ? minorTickStart\r\n          : def.minorTickStart\r\n      minorTickStart = _\r\n      return gg\r\n    }\r\n    gg.minorTickEnd = function(_) {\r\n      if (!arguments.length)\r\n        return typeof minorTickEnd !== 'undefined'\r\n          ? minorTickEnd\r\n          : def.minorTickEnd\r\n      minorTickEnd = _\r\n      return gg\r\n    }\r\n    gg.majorTickStart = function(_) {\r\n      if (!arguments.length)\r\n        return typeof majorTickStart !== 'undefined'\r\n          ? majorTickStart\r\n          : def.majorTickStart\r\n      majorTickStart = _\r\n      return gg\r\n    }\r\n    gg.majorTickEnd = function(_) {\r\n      if (!arguments.length)\r\n        return typeof majorTickEnd !== 'undefined'\r\n          ? majorTickEnd\r\n          : def.majorTickEnd\r\n      majorTickEnd = _\r\n      return gg\r\n    }\r\n    gg.needleColor = function(_) {\r\n      if (!arguments.length)\r\n        return typeof needleColor !== 'undefined'\r\n          ? needleColor\r\n          : def.needleColor\r\n      needleColor = _\r\n      return gg\r\n    }\r\n    gg.innerFaceColor = function(_) {\r\n      if (!arguments.length)\r\n        return typeof innerFaceColor !== 'undefined'\r\n          ? innerFaceColor\r\n          : def.innerFaceColor\r\n      innerFaceColor = _\r\n      return gg\r\n    }\r\n    gg.faceColor = function(_) {\r\n      if (!arguments.length)\r\n        return typeof faceColor !== 'undefined' ? faceColor : def.faceColor\r\n      faceColor = _\r\n      return gg\r\n    }\r\n    gg.domain = function(_) {\r\n      if (!arguments.length)\r\n        return typeof domain !== 'undefined' ? domain : def.domain\r\n      domain = _\r\n      return gg\r\n    }\r\n    gg.duration = function(_) {\r\n      if (!arguments.length)\r\n        return typeof duration !== 'undefined' ? duration : def.duration\r\n      duration = _\r\n      return gg\r\n    }\r\n    gg.ease = function(_) {\r\n      if (!arguments.length)\r\n        return typeof ease !== 'undefined' ? ease : def.ease\r\n      ease = _\r\n      return gg\r\n    }\r\n    gg.value = function(_) {\r\n      if (!arguments.length)\r\n        return typeof value !== 'undefined'\r\n          ? value\r\n          : 0.5 * (def.domain[0] + def.domain[1])\r\n      value = _\r\n      return gg\r\n    }\r\n    gg.defs = function(svg, dg) {\r\n      var defs = svg.append('defs')\r\n      dpg = dg\r\n      var nc = gg.needleColor()\r\n      var fc = gg.innerFaceColor()\r\n      var fbc = gg.faceColor()\r\n\r\n      var lg1 = viz\r\n        .defs(defs)\r\n        .lG()\r\n        .id('vizgg1' + dg)\r\n        .sel()\r\n      viz\r\n        .defs(lg1)\r\n        .stop()\r\n        .offset('0')\r\n        .stopColor(nc)\r\n      viz\r\n        .defs(lg1)\r\n        .stop()\r\n        .offset('1')\r\n        .stopColor(d3.rgb(nc).darker(1))\r\n\r\n      var rg1 = viz\r\n        .defs(defs)\r\n        .rG()\r\n        .id('vizgg2' + dg)\r\n        .fx('35%')\r\n        .fy('65%')\r\n        .r('65%')\r\n        .spreadMethod('pad')\r\n        .sel()\r\n      viz\r\n        .defs(rg1)\r\n        .stop()\r\n        .offset('0')\r\n        .stopColor(fc)\r\n      viz\r\n        .defs(rg1)\r\n        .stop()\r\n        .offset('1')\r\n        .stopColor(d3.rgb(fc).darker(2))\r\n\r\n      var rg2 = viz\r\n        .defs(defs)\r\n        .rG()\r\n        .id('vizgg3' + dg)\r\n        .fx('35%')\r\n        .fy('65%')\r\n        .r('65%')\r\n        .spreadMethod('pad')\r\n        .sel()\r\n      viz\r\n        .defs(rg2)\r\n        .stop()\r\n        .offset('0')\r\n        .stopColor(fbc)\r\n      viz\r\n        .defs(rg2)\r\n        .stop()\r\n        .offset('1')\r\n        .stopColor(d3.rgb(fbc).darker(2))\r\n\r\n      viz\r\n        .defs(defs)\r\n        .lG()\r\n        .id('vizgg4' + dg)\r\n        .gradientUnits('userSpaceOnUse')\r\n        .y1('80')\r\n        .x1('-10')\r\n        .y2('80')\r\n        .x2('10')\r\n        .xlink('#vizgg1' + dg)\r\n\r\n      var fl1 = viz\r\n        .defs(defs)\r\n        .filter()\r\n        .id('vizgg5' + dg)\r\n        .sel()\r\n      viz\r\n        .defs(fl1)\r\n        .feFlood()\r\n        .result('flood')\r\n        .floodColor('rgb(0,0,0)')\r\n        .floodOpacity('0.6')\r\n      viz\r\n        .defs(fl1)\r\n        .feComposite()\r\n        .result('composite1')\r\n        .operator('in')\r\n        .in2('SourceGraphic')\r\n        .in('flood')\r\n      viz\r\n        .defs(fl1)\r\n        .feGaussianBlur()\r\n        .result('blur')\r\n        .stdDeviation('2')\r\n        .in('composite1')\r\n      viz\r\n        .defs(fl1)\r\n        .feOffset()\r\n        .result('offset')\r\n        .dy('2')\r\n        .dx('2')\r\n      viz\r\n        .defs(fl1)\r\n        .feComposite()\r\n        .result('composite2')\r\n        .operator('over')\r\n        .in2('offset')\r\n        .in('SourceGraphic')\r\n\r\n      var fl2 = viz\r\n        .defs(defs)\r\n        .filter()\r\n        .x('-0.3')\r\n        .y('-0.3')\r\n        .height('1.8')\r\n        .width('1.8')\r\n        .id('vizgg6' + dg)\r\n        .sel()\r\n      viz\r\n        .defs(fl2)\r\n        .feGaussianBlur()\r\n        .stdDeviation('2')\r\n    }\r\n\r\n    gg.setNeedle = function(a) {\r\n      var newAngle = (gg.scale()(a) * 180) / π + 90,\r\n        oldAngle = (gg.scale()(gg.value()) * 180) / π + 90,\r\n        d3ease = gg.ease()\r\n      g.selectAll('.needle')\r\n        .data([a])\r\n        .transition()\r\n        .duration(gg.duration())\r\n        .attrTween('transform', function(d) {\r\n          return iS(oldAngle, newAngle)\r\n        })\r\n        .ease(d3ease)\r\n\r\n      g.selectAll('.needleshadow')\r\n        .data([a])\r\n        .transition()\r\n        .duration(gg.duration())\r\n        .attrTween('transform', function(d) {\r\n          return iS(oldAngle, newAngle)\r\n        })\r\n        .ease(d3ease)\r\n        .each('end', function() {\r\n          this.angle = a\r\n        })\r\n\r\n      gg.value(a)\r\n\r\n      function iS(o, n) {\r\n        return d3.interpolateString('rotate(' + o + ')', 'rotate(' + n + ')')\r\n      }\r\n    }\r\n\r\n    return gg\r\n  }\r\n  viz.ch = function() {\r\n    var source = function(d) {\r\n        return d[0]\r\n      },\r\n      target = function(d) {\r\n        return d[1]\r\n      },\r\n      value = function(d) {\r\n        return d[2]\r\n      },\r\n      label = function(d) {\r\n        return d.source + ' (' + d.value + ')'\r\n      },\r\n      sort = d3.ascending,\r\n      padding = 0.03,\r\n      startAngle = 0,\r\n      innerRadius = 180,\r\n      outerRadius = 200,\r\n      chordOpacity = 0.7,\r\n      labelPadding = 0.02,\r\n      min = 0,\r\n      duration = 500,\r\n      reComputeLayout = true,\r\n      g,\r\n      data,\r\n      fill,\r\n      keys,\r\n      subgrp,\r\n      chordExist,\r\n      groups,\r\n      chords,\r\n      newgroups,\r\n      newchords\r\n\r\n    function ch(_) {\r\n      g = _\r\n\r\n      if (!chords) relayout()\r\n      function arc(d) {\r\n        return viz_arc([innerRadius, outerRadius, d.startAngle, d.endAngle])\r\n      }\r\n      function chord(d) {\r\n        return viz_chord(\r\n          innerRadius,\r\n          d.startAngle,\r\n          d.endAngle,\r\n          innerRadius,\r\n          d.endStartAngle,\r\n          d.endEndAngle\r\n        )\r\n      }\r\n\r\n      _.each(function() {\r\n        var g = d3.select(this)\r\n\r\n        var grps = g\r\n          .selectAll('.groups')\r\n          .data(groups)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', 'groups')\r\n          .on('mouseover', ch.mouseover)\r\n          .on('mouseout', ch.mouseout)\r\n\r\n        var labels = grps.append('text').attr('class', 'label')\r\n        var r = (1 + ch.labelPadding()) * ch.outerRadius()\r\n        var lbl = ch.label()\r\n        // eslint-disable-next-line\r\n        labels\r\n          .filter(function(d) {\r\n            return d.type == 'g'\r\n          })\r\n          .attr('x', function(d) {\r\n            return r * Math.cos(angle(d))\r\n          })\r\n          .attr('y', function(d) {\r\n            return r * Math.sin(angle(d))\r\n          })\r\n          .text(lbl)\r\n          .style('text-anchor', function(d) {\r\n            var a = angle(d)\r\n            return a < π2 || a > τ - π2 ? 'start' : 'end'\r\n          })\r\n          .each(function(d) {\r\n            this._current = d\r\n          })\r\n\r\n        grps\r\n          .append('path')\r\n          .style('fill', function(d) {\r\n            return fill(d.source)\r\n          })\r\n          .style('stroke', function(d) {\r\n            return fill(d.source)\r\n          })\r\n          .attr('d', arc)\r\n          .each(function(d) {\r\n            this._current = d\r\n          }) // eslint-disable-next-line\r\n          .filter(function(d) {\r\n            return d.type == 'g'\r\n          })\r\n\r\n        g.append('g')\r\n          .attr('class', 'chords')\r\n          .selectAll('.chord')\r\n          .data(chords)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', 'chord')\r\n          .append('path')\r\n          .each(function(d) {\r\n            this._current = d\r\n          })\r\n          .attr('d', chord)\r\n          .style('fill', function(d) {\r\n            return fill(d.target)\r\n          })\r\n          .style('opacity', ch.chordOpacity())\r\n          .style('stroke', function(d) {\r\n            return fill(d.target)\r\n          })\r\n          .style('display', function(d) {\r\n            return d.display ? 'inline' : 'none'\r\n          })\r\n      })\r\n    }\r\n    ch.data = function(_) {\r\n      if (!arguments.length) return data\r\n      data = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.fill = function(_) {\r\n      if (!arguments.length) return fill\r\n      fill = _\r\n      return ch\r\n    }\r\n    ch.duration = function(_) {\r\n      if (!arguments.length) return duration\r\n      duration = _\r\n      return ch\r\n    }\r\n    ch.chordOpacity = function(_) {\r\n      if (!arguments.length) return chordOpacity\r\n      chordOpacity = _\r\n      return ch\r\n    }\r\n    ch.innerRadius = function(_) {\r\n      if (!arguments.length) return innerRadius\r\n      innerRadius = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.outerRadius = function(_) {\r\n      if (!arguments.length) return outerRadius\r\n      outerRadius = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.source = function(_) {\r\n      if (!arguments.length) return source\r\n      source = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.target = function(_) {\r\n      if (!arguments.length) return target\r\n      target = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.value = function(_) {\r\n      if (!arguments.length) return value\r\n      value = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.padding = function(_) {\r\n      if (!arguments.length) return padding\r\n      padding = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.labelPadding = function(_) {\r\n      if (!arguments.length) return labelPadding\r\n      labelPadding = _\r\n      return ch\r\n    }\r\n    ch.sort = function(_) {\r\n      if (!arguments.length) return sort\r\n      sort = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.startAngle = function(_) {\r\n      if (!arguments.length) return startAngle\r\n      startAngle = _\r\n      reComputeLayout = true\r\n      return ch\r\n    }\r\n    ch.chords = function() {\r\n      if (reComputeLayout) relayout()\r\n      return chords\r\n    }\r\n    ch.groups = function() {\r\n      if (reComputeLayout) relayout()\r\n      return groups\r\n    }\r\n    ch.label = function(_) {\r\n      if (!arguments.length) return label\r\n      label = _\r\n      return ch\r\n    }\r\n    ch.mouseover = function(d) {\r\n      relayouts(d.source)\r\n      transition(1)\r\n    }\r\n    ch.mouseout = function(d) {\r\n      transition(0)\r\n    }\r\n\r\n    function transition(f) {\r\n      function arc(d, t) {\r\n        return viz_arc([innerRadius, outerRadius, d.startAngle, d.endAngle])\r\n      }\r\n      function chord(d) {\r\n        return viz_chord(\r\n          innerRadius,\r\n          d.startAngle,\r\n          d.endAngle,\r\n          innerRadius,\r\n          d.endStartAngle,\r\n          d.endEndAngle\r\n        )\r\n      }\r\n      function chordTween(a) {\r\n        var i = d3.interpolate(this._current, a)\r\n        this._current = i(0)\r\n        return function(t) {\r\n          return chord(i(t))\r\n        }\r\n      }\r\n      function arcTween(a) {\r\n        var i = d3.interpolate(this._current, a)\r\n        this._current = i(0)\r\n        return function(t) {\r\n          return arc(i(t), t)\r\n        }\r\n      }\r\n      function labelTweenx(a) {\r\n        var i = d3.interpolate(this._current, a)\r\n        this._current = i(0)\r\n        return function(t) {\r\n          return r * Math.cos(angle(i(t)))\r\n        }\r\n      }\r\n      function labelTweeny(a) {\r\n        var i = d3.interpolate(this._current, a)\r\n        this._current = i(0)\r\n        return function(t) {\r\n          return r * Math.sin(angle(i(t)))\r\n        }\r\n      }\r\n\r\n      var gp = g.selectAll('.groups').data(f ? newgroups : ch.groups())\r\n      var r = (1 + ch.labelPadding()) * ch.outerRadius()\r\n      var lbl = ch.label()\r\n\r\n      gp.select('path')\r\n        .transition()\r\n        .duration(duration)\r\n        .attrTween('d', arcTween)\r\n      // eslint-disable-next-line\r\n      gp.select('.label')\r\n        .filter(function(d) {\r\n          return d.type == 'g'\r\n        })\r\n        .transition()\r\n        .duration(duration)\r\n        .attrTween('x', labelTweenx)\r\n        .attrTween('y', labelTweeny)\r\n        .text(lbl)\r\n        .style('text-anchor', function(d) {\r\n          var a = angle(d)\r\n          return a < π2 || a > τ - π2 ? 'start' : 'end'\r\n        })\r\n\r\n      var opacity = ch.chordOpacity()\r\n\r\n      g.select('.chords')\r\n        .selectAll('.chord')\r\n        .data(f ? newchords : ch.chords())\r\n        .select('path')\r\n        .transition()\r\n        .duration(duration)\r\n        .attrTween('d', chordTween)\r\n        .style('opacity', function(d) {\r\n          return d.display ? opacity : 0\r\n        })\r\n    }\r\n    function angle(d) {\r\n      return viz_reduceAngle((d.startAngle + d.endAngle) / 2)\r\n    } // eslint-disable-next-line\r\n    function isBottom(d) {\r\n      return angle(d) < 1.5 * π && angle(d) >= 0.5 * π ? 1 : 0\r\n    }\r\n    function relayout() {\r\n      keys = []\r\n      data.forEach(function(d) {\r\n        // eslint-disable-next-line\r\n        if (keys.indexOf(source(d)) == -1) keys.push(source(d)) // eslint-disable-next-line\r\n        if (keys.indexOf(target(d)) == -1) keys.push(target(d))\r\n      })\r\n      keys = keys.sort(sort)\r\n\r\n      subgrp = {}\r\n      chordExist = {}\r\n      keys.forEach(function(k) {\r\n        subgrp[k] = {}\r\n        chordExist[k] = {}\r\n        keys.forEach(function(l) {\r\n          subgrp[k][l] = 0\r\n          chordExist[k][l] = false\r\n        })\r\n      })\r\n\r\n      data.forEach(function(d) {\r\n        var s = source(d),\r\n          t = target(d)\r\n        subgrp[s][t] += value(d)\r\n        chordExist[s][t] = true\r\n      })\r\n\r\n      groups = []\r\n\r\n      keys.forEach(function(k, i) {\r\n        //if(chordExist[k][k])\r\n        groups.push({\r\n          source: k,\r\n          type: 'gs',\r\n          value: 0,\r\n          skipPad: true,\r\n          index: i\r\n        })\r\n        groups.push({\r\n          source: k,\r\n          type: 'g',\r\n          value: d3.sum(keys, function(d) {\r\n            return subgrp[k][d]\r\n          }),\r\n          skipPad: false,\r\n          index: i\r\n        })\r\n      })\r\n      viz_circularPartition(groups, padding, min, undefined, startAngle)\r\n      chords = [] // eslint-disable-next-line\r\n      groups\r\n        .filter(function(g) {\r\n          return g.type == 'g'\r\n        })\r\n        .forEach(function(g, gi) {\r\n          var gia = viz_shiftarray(keys.length, gi)\r\n\r\n          var grpbarsgia = viz_getbars(\r\n            gia.map(function(d) {\r\n              return subgrp[g.source][keys[d]]\r\n            }),\r\n            0,\r\n            0,\r\n            g.startAngle,\r\n            g.endAngle\r\n          )\r\n\r\n          gia.forEach(function(si, i) {\r\n            var t1 = grpbarsgia[i]\r\n            //if(chordExist[g.source][keys[si]])\r\n            chords.push({\r\n              startAngle: t1.c - t1.v / 2,\r\n              endAngle: t1.c + t1.v / 2,\r\n              value: t1.value,\r\n              source: g.source,\r\n              target: keys[si],\r\n              type: 'c',\r\n              display: chordExist[g.source][keys[si]],\r\n              index: gi,\r\n              subindex: si,\r\n              indexsubindex: gi + '-' + si\r\n            })\r\n          })\r\n        })\r\n      var m = d3.map(chords, function(d) {\r\n        return d.indexsubindex\r\n      })\r\n      chords.forEach(function(d) {\r\n        // eslint-disable-next-line\r\n        if (d.subindex == d.index) {\r\n          d.endStartAngle = d.startAngle\r\n          d.endEndAngle = d.startAngle\r\n          return\r\n        }\r\n        var z = m.get(d.subindex + '-' + d.index)\r\n        d.endStartAngle = z.startAngle\r\n        d.endEndAngle = z.startAngle\r\n      })\r\n      reComputeLayout = false\r\n    }\r\n    function relayouts(fixedSource) {\r\n      // eslint-disable-next-line\r\n      var fg = groups.filter(function(g) {\r\n        return g.source == fixedSource && g.type == 'g'\r\n      })[0]\r\n      newgroups = []\r\n\r\n      keys.forEach(function(k, i) {\r\n        newgroups.push({\r\n          source: k,\r\n          startAngle: fg.startAngle,\r\n          endAngle: fg.endAngle,\r\n          padAngle: fg.padAngle,\r\n          percent: fg.percent,\r\n          type: 'gs', // eslint-disable-next-line\r\n          value: k == fixedSource ? subgrp[k][k] : 0, // eslint-disable-next-line\r\n          skipPad: k == fixedSource && chordExist[k][k] ? false : true,\r\n          index: i\r\n        }) // eslint-disable-next-line\r\n        if (k == fixedSource)\r\n          newgroups.push({\r\n            source: k,\r\n            startAngle: fg.startAngle,\r\n            endAngle: fg.endAngle,\r\n            padAngle: fg.padAngle,\r\n            percent: fg.percent,\r\n            type: 'g',\r\n            value: fg.value,\r\n            skipPad: false,\r\n            index: i\r\n          })\r\n        else\r\n          newgroups.push({\r\n            source: k,\r\n            type: 'g',\r\n            value: subgrp[fixedSource][k],\r\n            skipPad: false,\r\n            index: i\r\n          })\r\n      })\r\n\r\n      viz_circularPartition(newgroups, padding, min, fixedSource, startAngle)\r\n\r\n      function mid(z) {\r\n        return z.endAngle + z.startAngle\r\n      }\r\n      var sm = mid(fg)\r\n      groups.forEach(function(g, i) {\r\n        var g1 = newgroups[i]\r\n        var f = mid(g) < sm\r\n        g1.startAngle -= f ? τ : 0\r\n        g1.endAngle -= f ? τ : 0\r\n      })\r\n\r\n      newchords = [] // eslint-disable-next-line\r\n      newgroups\r\n        .filter(function(g) {\r\n          return g.type == 'g'\r\n        })\r\n        .forEach(function(g, gi) {\r\n          var gia = viz_shiftarray(keys.length, gi)\r\n\r\n          var a0 = gia.map(function(d) {\r\n            var k = keys[d] // eslint-disable-next-line\r\n            return g.source == fixedSource\r\n              ? subgrp[g.source][k]\r\n              : k == fixedSource\r\n              ? subgrp[k][g.source]\r\n              : 0\r\n          })\r\n\r\n          var grpbarsgia = viz_getbars(a0, 0, 0, g.startAngle, g.endAngle)\r\n\r\n          gia.forEach(function(si, i) {\r\n            var t1 = grpbarsgia[i]\r\n            newchords.push({\r\n              startAngle: t1.c - t1.v / 2,\r\n              endAngle: t1.c + t1.v / 2,\r\n              value: t1.value,\r\n              source: g.source,\r\n              target: keys[si],\r\n              type: 'c',\r\n              display: g.source === fixedSource,\r\n              index: gi,\r\n              subindex: si,\r\n              indexsubindex: gi + '-' + si\r\n            })\r\n          })\r\n        })\r\n      var m = d3.map(\r\n        newchords.map(function(d) {\r\n          return {\r\n            startAngle: d.startAngle,\r\n            endAngle: d.endAngle,\r\n            indexsubindex: d.indexsubindex\r\n          }\r\n        }),\r\n        function(d) {\r\n          return d.indexsubindex\r\n        }\r\n      ) // eslint-disable-next-line\r\n      var gmap = d3.map(\r\n        newgroups.filter(function(d) {\r\n          return d.type == 'gs'\r\n        }),\r\n        function(d) {\r\n          return d.source\r\n        }\r\n      )\r\n\r\n      newchords.forEach(function(d) {\r\n        // eslint-disable-next-line\r\n        if (d.subindex == d.index) {\r\n          var g0 = gmap.get(d.source)\r\n          d.endStartAngle = g0.startAngle\r\n          d.endEndAngle = g0.endAngle\r\n          return\r\n        }\r\n        var z = m.get(d.subindex + '-' + d.index)\r\n        d.endStartAngle = z.startAngle\r\n        d.endEndAngle = z.endAngle\r\n        if (d.source !== fixedSource) {\r\n          d.startAngle = d.endAngle\r\n          d.endEndAngle = d.endStartAngle\r\n        }\r\n      })\r\n    }\r\n    function viz_circularPartition(data, pad, min, fixedSource, startAngle) {\r\n      var fixed = fixedSource !== undefined,\r\n        ind = 0\r\n\r\n      if (fixed) {\r\n        var found = false\r\n        for (; ind < data.length; ind++) {\r\n          // eslint-disable-next-line\r\n          if (data[ind].source == fixedSource && data[ind].type == 'g') {\r\n            found = true\r\n            break\r\n          }\r\n        }\r\n        if (!found)\r\n          console.log(\r\n            \"The fixed source '\" + fixedSource + \"' is not a valid key\"\r\n          )\r\n      }\r\n      var dorder = d3.range(data.length)\r\n      if (fixed) dorder = dorder.slice(ind).concat(dorder.slice(0, ind))\r\n      // eslint-disable-next-line\r\n      var a0 = data\r\n        .filter(function(d) {\r\n          return (\r\n            (!fixed || d.source !== fixedSource || d.type != 'g') && !d.skipPad\r\n          )\r\n        })\r\n        .map(function(d) {\r\n          return d.value\r\n        })\r\n\r\n      var ta =\r\n        2 * Math.PI -\r\n        (fixed ? data[ind].endAngle - data[ind].startAngle + 2 * pad : 0)\r\n\r\n      var x = fixed ? data[ind].endAngle + pad : startAngle,\r\n        total = d3.sum(a0)\r\n      var r = viz_getratio(\r\n        a0,\r\n        pad,\r\n        min,\r\n        ta <= 0 ? 0 : ta,\r\n        total,\r\n        fixed ? true : false\r\n      )\r\n\r\n      dorder.slice(fixed ? 1 : 0).forEach(function(i) {\r\n        var v = r * data[i].value\r\n        var w = (v < min ? min - v : 0) / 2\r\n\r\n        data[i].startAngle = x\r\n        data[i].endAngle = x + v\r\n        data[i].padAngle = w\r\n        data[i].percent = data[i].value / (total || 1)\r\n\r\n        x += v + w + (data[i].skipPad ? 0 : pad)\r\n      })\r\n    }\r\n\r\n    return ch\r\n  }\r\n  viz.defs = function(_) {\r\n    var defs = {},\r\n      sel = _\r\n    defs.sel = function() {\r\n      return sel\r\n    }\r\n    defs.lG = function() {\r\n      sel = sel.append('linearGradient')\r\n      return defs\r\n    }\r\n    defs.rG = function() {\r\n      sel = sel.append('radialGradient')\r\n      return defs\r\n    }\r\n    defs.stop = function() {\r\n      sel = sel.append('stop')\r\n      return defs\r\n    }\r\n    defs.filter = function() {\r\n      sel = sel.append('filter')\r\n      return defs\r\n    }\r\n    defs.feFlood = function() {\r\n      sel = sel.append('feFlood')\r\n      return defs\r\n    }\r\n    defs.feComposite = function() {\r\n      sel = sel.append('feComposite')\r\n      return defs\r\n    }\r\n    defs.feOffset = function() {\r\n      sel = sel.append('feOffset')\r\n      return defs\r\n    }\r\n    defs.feGaussianBlur = function() {\r\n      sel = sel.append('feGaussianBlur')\r\n      return defs\r\n    }\r\n    defs.result = function(_) {\r\n      sel = sel.attr('result', _)\r\n      return defs\r\n    }\r\n    defs.floodColor = function(_) {\r\n      sel = sel.attr('flood-color', _)\r\n      return defs\r\n    }\r\n    defs.floodOpacity = function(_) {\r\n      sel = sel.attr('flood-opacity', _)\r\n      return defs\r\n    }\r\n    defs.stdDeviation = function(_) {\r\n      sel = sel.attr('stdDeviation', _)\r\n      return defs\r\n    }\r\n    defs.operator = function(_) {\r\n      sel = sel.attr('operator', _)\r\n      return defs\r\n    }\r\n    defs.height = function(_) {\r\n      sel = sel.attr('height', _)\r\n      return defs\r\n    }\r\n    defs.width = function(_) {\r\n      sel = sel.attr('width', _)\r\n      return defs\r\n    }\r\n    defs.in = function(_) {\r\n      sel = sel.attr('in', _)\r\n      return defs\r\n    }\r\n    defs.in2 = function(_) {\r\n      sel = sel.attr('in2', _)\r\n      return defs\r\n    }\r\n    defs.id = function(_) {\r\n      sel = sel.attr('id', _)\r\n      return defs\r\n    }\r\n    defs.fx = function(_) {\r\n      sel = sel.attr('fx', _)\r\n      return defs\r\n    }\r\n    defs.fy = function(_) {\r\n      sel = sel.attr('fy', _)\r\n      return defs\r\n    }\r\n    defs.dx = function(_) {\r\n      sel = sel.attr('dx', _)\r\n      return defs\r\n    }\r\n    defs.dy = function(_) {\r\n      sel = sel.attr('dy', _)\r\n      return defs\r\n    }\r\n    defs.x1 = function(_) {\r\n      sel = sel.attr('x1', _)\r\n      return defs\r\n    }\r\n    defs.y1 = function(_) {\r\n      sel = sel.attr('y1', _)\r\n      return defs\r\n    }\r\n    defs.x2 = function(_) {\r\n      sel = sel.attr('x2', _)\r\n      return defs\r\n    }\r\n    defs.y2 = function(_) {\r\n      sel = sel.attr('y2', _)\r\n      return defs\r\n    }\r\n    defs.x = function(_) {\r\n      sel = sel.attr('x', _)\r\n      return defs\r\n    }\r\n    defs.y = function(_) {\r\n      sel = sel.attr('y', _)\r\n      return defs\r\n    }\r\n    defs.r = function(_) {\r\n      sel = sel.attr('r', _)\r\n      return defs\r\n    }\r\n    defs.spreadMethod = function(_) {\r\n      sel = sel.attr('spreadMethod', _)\r\n      return defs\r\n    }\r\n    defs.gradientUnits = function(_) {\r\n      sel = sel.attr('gradientUnits', _)\r\n      return defs\r\n    }\r\n    defs.xlink = function(_) {\r\n      sel = sel.attr('xlink:href', _)\r\n      return defs\r\n    }\r\n    defs.offset = function(_) {\r\n      sel = sel.attr('offset', _)\r\n      return defs\r\n    }\r\n    defs.stopColor = function(_) {\r\n      sel = sel.attr('stop-color', _)\r\n      return defs\r\n    }\r\n    defs.path = function() {\r\n      sel = sel.append('path')\r\n      return defs\r\n    }\r\n    defs.d = function(_) {\r\n      sel = sel.attr('d', _)\r\n      return defs\r\n    }\r\n    return defs\r\n  }\r\n  viz.bar = function() {\r\n    function bar(_) {\r\n      this.g = _\r\n      _.each(function() {\r\n        var g = d3.select(this)\r\n\r\n        var bars = bar.bars()\r\n        var dock = bar.dock() // eslint-disable-next-line\r\n        var top_ = dock == 't',\r\n          bot = dock == 'b',\r\n          left = dock == 'l',\r\n          rght = dock == 'r' // eslint-disable-next-line\r\n        var topbot = dock == 't' || dock == 'b'\r\n\r\n        var primaryBars = g\r\n          .selectAll('.primarybars')\r\n          .data(bars)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', 'primaryBars')\r\n          .attr('transform', function(d) {\r\n            return 'translate(' + d.x + ',' + d.y + ')'\r\n          })\r\n\r\n        var secondaryBars = primaryBars\r\n          .selectAll('.secondaryBars')\r\n          .data(function(d) {\r\n            return d.values\r\n          })\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', 'secondaryBars')\r\n          .attr('transform', function(d) {\r\n            return 'translate(' + d.x + ',' + d.y + ')'\r\n          })\r\n\r\n        var fill = bar.fill()\r\n\r\n        var s = secondaryBars\r\n          .append('rect')\r\n          .attr('width', viz_width)\r\n          .attr('height', viz_height)\r\n\r\n        var l = bar.paddingLabel()\r\n\r\n        if (fill !== undefined) s.style('fill', fill)\r\n        primaryBars\r\n          .append('text')\r\n          .attr('class', 'primaryvalue')\r\n          .attr('x', function(d) {\r\n            return d.wf * d.width\r\n          })\r\n          .attr('y', function(d) {\r\n            return d.hf * d.height\r\n          })\r\n          .attr('dx', function(d) {\r\n            return 2 * l * (d.wf - 0.5)\r\n          })\r\n          .attr('dy', function(d) {\r\n            return topbot ? (d.hf ? 3 * l : -l) : l\r\n          })\r\n          .style('text-anchor', function(d) {\r\n            return topbot ? 'middle' : d.wf ? 'start' : 'end'\r\n          })\r\n          .text(bar.valuePrimary())\r\n\r\n        primaryBars\r\n          .append('text')\r\n          .attr('class', 'primarykey')\r\n          .attr('x', function(d) {\r\n            return (1 - d.wf) * d.width\r\n          })\r\n          .attr('y', function(d) {\r\n            return (1 - d.hf) * d.height\r\n          })\r\n          .attr('dx', function(d) {\r\n            return !topbot ? (d.wf ? -l : l) : 0\r\n          })\r\n          .attr('dy', function(d) {\r\n            return topbot ? (d.hf ? -l : 3 * l) : l\r\n          })\r\n          .style('text-anchor', function(d) {\r\n            return topbot ? 'middle' : d.wf ? 'end' : 'start'\r\n          })\r\n          .text(viz_key)\r\n\r\n        secondaryBars\r\n          .append('text')\r\n          .attr('class', 'secondaryvalue')\r\n          .attr('x', viz_width2)\r\n          .attr('y', viz_height2)\r\n          .attr('dy', l)\r\n          .text(bar.valueSecondary())\r\n          .style('text-anchor', 'middle')\r\n      })\r\n    }\r\n    bar.data = viz_assign(bar)\r\n    bar.width = viz_assign_default(bar, 400)\r\n    bar.height = viz_assign_default(bar, 400)\r\n    bar.dock = viz_assign_default(bar, 'b')\r\n    bar.fill = viz_assign_default(bar, undefined)\r\n    bar.paddingInner = viz_assign_default(bar, 0.1)\r\n    bar.paddingOuter = viz_assign_default(bar, 0.1)\r\n    bar.paddingLabel = viz_assign_default(bar, 6)\r\n    bar.value = viz_assign_default(bar, viz_d1)\r\n    bar.keyPrimary = viz_assign_default(bar, viz_d0)\r\n    bar.keySecondary = viz_assign_default(bar, undefined)\r\n    bar.sortPrimary = viz_assign_default(bar, d3.ascending)\r\n    bar.sortSecondary = viz_assign_default(bar, d3.ascending)\r\n    bar.valuePrimary = viz_assign_default(bar, viz_value)\r\n    bar.valueSecondary = viz_assign_default(bar, viz_value)\r\n    bar.valueDomain = viz_assign_default(bar, undefined)\r\n    bar.primaryKeys = function() {\r\n      return d3\r\n        .set(this.data, bar.keyPrimary())\r\n        .values()\r\n        .sort(bar.sortPrimary())\r\n    }\r\n    bar.keyScale = function() {\r\n      var dock = bar.dock()\r\n      var range = {\r\n        l: bar.height(),\r\n        r: bar.height(),\r\n        t: bar.width(),\r\n        b: bar.width()\r\n      }\r\n\r\n      return d3\r\n        .scaleBand()\r\n        .domain(bar.primaryKeys())\r\n        .range([0, range[dock]])\r\n        .paddingInner(bar.paddingInner())\r\n        .paddingOuter(bar.paddingOuter())\r\n    }\r\n    function nest() {\r\n      var noSecondary = bar.keySecondary() === undefined\r\n      var ps = d3\r\n        .nest()\r\n        .key(bar.keyPrimary())\r\n        .sortKeys(bar.sortPrimary())\r\n\r\n      if (!noSecondary)\r\n        ps = ps.key(bar.keySecondary()).sortKeys(bar.sortSecondary())\r\n\r\n      var v = bar.value()\r\n      ps = ps\r\n        .rollup(function(d) {\r\n          return d3.sum(d, v)\r\n        })\r\n        .entries(bar.data())\r\n      if (noSecondary)\r\n        ps.forEach(function(d) {\r\n          d.values = [{ value: d.value }]\r\n          delete d.value\r\n        })\r\n      return ps\r\n    }\r\n    bar.valueScale = function() {\r\n      var dock = bar.dock() // eslint-disable-next-line\r\n      var bot = dock == 'b',\r\n        left = dock == 'l',\r\n        rght = dock == 'r'\r\n      var h = bar.height(),\r\n        w = bar.width()\r\n      var range = left ? [0, w] : rght ? [w, 0] : bot ? [h, 0] : [0, h]\r\n\r\n      var domain = bar.valueDomain() // eslint-disable-next-line\r\n      if (domain == undefined) {\r\n        var ps = nest()\r\n        var min = d3.min(ps, function(d) {\r\n          return d3.sum(d.values, viz_value)\r\n        })\r\n        var max = d3.max(ps, function(d) {\r\n          return d3.sum(d.values, viz_value)\r\n        })\r\n        domain = [Math.min(0, min), max]\r\n      }\r\n\r\n      return d3\r\n        .scaleLinear()\r\n        .domain(domain)\r\n        .range(range)\r\n    }\r\n    bar.bars = function() {\r\n      // eslint-disable-next-line\r\n      var data = bar.data()\r\n      var h = bar.height(),\r\n        w = bar.width()\r\n      var dock = bar.dock() // eslint-disable-next-line\r\n      var top_ = dock == 't',\r\n        bot = dock == 'b',\r\n        left = dock == 'l',\r\n        rght = dock == 'r' // eslint-disable-next-line\r\n      var topbot = dock == 't' || dock == 'b'\r\n      var ps = nest()\r\n      var keyScale = bar.keyScale()\r\n\r\n      var domain = bar.valueDomain()\r\n      var range = left ? [0, w] : rght ? [w, 0] : bot ? [h, 0] : [0, h] // eslint-disable-next-line\r\n      if (domain == undefined) {\r\n        var min = d3.min(ps, function(d) {\r\n          return d3.sum(d.values, viz_value)\r\n        })\r\n        var max = d3.max(ps, function(d) {\r\n          return d3.sum(d.values, viz_value)\r\n        })\r\n        domain = [Math.min(0, min), max]\r\n      }\r\n\r\n      var valueScale = d3\r\n        .scaleLinear()\r\n        .domain(domain)\r\n        .range(range)\r\n      var bw = keyScale.bandwidth()\r\n      var d0 = valueScale(0)\r\n      ps.forEach(function(d) {\r\n        d.value = d3.sum(d.values, viz_value)\r\n        var d1 = valueScale(d.value),\r\n          absd = Math.abs(d1 - d0),\r\n          mind = Math.min(d0, d1)\r\n\r\n        d.width = topbot ? bw : absd\r\n        d.height = !topbot ? bw : absd\r\n        d.x = topbot ? keyScale(d.key) : mind\r\n        d.y = !topbot ? keyScale(d.key) : mind\r\n        d.wf = topbot ? 0.5 : left ? (d.value < 0 ? 0 : 1) : d.value < 0 ? 1 : 0\r\n        d.hf = !topbot ? 0.5 : bot ? (d.value < 0 ? 1 : 0) : d.value < 0 ? 0 : 1\r\n\r\n        var z = bot ? 0 : rght ? 0 : 0\r\n        d.values.forEach(function(v) {\r\n          v.primaryKey = d.key\r\n          v.secondaryKey = v.key\r\n          delete v.key\r\n          var v0 = valueScale(z),\r\n            v1 = valueScale((z += v.value)),\r\n            absv = Math.abs(v1 - v0),\r\n            minv = Math.min(v0, v1)\r\n\r\n          v.width = !topbot ? absv : bw\r\n          v.height = topbot ? absv : bw\r\n          v.x = !topbot ? minv - d.x : 0\r\n          v.y = topbot ? minv - d.y : 0\r\n        })\r\n      })\r\n      return ps\r\n    }\r\n    return bar\r\n  }\r\n  viz.lg = function() {\r\n    function lg(_) {\r\n      this.g = _\r\n      _.each(function() {\r\n        var g = d3.select(this)\r\n\r\n        var rows = lg.rows(),\r\n          data = lg.data() // eslint-disable-next-line\r\n        rows = rows == undefined ? data.length : Math.min(rows, data.length)\r\n        var cols = Math.ceil(data.length / rows)\r\n\r\n        var rowScale = d3\r\n          .scaleBand()\r\n          .domain(d3.range(rows))\r\n          .range([0, lg.height()])\r\n          .paddingInner(lg.paddingInner())\r\n        var colScale = d3\r\n          .scaleBand()\r\n          .domain(d3.range(cols))\r\n          .range([0, lg.width()])\r\n        // eslint-disable-next-line\r\n        var size = lg.size(),\r\n          cellHeight = rowScale.bandwidth(),\r\n          cellWidth = colScale.bandwidth(),\r\n          paddingLabel = lg.paddingLabel()\r\n\r\n        var loc = d3.range(data.length).map(function(k) {\r\n          var x = k % cols,\r\n            y = (k - x) / cols\r\n          return {\r\n            x: colScale(x),\r\n            y: rowScale(y),\r\n            width: size,\r\n            height: cellHeight,\r\n            key: data[k]\r\n          }\r\n        })\r\n\r\n        var legendg = g\r\n          .selectAll('.legendg')\r\n          .data(loc, function(d) {\r\n            return d.key\r\n          })\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', 'legendg')\r\n          .attr('transform', function(d) {\r\n            return 'translate(' + d.x + ',' + d.y + ')'\r\n          })\r\n\r\n        legendg\r\n          .append('text')\r\n          .attr('x', function(d) {\r\n            return size + paddingLabel\r\n          })\r\n          .attr('y', function(d) {\r\n            return d.height / 2\r\n          })\r\n          .attr('dy', 6)\r\n          .text(function(d) {\r\n            return d.key\r\n          })\r\n\r\n        legendg.each(lg.draw())\r\n        var fill = lg.fill()\r\n        if (fill !== undefined) {\r\n          legendg.selectAll('.legend-icon').style('fill', fill)\r\n        }\r\n      })\r\n    }\r\n\r\n    lg.data = viz_assign(lg)\r\n    lg.rows = viz_assign_default(lg, undefined)\r\n    lg.width = viz_assign_default(lg, 100)\r\n    lg.height = viz_assign_default(lg, 200)\r\n    lg.paddingInner = viz_assign_default(lg, 0.1)\r\n    lg.paddingLabel = viz_assign_default(lg, 6)\r\n    lg.size = viz_assign_default(lg, 12)\r\n    lg.fill = viz_assign_default(lg, undefined)\r\n    lg.rect = function(d) {\r\n      d3.select(this)\r\n        .append('rect')\r\n        .attr('class', 'legend-icon')\r\n        .attr('height', viz_height)\r\n        .attr('width', viz_width)\r\n    }\r\n    lg.circle = function(d) {\r\n      d3.select(this)\r\n        .append('circle')\r\n        .attr('class', 'legend-icon')\r\n        .attr('r', Math.min(d.height, d.width))\r\n        .attr('cx', viz_width2)\r\n        .attr('cy', viz_height2)\r\n    }\r\n    lg.draw = viz_assign_default(lg, lg.rect)\r\n    return lg\r\n  } // eslint-disable-next-line\r\n  function viz_d(d) {\r\n    return d\r\n  }\r\n  function viz_d0(d) {\r\n    return d[0]\r\n  }\r\n  function viz_d1(d) {\r\n    return d[1]\r\n  } // eslint-disable-next-line\r\n  function viz_x(d) {\r\n    return d.x\r\n  } // eslint-disable-next-line\r\n  function viz_y(d) {\r\n    return d.y\r\n  }\r\n  function viz_height(d) {\r\n    return d.height\r\n  }\r\n  function viz_width(d) {\r\n    return d.width\r\n  }\r\n  function viz_height2(d) {\r\n    return d.height / 2\r\n  }\r\n  function viz_width2(d) {\r\n    return d.width / 2\r\n  }\r\n  function viz_key(d) {\r\n    return d.key\r\n  }\r\n  function viz_value(d) {\r\n    return d.value\r\n  }\r\n\r\n  function viz_assign(o) {\r\n    var x\r\n    return function(_) {\r\n      if (!arguments.length) return x\r\n      x = _\r\n      return o\r\n    }\r\n  }\r\n  function viz_assign_default(o, d) {\r\n    var x\r\n    return function(_) {\r\n      if (!arguments.length) return typeof x !== 'undefined' ? x : d\r\n      x = _\r\n      return o\r\n    }\r\n  }\r\n\r\n  function viz_reduceAngle(a) {\r\n    while (a > τ) a -= τ\r\n    while (a < 0) a += τ\r\n    return a\r\n  } // eslint-disable-next-line\r\n  function viz_polar(r, a) {\r\n    return { x: r * Math.cos(a), y: r * Math.sin(a) }\r\n  }\r\n  function viz_getratio(a0, p, m, h, tt, f) {\r\n    if (tt <= 0 || h <= 0) return 0\r\n    var a = a0.concat().sort(d3.ascending)\r\n    var h0 = h - a.length * p + (f ? p : 0)\r\n    var ret = [],\r\n      r = 0,\r\n      t = 0\r\n\r\n    d3.range(a.length).forEach(function(d) {\r\n      t = (h0 - m * d) / (tt -= a[d - 1] || 0)\r\n      r += a[d] * t <= m ? 1 : 0\r\n      ret.push(t)\r\n    })\r\n    return ret[r]\r\n  }\r\n  function viz_getbars(a, p, m, h0, h1) {\r\n    var x = h0,\r\n      total = d3.sum(a)\r\n    var r = viz_getratio(a, p, m, h1 - h0, total, false)\r\n    var s = a.map(function(d) {\r\n      var v = r * d\r\n      var w = (v < m ? m : v) / 2\r\n      x += 2 * w + p\r\n      return { c: x - w, v: v, w: w, value: d, percent: d / (total || 1) }\r\n    })\r\n    return s\r\n  }\r\n  function viz_arc(x) {\r\n    function polar(r, t) {\r\n      return [r * Math.cos(t), r * Math.sin(t)]\r\n    }\r\n    var ss = polar(x[0], x[2]),\r\n      se = polar(x[0], x[3]),\r\n      es = polar(x[1], x[2]),\r\n      ee = polar(x[1], x[3])\r\n    return [\r\n      'M',\r\n      ss,\r\n      'A',\r\n      x[0],\r\n      x[0],\r\n      '0',\r\n      x[3] - x[2] > π ? 1 : 0,\r\n      '1',\r\n      se,\r\n      'L',\r\n      ee,\r\n      'A',\r\n      x[1],\r\n      x[1],\r\n      '0',\r\n      x[3] - x[2] > π ? 1 : 0,\r\n      '0',\r\n      es,\r\n      'z'\r\n    ].join(' ')\r\n  }\r\n  function viz_chord(rs, ss, se, re, es, ee) {\r\n    var pss = p(rs, ss),\r\n      pse = p(rs, se),\r\n      pes = p(re, es),\r\n      pee = p(re, ee)\r\n\r\n    return (\r\n      'M' +\r\n      pss +\r\n      arc(rs, pse, se - ss) + // eslint-disable-next-line\r\n      (ss == es && se == ee\r\n        ? curve(pss, ss, se, re)\r\n        : curve(pes, se, es, re) +\r\n          arc(re, pee, ee - es) +\r\n          curve(pss, ss, ee, rs)) +\r\n      'Z'\r\n    )\r\n\r\n    function arc(r, p, a) {\r\n      return 'A' + r + ',' + r + ' 0 ' + +(a > π) + ',1 ' + p\r\n    }\r\n    function p(r, a) {\r\n      return [r * Math.cos(a), r * Math.sin(a)]\r\n    } // eslint-disable-next-line\r\n    function eq(a, b) {\r\n      return a.a0 == b.a0 && a.a1 == b.a1\r\n    }\r\n    function curve(p1, a0, a1, r) {\r\n      a1 = a1 + (a1 < a0 ? τ : 0)\r\n      var a = a1 - a0\r\n      var t = 1 - (a > π ? τ - a : a) / π\r\n      t = Math.pow(t, 5)\r\n      var a2 = (a1 + a0) / 2 - (a1 - a0 > π ? π : 0)\r\n      return 'Q' + t * r * Math.cos(a2) + ',' + t * r * Math.sin(a2) + ' ' + p1\r\n    }\r\n  }\r\n\r\n  function viz_shiftarray(n, i) {\r\n    var ret = []\r\n    for (var s = i; s > i - n; s--) {\r\n      ret.push(s < 0 ? s + n : s)\r\n    }\r\n    return ret\r\n  }\r\n  return viz\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}